<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>H√≥a H·ªçc H·ªØu C∆° - Ch∆∞∆°ng 5</title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Font Awesome -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />
    <!-- Google Fonts -->
    <link
      href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;600;700;800&display=swap"
      rel="stylesheet"
    />
    <script>
      tailwind.config = {
        theme: {
          extend: {
            fontFamily: {
              sans: ["Nunito", "sans-serif"],
            },
            colors: {
              chemBlue: "#3B82F6",
              chemGreen: "#10B981",
              chemPurple: "#8B5CF6",
              chemRed: "#EF4444",
              glass: "rgba(255, 255, 255, 0.9)",
            },
          },
        },
      };
    </script>
    <style>
      body {
        background: linear-gradient(135deg, #e0f2fe 0%, #f0fdf4 100%);
        min-height: 100vh;
      }

      /* Custom Scrollbar */
      ::-webkit-scrollbar {
        width: 8px;
      }
      ::-webkit-scrollbar-track {
        background: #f1f1f1;
      }
      ::-webkit-scrollbar-thumb {
        background: #cbd5e1;
        border-radius: 4px;
      }
      ::-webkit-scrollbar-thumb:hover {
        background: #94a3b8;
      }

      /* Animations */
      @keyframes float {
        0% {
          transform: translateY(0px);
        }
        50% {
          transform: translateY(-10px);
        }
        100% {
          transform: translateY(0px);
        }
      }
      .animate-float {
        animation: float 3s ease-in-out infinite;
      }

      .molecule-node {
        transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
      }

      .fade-in {
        animation: fadeIn 0.5s ease-in;
      }

      @keyframes fadeIn {
        from {
          opacity: 0;
          transform: translateY(10px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      /* Chemical Bond Lines */
      .bond {
        height: 4px;
        background: #94a3b8;
        transition: all 0.3s;
      }

      /* Reaction Area */
      .beaker {
        width: 100px;
        height: 140px;
        border: 4px solid #475569;
        border-top: none;
        border-radius: 0 0 20px 20px;
        position: relative;
        margin: 0 auto;
        overflow: hidden;
        background: rgba(255, 255, 255, 0.5);
      }
      .liquid {
        position: absolute;
        bottom: 0;
        left: 0;
        width: 100%;
        height: 40%;
        background: #bae6fd;
        transition: all 1s ease;
      }
      .precipitate {
        position: absolute;
        bottom: 10px;
        left: 50%;
        transform: translateX(-50%);
        width: 80%;
        height: 0;
        background: white;
        opacity: 0.9;
        transition: height 1s ease;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 10px;
        color: #333;
      }

      .tab-btn.active {
        background-color: white;
        color: #3b82f6;
        border-left: 4px solid #3b82f6;
        box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
      }
    </style>
  </head>
  <body
    class="text-slate-700 overflow-hidden h-screen flex flex-col md:flex-row"
  >
    <!-- Mobile Header -->
    <div
      class="md:hidden bg-white p-4 shadow-md flex justify-between items-center z-50 relative"
    >
      <h1 class="text-xl font-bold text-chemBlue">H√≥a H·ªçc 11 - Ch∆∞∆°ng 5</h1>
      <button onclick="toggleMenu()" class="text-slate-600 focus:outline-none">
        <i class="fas fa-bars text-2xl"></i>
      </button>
    </div>

    <!-- Sidebar Navigation -->
    <nav
      id="sidebar"
      class="transform -translate-x-full md:translate-x-0 transition-transform duration-300 fixed md:relative z-40 w-64 h-full bg-slate-50 border-r border-slate-200 flex flex-col shadow-lg md:shadow-none"
    >
      <div class="p-6 border-b border-slate-200 hidden md:block">
        <h1
          class="text-2xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-blue-500 to-teal-400"
        >
          CHEMISTRY 11
        </h1>
        <p class="text-xs text-slate-400 mt-1">
          D·∫´n xu·∫•t Halogen - Alcohol - Phenol
        </p>
      </div>

      <div class="flex-1 overflow-y-auto py-4">
        <ul class="space-y-1">
          <li>
            <button
              onclick="showSection('intro')"
              class="tab-btn active w-full text-left px-6 py-3 font-semibold text-slate-600 hover:bg-white hover:text-chemBlue transition-colors flex items-center gap-3"
            >
              <i class="fas fa-atom w-6"></i> T·ªïng Quan
            </button>
          </li>
          <li>
            <button
              onclick="showSection('halogen')"
              class="tab-btn w-full text-left px-6 py-3 font-semibold text-slate-600 hover:bg-white hover:text-chemPurple transition-colors flex items-center gap-3"
            >
              <i class="fas fa-flask w-6"></i> I. D·∫´n xu·∫•t Halogen
            </button>
          </li>
          <li>
            <button
              onclick="showSection('alcohol')"
              class="tab-btn w-full text-left px-6 py-3 font-semibold text-slate-600 hover:bg-white hover:text-chemBlue transition-colors flex items-center gap-3"
            >
              <i class="fas fa-wine-bottle w-6"></i> II. Alcohol
            </button>
          </li>
          <li>
            <button
              onclick="showSection('phenol')"
              class="tab-btn w-full text-left px-6 py-3 font-semibold text-slate-600 hover:bg-white hover:text-chemRed transition-colors flex items-center gap-3"
            >
              <i class="fas fa-bacterium w-6"></i> III. Phenol
            </button>
          </li>
          <li>
            <button
              onclick="showSection('quiz')"
              class="tab-btn w-full text-left px-6 py-3 font-semibold text-slate-600 hover:bg-white hover:text-emerald-500 transition-colors flex items-center gap-3"
            >
              <i class="fas fa-clipboard-question w-6"></i> Luy·ªán T·∫≠p (Quiz)
            </button>
          </li>
        </ul>
      </div>

      <div
        class="p-4 border-t border-slate-200 text-center text-xs text-slate-400"
      >
        Interactive Chemistry Learning
      </div>
    </nav>

    <!-- Main Content Area -->
    <main
      class="flex-1 h-full overflow-y-auto bg-slate-100 p-4 md:p-8 relative"
      onclick="closeMenu()"
    >
      <!-- SECTION: INTRO -->
      <section
        id="intro"
        class="section-content max-w-5xl mx-auto fade-in block"
      >
        <div
          class="bg-white rounded-3xl p-8 shadow-xl mb-6 relative overflow-hidden"
        >
          <div
            class="absolute top-0 right-0 w-64 h-64 bg-blue-100 rounded-full mix-blend-multiply filter blur-3xl opacity-70 animate-float"
          ></div>
          <div
            class="absolute bottom-0 left-0 w-64 h-64 bg-green-100 rounded-full mix-blend-multiply filter blur-3xl opacity-70 animate-float"
            style="animation-delay: 2s"
          ></div>

          <h2 class="text-4xl font-bold mb-4 text-slate-800 relative">
            Xin ch√†o! üëã
          </h2>
          <p class="text-lg text-slate-600 mb-6 relative">
            Ch√†o m·ª´ng b·∫°n ƒë·∫øn v·ªõi module t∆∞∆°ng t√°c h·ªçc t·∫≠p
            <span class="font-bold text-chemBlue"
              >Ch∆∞∆°ng 5: D·∫´n xu·∫•t Halogen - Alcohol - Phenol</span
            >.
          </p>

          <div class="grid md:grid-cols-3 gap-6 relative z-10">
            <div
              class="bg-gradient-to-br from-purple-50 to-white p-6 rounded-2xl border border-purple-100 shadow-sm hover:shadow-md transition cursor-pointer"
              onclick="showSection('halogen')"
            >
              <div
                class="w-12 h-12 rounded-full bg-purple-100 flex items-center justify-center text-chemPurple mb-4 text-2xl"
              >
                <i class="fas fa-cubes"></i>
              </div>
              <h3 class="font-bold text-lg mb-2">D·∫´n xu·∫•t Halogen</h3>
              <p class="text-sm text-slate-500">
                R-X. Nguy√™n li·ªáu quan tr·ªçng ƒë·ªÉ t·ªïng h·ª£p h·ªØu c∆°.
              </p>
            </div>
            <div
              class="bg-gradient-to-br from-blue-50 to-white p-6 rounded-2xl border border-blue-100 shadow-sm hover:shadow-md transition cursor-pointer"
              onclick="showSection('alcohol')"
            >
              <div
                class="w-12 h-12 rounded-full bg-blue-100 flex items-center justify-center text-chemBlue mb-4 text-2xl"
              >
                <i class="fas fa-tint"></i>
              </div>
              <h3 class="font-bold text-lg mb-2">Alcohol</h3>
              <p class="text-sm text-slate-500">
                R-OH. Dung m√¥i, nhi√™n li·ªáu v√† t√≠nh ch·∫•t ƒë·∫∑c tr∆∞ng.
              </p>
            </div>
            <div
              class="bg-gradient-to-br from-red-50 to-white p-6 rounded-2xl border border-red-100 shadow-sm hover:shadow-md transition cursor-pointer"
              onclick="showSection('phenol')"
            >
              <div
                class="w-12 h-12 rounded-full bg-red-100 flex items-center justify-center text-chemRed mb-4 text-2xl"
              >
                <i class="fas fa-hexagon"></i>
              </div>
              <h3 class="font-bold text-lg mb-2">Phenol</h3>
              <p class="text-sm text-slate-500">
                C‚ÇÜH‚ÇÖ-OH. T√≠nh axit v√† ph·∫£n ·ª©ng th·∫ø v√≤ng benzen.
              </p>
            </div>
          </div>
        </div>
      </section>

      <!-- SECTION: HALOGEN -->
      <section
        id="halogen"
        class="section-content max-w-5xl mx-auto hidden fade-in"
      >
        <h2
          class="text-3xl font-bold text-chemPurple mb-6 flex items-center gap-3"
        >
          <i class="fas fa-flask"></i> I. D·∫´n Xu·∫•t Halogen
        </h2>

        <!-- Cards Grid -->
        <div class="grid md:grid-cols-2 gap-6 mb-8">
          <!-- Theory Card -->
          <div
            class="bg-white p-6 rounded-2xl shadow-sm border-l-4 border-chemPurple"
          >
            <h3 class="font-bold text-xl mb-3">1. Kh√°i ni·ªám & ƒê·ªìng ph√¢n</h3>
            <ul class="list-disc list-inside space-y-2 text-slate-600 text-sm">
              <li>
                C√¥ng th·ª©c chung:
                <span
                  class="bg-purple-100 px-2 py-1 rounded font-mono text-purple-700 font-bold"
                  >R-X</span
                >
                (X: F, Cl, Br, I).
              </li>
              <li>ƒê·ªìng ph√¢n m·∫°ch C v√† v·ªã tr√≠ Halogen.</li>
              <li>
                <strong>T√™n g·ªçi:</strong> T√™n g·ªëc ch·ª©c (Ankyl + halogenua) ho·∫∑c
                T√™n thay th·∫ø (S·ªë ch·ªâ v·ªã tr√≠ + t√™n halogen + t√™n m·∫°ch C).
              </li>
              <li>
                V√≠ d·ª•: <code class="text-purple-600">CH‚ÇÉ-Cl</code> (Clorometan).
              </li>
            </ul>
          </div>

          <!-- Properties Card -->
          <div
            class="bg-white p-6 rounded-2xl shadow-sm border-l-4 border-chemPurple"
          >
            <h3 class="font-bold text-xl mb-3">2. T√≠nh ch·∫•t v·∫≠t l√≠</h3>
            <div class="flex items-center gap-4">
              <div class="flex-1 text-sm text-slate-600">
                <p class="mb-2">
                  <i class="fas fa-temperature-high text-red-400 w-5"></i>
                  <strong>Nhi·ªát ƒë·ªô s√¥i:</strong> TƒÉng d·∫ßn theo chi·ªÅu tƒÉng kh·ªëi
                  l∆∞·ª£ng ph√¢n t·ª≠ (R-F < R-Cl < R-Br < R-I).
                </p>
                <p>
                  <i class="fas fa-water text-blue-400 w-5"></i>
                  <strong>ƒê·ªô tan:</strong> Kh√¥ng tan trong n∆∞·ªõc, tan t·ªët trong
                  dung m√¥i h·ªØu c∆°.
                </p>
              </div>
            </div>
          </div>
        </div>

        <!-- INTERACTIVE SIMULATION: Substitution Reaction -->
        <div class="bg-white rounded-2xl shadow-lg p-6 mb-8 overflow-hidden">
          <div class="flex justify-between items-center mb-6 border-b pb-4">
            <h3 class="text-xl font-bold text-slate-800">
              üî¨ Ph√≤ng th√≠ nghi·ªám ·∫£o: Ph·∫£n ·ª©ng th·∫ø (Th·ªßy ph√¢n)
            </h3>
            <span
              class="bg-purple-100 text-purple-700 px-3 py-1 rounded-full text-xs font-bold"
              >C∆° ch·∫ø SN</span
            >
          </div>

          <div class="grid md:grid-cols-3 gap-8">
            <div class="md:col-span-1 space-y-4">
              <p class="text-sm text-slate-600">Ph∆∞∆°ng tr√¨nh t·ªïng qu√°t:</p>
              <div
                class="bg-slate-100 p-3 rounded font-mono text-sm text-center"
              >
                R-X + NaOH <i class="fas fa-arrow-right text-xs"></i> R-OH + NaX
              </div>
              <p class="text-sm text-slate-600">Ch·ªçn t√°c nh√¢n:</p>
              <button
                onclick="runHalogenReaction()"
                class="w-full bg-chemPurple hover:bg-purple-700 text-white font-bold py-3 px-4 rounded-xl transition shadow-lg transform hover:scale-105 active:scale-95 flex items-center justify-center gap-2"
              >
                <i class="fas fa-vial"></i> Th√™m NaOH (ƒëun n√≥ng)
              </button>
              <button
                onclick="resetHalogen()"
                class="w-full bg-slate-200 hover:bg-slate-300 text-slate-600 font-bold py-2 px-4 rounded-xl transition text-sm"
              >
                L√†m l·∫°i
              </button>
            </div>

            <div
              class="md:col-span-2 bg-slate-50 rounded-xl border border-slate-200 relative h-64 flex items-center justify-center"
              id="halogen-canvas"
            >
              <!-- Molecule Representation -->
              <div
                class="flex items-center gap-1 text-2xl font-bold transition-all duration-1000"
                id="molecule-rx"
              >
                <div
                  class="bg-slate-700 text-white w-12 h-12 rounded-full flex items-center justify-center shadow-lg z-10"
                >
                  R
                </div>
                <div class="bond w-12 h-2 bg-slate-400"></div>
                <div
                  id="atom-x"
                  class="bg-green-500 text-white w-12 h-12 rounded-full flex items-center justify-center shadow-lg z-10 transform transition-all duration-700"
                >
                  X
                </div>
              </div>

              <!-- Attacking Group (Hidden initially) -->
              <div
                id="atom-oh"
                class="absolute left-10 opacity-0 bg-blue-500 text-white w-12 h-12 rounded-full flex items-center justify-center shadow-lg z-20 font-bold text-sm transform transition-all duration-1000"
              >
                OH‚Åª
              </div>

              <!-- Result Text -->
              <div
                id="halogen-result"
                class="absolute bottom-4 text-center w-full font-bold text-chemPurple opacity-0 transition-opacity"
              >
                ƒê√£ t·∫°o th√†nh Alcohol v√† mu·ªëi Halogenua!
              </div>
            </div>
          </div>
        </div>

        <!-- Applications -->
        <div class="mb-8">
          <h3 class="font-bold text-xl mb-4 text-slate-700">
            ·ª®ng d·ª•ng th·ª±c ti·ªÖn
          </h3>
          <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
            <div
              class="bg-white p-4 rounded-xl shadow-sm text-center hover:shadow-md transition"
            >
              <i class="fas fa-wind text-3xl text-sky-400 mb-2"></i>
              <div class="font-bold text-sm">L√†m l·∫°nh</div>
              <div class="text-xs text-slate-500 mt-1">CFC (ƒë√£ h·∫°n ch·∫ø)</div>
            </div>
            <div
              class="bg-white p-4 rounded-xl shadow-sm text-center hover:shadow-md transition"
            >
              <i class="fas fa-spray-can text-3xl text-gray-400 mb-2"></i>
              <div class="font-bold text-sm">Dung m√¥i</div>
              <div class="text-xs text-slate-500 mt-1">Chloroform</div>
            </div>
            <div
              class="bg-white p-4 rounded-xl shadow-sm text-center hover:shadow-md transition"
            >
              <i class="fas fa-pills text-3xl text-pink-400 mb-2"></i>
              <div class="font-bold text-sm">D∆∞·ª£c ph·∫©m</div>
              <div class="text-xs text-slate-500 mt-1">Thu·ªëc g√¢y m√™</div>
            </div>
            <div
              class="bg-white p-4 rounded-xl shadow-sm text-center hover:shadow-md transition"
            >
              <i class="fas fa-layer-group text-3xl text-orange-400 mb-2"></i>
              <div class="font-bold text-sm">Polymer</div>
              <div class="text-xs text-slate-500 mt-1">PVC, Teflon</div>
            </div>
          </div>
        </div>
      </section>

      <!-- SECTION: ALCOHOL -->
      <section
        id="alcohol"
        class="section-content max-w-5xl mx-auto hidden fade-in"
      >
        <h2
          class="text-3xl font-bold text-chemBlue mb-6 flex items-center gap-3"
        >
          <i class="fas fa-wine-bottle"></i> II. Alcohol
        </h2>

        <!-- Interactive Structure Viewer -->
        <div
          class="bg-gradient-to-r from-blue-500 to-cyan-400 rounded-3xl p-6 text-white mb-8 shadow-lg"
        >
          <div class="flex flex-col md:flex-row items-center justify-between">
            <div class="mb-6 md:mb-0 md:w-1/2">
              <h3 class="text-2xl font-bold mb-2">C·∫•u Tr√∫c Ph√¢n T·ª≠</h3>
              <p class="mb-4 opacity-90">
                Nh√≥m -OH li√™n k·∫øt v·ªõi nguy√™n t·ª≠ Carbon no (sp¬≥).
              </p>

              <div class="bg-white/20 p-4 rounded-xl backdrop-blur-sm">
                <h4 class="font-bold mb-2 text-sm uppercase tracking-wider">
                  Ph√¢n lo·∫°i b·∫≠c:
                </h4>
                <div class="flex gap-2">
                  <button
                    onclick="setAlcoholModel(1)"
                    class="flex-1 bg-white text-blue-600 py-2 rounded-lg font-bold hover:bg-blue-50 transition text-sm"
                  >
                    B·∫≠c 1
                  </button>
                  <button
                    onclick="setAlcoholModel(2)"
                    class="flex-1 bg-white/50 hover:bg-white hover:text-blue-600 py-2 rounded-lg font-bold transition text-sm"
                  >
                    B·∫≠c 2
                  </button>
                  <button
                    onclick="setAlcoholModel(3)"
                    class="flex-1 bg-white/50 hover:bg-white hover:text-blue-600 py-2 rounded-lg font-bold transition text-sm"
                  >
                    B·∫≠c 3
                  </button>
                </div>
              </div>
            </div>
            <div class="md:w-1/2 flex justify-center">
              <!-- Simple SVG Model Visualization -->
              <div
                id="alcohol-visual"
                class="w-64 h-48 bg-white/10 rounded-2xl flex items-center justify-center relative"
              >
                <div
                  class="text-center transition-all duration-300 transform"
                  id="model-content"
                >
                  <div class="text-6xl mb-2">R-CH‚ÇÇ-OH</div>
                  <div class="text-sm font-light">Alcohol B·∫≠c 1</div>
                  <div class="text-xs opacity-75 mt-2">
                    B·ªã oxi h√≥a th√†nh Anƒëehit
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Reactions Tabs -->
        <div
          class="bg-white rounded-2xl shadow-sm border border-slate-200 overflow-hidden mb-8"
        >
          <div class="flex border-b border-slate-200 bg-slate-50">
            <button
              onclick="showAlcoholReaction('na')"
              class="flex-1 py-4 font-bold text-slate-600 hover:bg-white hover:text-chemBlue border-b-2 border-transparent hover:border-chemBlue transition"
            >
              T√°c d·ª•ng v·ªõi Na
            </button>
            <button
              onclick="showAlcoholReaction('cuo')"
              class="flex-1 py-4 font-bold text-slate-600 hover:bg-white hover:text-chemBlue border-b-2 border-transparent hover:border-chemBlue transition"
            >
              Oxi h√≥a (CuO)
            </button>
            <button
              onclick="showAlcoholReaction('h2so4')"
              class="flex-1 py-4 font-bold text-slate-600 hover:bg-white hover:text-chemBlue border-b-2 border-transparent hover:border-chemBlue transition"
            >
              T√°ch n∆∞·ªõc
            </button>
          </div>

          <div class="p-6 min-h-[250px] relative">
            <!-- Reaction: Na -->
            <div id="react-na" class="reaction-detail">
              <h4 class="font-bold text-lg mb-2 text-chemBlue">
                Th·∫ø nguy√™n t·ª≠ H c·ªßa nh√≥m OH
              </h4>
              <div
                class="bg-slate-100 p-4 rounded-lg font-mono mb-4 text-center"
              >
                2R-OH + 2Na <i class="fas fa-arrow-right"></i> 2R-ONa + H‚ÇÇ‚Üë
              </div>
              <div class="flex items-center justify-center gap-8 mt-6">
                <div class="beaker relative bg-blue-50 border-slate-400">
                  <div
                    class="liquid bg-transparent h-full flex items-end justify-center pb-2"
                  >
                    <span class="text-xs text-blue-800 font-bold">C‚ÇÇH‚ÇÖOH</span>
                  </div>
                  <!-- Bubbles Container -->
                  <div
                    id="bubbles"
                    class="absolute bottom-0 w-full h-full pointer-events-none"
                  ></div>
                </div>
                <button
                  onclick="simulateBubbles()"
                  class="bg-chemBlue text-white px-6 py-2 rounded-lg shadow hover:bg-blue-600 transition"
                >
                  <i class="fas fa-plus"></i> Th·∫£ Na v√†o
                </button>
              </div>
            </div>

            <!-- Reaction: CuO -->
            <div id="react-cuo" class="reaction-detail hidden">
              <h4 class="font-bold text-lg mb-2 text-chemBlue">
                Ph·∫£n ·ª©ng Oxi h√≥a kh√¥ng ho√†n to√†n
              </h4>
              <div class="grid grid-cols-1 md:grid-cols-3 gap-4 text-sm">
                <div class="bg-green-50 p-3 rounded border border-green-200">
                  <strong class="block text-green-700 mb-1">B·∫≠c 1:</strong>
                  R-CH‚ÇÇOH + CuO <i class="fas fa-arrow-right"></i> R-CHO
                  (Anƒëehit) + Cu + H‚ÇÇO
                </div>
                <div class="bg-yellow-50 p-3 rounded border border-yellow-200">
                  <strong class="block text-yellow-700 mb-1">B·∫≠c 2:</strong>
                  R-CH(OH)-R' + CuO <i class="fas fa-arrow-right"></i> R-CO-R'
                  (Xeton)
                </div>
                <div class="bg-red-50 p-3 rounded border border-red-200">
                  <strong class="block text-red-700 mb-1">B·∫≠c 3:</strong>
                  Kh√≥ b·ªã oxi h√≥a
                </div>
              </div>
              <div class="mt-4 text-center">
                <div class="inline-block relative">
                  <div class="w-32 h-2 bg-black rounded-full mb-2"></div>
                  <div
                    id="copper-wire"
                    class="w-full h-8 bg-black rounded transition-colors duration-1000 flex items-center justify-center text-white text-xs"
                  >
                    CuO (ƒêen)
                  </div>
                </div>
                <br />
                <button
                  onclick="simulateCuO()"
                  class="mt-2 bg-orange-500 text-white px-4 py-2 rounded shadow hover:bg-orange-600"
                >
                  ƒêun n√≥ng v·ªõi Alcohol
                </button>
                <p
                  id="cuo-result"
                  class="mt-2 text-xs font-bold text-red-600 opacity-0 transition"
                >
                  CuO ƒëen chuy·ªÉn sang Cu ƒë·ªè!
                </p>
              </div>
            </div>

            <!-- Reaction: H2SO4 -->
            <div id="react-h2so4" class="reaction-detail hidden">
              <h4 class="font-bold text-lg mb-2 text-chemBlue">
                Ph·∫£n ·ª©ng t√°ch n∆∞·ªõc (H‚ÇÇSO‚ÇÑ ƒë·∫∑c)
              </h4>
              <div class="flex flex-col gap-4">
                <div
                  class="flex items-center gap-4 bg-orange-50 p-3 rounded-lg border border-orange-200"
                >
                  <div class="bg-orange-500 text-white font-bold p-2 rounded">
                    170¬∞C
                  </div>
                  <div>
                    <div class="font-bold">T·∫°o Anken (T√°ch n·ªôi ph√¢n t·ª≠)</div>
                    <div class="font-mono text-sm">
                      C‚ÇÇH‚ÇÖOH <i class="fas fa-arrow-right"></i> C‚ÇÇH‚ÇÑ + H‚ÇÇO
                    </div>
                  </div>
                </div>
                <div
                  class="flex items-center gap-4 bg-blue-50 p-3 rounded-lg border border-blue-200"
                >
                  <div class="bg-blue-500 text-white font-bold p-2 rounded">
                    140¬∞C
                  </div>
                  <div>
                    <div class="font-bold">T·∫°o Ete (T√°ch li√™n ph√¢n t·ª≠)</div>
                    <div class="font-mono text-sm">
                      2C‚ÇÇH‚ÇÖOH <i class="fas fa-arrow-right"></i> C‚ÇÇH‚ÇÖ-O-C‚ÇÇH‚ÇÖ +
                      H‚ÇÇO
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- SECTION: PHENOL -->
      <section
        id="phenol"
        class="section-content max-w-5xl mx-auto hidden fade-in"
      >
        <h2
          class="text-3xl font-bold text-chemRed mb-6 flex items-center gap-3"
        >
          <i class="fas fa-bacterium"></i> III. Phenol
        </h2>

        <div class="grid md:grid-cols-2 gap-8 mb-8">
          <div>
            <div class="bg-white p-6 rounded-2xl shadow-sm mb-6">
              <h3 class="font-bold text-xl mb-4 text-slate-800">
                C·∫•u tr√∫c & T√≠nh ch·∫•t v·∫≠t l√≠
              </h3>
              <div class="flex gap-4 items-start">
                <div class="text-chemRed text-6xl">
                  <i class="fas fa-certificate"></i>
                  <!-- Rough benzene shape -->
                </div>
                <div class="text-sm text-slate-600 space-y-2">
                  <p><strong>CTPT:</strong> C‚ÇÜH‚ÇÖOH</p>
                  <p>
                    <strong>Tr·∫°ng th√°i:</strong> R·∫Øn, kh√¥ng m√†u (ƒë·ªÉ l√¢u chuy·ªÉn
                    h·ªìng do oxi h√≥a), ƒë·ªôc.
                  </p>
                  <p>
                    <strong>ƒê·ªô tan:</strong> √çt tan trong n∆∞·ªõc l·∫°nh, tan v√¥ h·∫°n
                    ·ªü 66¬∞C, tan t·ªët trong ki·ªÅm.
                  </p>
                </div>
              </div>
            </div>

            <div
              class="bg-red-50 p-6 rounded-2xl shadow-sm border border-red-100"
            >
              <h3 class="font-bold text-xl mb-2 text-red-800">
                So s√°nh t√≠nh Axit
              </h3>
              <p class="mb-3 text-sm">
                V√≤ng Benzen h√∫t e l√†m li√™n k·∫øt O-H ph√¢n c·ª±c m·∫°nh h∆°n Alcohol.
              </p>
              <div
                class="flex items-center justify-between bg-white p-3 rounded-lg shadow-sm"
              >
                <span class="text-slate-500 font-mono text-xs"
                  >H‚ÇÇCO‚ÇÉ >
                  <strong class="text-red-600 text-base">Phenol</strong> > H‚ÇÇO >
                  Alcohol</span
                >
              </div>
              <p class="mt-2 text-xs italic text-red-600">
                * Phenol l√†m qu·ª≥ t√≠m chuy·ªÉn ƒë·ªè? <strong>Kh√¥ng</strong> (Axit r·∫•t
                y·∫øu).
              </p>
            </div>
          </div>

          <!-- Simulation: Phenol + Br2 -->
          <div
            class="bg-white p-6 rounded-2xl shadow-lg border-t-4 border-chemRed"
          >
            <h3 class="font-bold text-xl mb-4">
              üß™ Ph·∫£n ·ª©ng nh·∫≠n bi·∫øt: Phenol + dd Brom
            </h3>
            <div class="text-center">
              <div class="relative w-32 h-48 mx-auto mb-4">
                <!-- Test Tube -->
                <div
                  class="absolute bottom-0 left-1/2 transform -translate-x-1/2 w-16 h-40 border-2 border-slate-300 border-t-0 rounded-b-3xl bg-slate-50 overflow-hidden"
                >
                  <!-- Solution inside -->
                  <div
                    id="phenol-solution"
                    class="absolute bottom-0 w-full h-24 bg-transparent transition-colors duration-500"
                  ></div>
                  <!-- Precipitate -->
                  <div
                    id="precipitate-white"
                    class="absolute bottom-0 w-full h-0 bg-white opacity-90 transition-all duration-1000 flex items-end justify-center pb-2"
                  >
                    <span class="text-[10px] text-slate-800 hidden font-bold"
                      >2,4,6-tribromophenol</span
                    >
                  </div>
                </div>
                <!-- Dropper -->
                <div
                  id="dropper"
                  class="absolute top-0 left-1/2 transform -translate-x-1/2 -translate-y-4 transition-transform duration-500"
                >
                  <div class="w-4 h-12 bg-slate-300 mx-auto rounded-t"></div>
                  <div
                    class="w-2 h-4 bg-orange-400 mx-auto rounded-b-full"
                  ></div>
                </div>
                <!-- Drop -->
                <div
                  id="bromine-drop"
                  class="absolute top-10 left-1/2 transform -translate-x-1/2 w-3 h-3 bg-orange-500 rounded-full opacity-0"
                ></div>
              </div>

              <div class="flex gap-2 justify-center">
                <button
                  onclick="runPhenolTest()"
                  class="bg-chemRed hover:bg-red-600 text-white px-4 py-2 rounded-lg shadow font-bold transition"
                >
                  Nh·ªè Br‚ÇÇ (n√¢u ƒë·ªè)
                </button>
                <button
                  onclick="resetPhenolTest()"
                  class="bg-slate-200 hover:bg-slate-300 text-slate-600 px-4 py-2 rounded-lg font-bold transition"
                >
                  Reset
                </button>
              </div>

              <div
                class="mt-4 bg-slate-100 p-3 rounded text-left text-sm font-mono"
              >
                C‚ÇÜH‚ÇÖOH + 3Br‚ÇÇ <i class="fas fa-arrow-right"></i> C‚ÇÜH‚ÇÇ(Br)‚ÇÉOH‚Üì +
                3HBr
                <div class="text-xs text-slate-500 mt-1 font-sans">
                  (K·∫øt t·ªßa tr·∫Øng)
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- SECTION: QUIZ -->
      <section
        id="quiz"
        class="section-content max-w-5xl mx-auto hidden fade-in"
      >
        <h2
          class="text-3xl font-bold text-emerald-600 mb-6 flex items-center gap-3"
        >
          <i class="fas fa-clipboard-check"></i> Ki·ªÉm Tra Ki·∫øn Th·ª©c
        </h2>

        <div class="bg-white rounded-2xl shadow-lg p-8">
          <div id="quiz-container">
            <!-- Questions generated by JS -->
          </div>

          <div id="quiz-result" class="hidden text-center py-8">
            <div class="text-6xl mb-4">üéâ</div>
            <h3 class="text-2xl font-bold text-slate-800 mb-2">Ho√†n th√†nh!</h3>
            <p class="text-lg mb-6">
              B·∫°n ƒë√£ tr·∫£ l·ªùi ƒë√∫ng
              <span id="score" class="font-bold text-emerald-600 text-2xl"
                >0</span
              >/<span id="total-q">0</span> c√¢u.
            </p>
            <button
              onclick="initQuiz()"
              class="bg-emerald-500 hover:bg-emerald-600 text-white px-6 py-3 rounded-xl font-bold shadow transition"
            >
              L√†m l·∫°i b√†i thi
            </button>
          </div>
        </div>
      </section>
    </main>

    <!-- JavaScript Logic -->
    <script>
      // --- NAVIGATION ---
      function showSection(id) {
        // Hide all sections
        document.querySelectorAll(".section-content").forEach((el) => {
          el.classList.add("hidden");
          el.classList.remove("block");
        });

        // Show selected section
        const target = document.getElementById(id);
        target.classList.remove("hidden");
        target.classList.add("block");
        target.classList.add("fade-in");

        // Update sidebar active state
        document
          .querySelectorAll(".tab-btn")
          .forEach((btn) => btn.classList.remove("active"));
        // Find the button that calls this function (rough approximation for simplicity)
        const btns = document.querySelectorAll(".tab-btn");
        if (id === "intro") btns[0].classList.add("active");
        if (id === "halogen") btns[1].classList.add("active");
        if (id === "alcohol") btns[2].classList.add("active");
        if (id === "phenol") btns[3].classList.add("active");
        if (id === "quiz") btns[4].classList.add("active");

        // Close mobile menu if open
        if (window.innerWidth < 768) {
          const sidebar = document.getElementById("sidebar");
          sidebar.classList.add("-translate-x-full");
        }
      }

      function toggleMenu() {
        const sidebar = document.getElementById("sidebar");
        sidebar.classList.toggle("-translate-x-full");
      }

      function closeMenu() {
        if (window.innerWidth < 768) {
          const sidebar = document.getElementById("sidebar");
          if (!sidebar.classList.contains("-translate-x-full")) {
            sidebar.classList.add("-translate-x-full");
          }
        }
      }

      // --- HALOGEN SIMULATION ---
      function runHalogenReaction() {
        const atomX = document.getElementById("atom-x");
        const atomOH = document.getElementById("atom-oh");
        const resultText = document.getElementById("halogen-result");
        const molecule = document.getElementById("molecule-rx");

        // 1. OH approaches
        atomOH.style.opacity = "1";
        atomOH.style.transform = "translate(100px, 0)";

        setTimeout(() => {
          // 2. Transition state (X leaves, OH attaches)
          // Move X away
          atomX.style.transform = "translate(150px, -50px) scale(0.8)";
          atomX.style.opacity = "0.5";
          atomX.innerText = "X‚Åª";
          atomX.classList.remove("bg-green-500");
          atomX.classList.add("bg-slate-400");

          // Move OH in place
          atomOH.style.transform = "translate(95px, 0)"; // Adjust based on visual

          // Show result
          setTimeout(() => {
            resultText.style.opacity = "1";
          }, 500);
        }, 1000);
      }

      function resetHalogen() {
        const atomX = document.getElementById("atom-x");
        const atomOH = document.getElementById("atom-oh");
        const resultText = document.getElementById("halogen-result");

        atomX.style.transform = "translate(0,0)";
        atomX.style.opacity = "1";
        atomX.innerText = "X";
        atomX.classList.add("bg-green-500");
        atomX.classList.remove("bg-slate-400");

        atomOH.style.opacity = "0";
        atomOH.style.transform = "translate(0,0)";

        resultText.style.opacity = "0";
      }

      // --- ALCOHOL LOGIC ---
      function setAlcoholModel(level) {
        const content = document.getElementById("model-content");
        content.style.opacity = "0";
        setTimeout(() => {
          if (level === 1) {
            content.innerHTML = `<div class="text-5xl font-mono mb-2">R-CH‚ÇÇ-OH</div><div class="text-sm">B·∫≠c 1</div><div class="text-xs text-yellow-300 mt-2">Oxi h√≥a &rarr; Anƒëehit</div>`;
          } else if (level === 2) {
            content.innerHTML = `<div class="text-5xl font-mono mb-2">R-CH(OH)-R'</div><div class="text-sm">B·∫≠c 2</div><div class="text-xs text-yellow-300 mt-2">Oxi h√≥a &rarr; Xeton</div>`;
          } else {
            content.innerHTML = `<div class="text-5xl font-mono mb-2">R-C(OH)-R''</div><div class="text-sm">B·∫≠c 3</div><div class="text-xs text-red-300 mt-2">Kh√≥ b·ªã oxi h√≥a</div>`;
          }
          content.style.opacity = "1";
        }, 300);
      }

      function showAlcoholReaction(type) {
        // Hide all details
        document
          .querySelectorAll(".reaction-detail")
          .forEach((el) => el.classList.add("hidden"));

        // Show selected
        document.getElementById("react-" + type).classList.remove("hidden");
      }

      function simulateBubbles() {
        const container = document.getElementById("bubbles");
        container.innerHTML = ""; // Clear old bubbles

        for (let i = 0; i < 10; i++) {
          const bubble = document.createElement("div");
          bubble.className = "absolute bg-white rounded-full opacity-70";
          // Random size and position
          const size = Math.random() * 10 + 5;
          bubble.style.width = size + "px";
          bubble.style.height = size + "px";
          bubble.style.left = Math.random() * 80 + 10 + "%";
          bubble.style.bottom = "0";

          // Animate
          bubble.animate(
            [
              { transform: "translateY(0)", opacity: 0.7 },
              {
                transform: `translateY(-${100 + Math.random() * 20}px)`,
                opacity: 0,
              },
            ],
            {
              duration: 1000 + Math.random() * 1000,
              easing: "ease-out",
              iterations: 1,
              fill: "forwards",
            }
          );

          container.appendChild(bubble);
        }
      }

      function simulateCuO() {
        const wire = document.getElementById("copper-wire");
        const result = document.getElementById("cuo-result");

        wire.classList.remove("bg-black");
        wire.style.backgroundColor = "#b91c1c"; // Red-ish color for Cu
        wire.innerText = "Cu (ƒê·ªè)";
        result.style.opacity = "1";

        setTimeout(() => {
          // Reset after 3 seconds for replayability
          setTimeout(() => {
            wire.style.backgroundColor = "black";
            wire.innerText = "CuO (ƒêen)";
            result.style.opacity = "0";
          }, 3000);
        }, 500);
      }

      // --- PHENOL SIMULATION ---
      function runPhenolTest() {
        const dropper = document.getElementById("dropper");
        const drop = document.getElementById("bromine-drop");
        const ppt = document.getElementById("precipitate-white");
        const txt = ppt.querySelector("span");

        // 1. Move dropper down
        dropper.style.transform = "translate(-50%, 10px)";

        setTimeout(() => {
          // 2. Drop falls
          drop.style.opacity = "1";
          drop.style.top = "10px";

          drop.animate([{ top: "10px" }, { top: "100px", opacity: 0 }], {
            duration: 600,
            fill: "forwards",
          });

          setTimeout(() => {
            // 3. Precipitate forms
            ppt.style.height = "40px";
            setTimeout(() => {
              txt.classList.remove("hidden");
              dropper.style.transform = "translate(-50%, -16px)"; // Move dropper back up
            }, 500);
          }, 500);
        }, 500);
      }

      function resetPhenolTest() {
        const ppt = document.getElementById("precipitate-white");
        const txt = ppt.querySelector("span");
        ppt.style.height = "0";
        txt.classList.add("hidden");
      }

      // --- QUIZ DATA & LOGIC ---
      const quizData = [
        {
          q: "Ch·∫•t n√†o sau ƒë√¢y t√°c d·ª•ng v·ªõi NaOH t·∫°o th√†nh Alcohol?",
          a: ["CH‚ÇÉ-O-CH‚ÇÉ", "C‚ÇÇH‚ÇÖBr", "C‚ÇÜH‚ÇÜ", "CH‚ÇÑ"],
          correct: 1, // C2H5Br
        },
        {
          q: "Hi·ªán t∆∞·ª£ng khi nh·ªè n∆∞·ªõc Brom v√†o dung d·ªãch Phenol?",
          a: [
            "Kh√≠ bay l√™n",
            "Dung d·ªãch h√≥a xanh",
            "K·∫øt t·ªßa tr·∫Øng",
            "Kh√¥ng hi·ªán t∆∞·ª£ng",
          ],
          correct: 2, // K·∫øt t·ªßa tr·∫Øng
        },
        {
          q: "S·∫£n ph·∫©m ch√≠nh khi t√°ch n∆∞·ªõc Butan-2-ol ·ªü 170¬∞C l√†?",
          a: ["But-1-en", "But-2-en", "ƒêibutyl ete", "Butan"],
          correct: 1, // But-2-en (Zaitsev)
        },
        {
          q: "Alcohol b·∫≠c 2 khi b·ªã oxi h√≥a b·ªüi CuO nung n√≥ng t·∫°o ra?",
          a: ["Anƒëehit", "Axit cacboxylic", "Xeton", "Ete"],
          correct: 2, // Xeton
        },
        {
          q: "T·∫°i sao nhi·ªát ƒë·ªô s√¥i c·ªßa Alcohol cao h∆°n D·∫´n xu·∫•t Halogen t∆∞∆°ng ·ª©ng?",
          a: [
            "Do kh·ªëi l∆∞·ª£ng ph√¢n t·ª≠ l·ªõn h∆°n",
            "Do c√≥ li√™n k·∫øt Hidro li√™n ph√¢n t·ª≠",
            "Do li√™n k·∫øt c·ªông h√≥a tr·ªã b·ªÅn",
            "Do Alcohol tan trong n∆∞·ªõc",
          ],
          correct: 1, // LK Hidro
        },
        {
          q: "Ph·∫£n ·ª©ng n√†o ch·ª©ng minh Phenol c√≥ t√≠nh axit m·∫°nh h∆°n Alcohol?",
          a: [
            "T√°c d·ª•ng v·ªõi Na",
            "T√°c d·ª•ng v·ªõi dung d·ªãch Brom",
            "T√°c d·ª•ng v·ªõi dung d·ªãch NaOH",
            "Ph·∫£n ·ª©ng ch√°y",
          ],
          correct: 2, // T√°c d·ª•ng NaOH
        },
        {
          q: "C√¥ng th·ª©c t·ªïng qu√°t c·ªßa d·∫´n xu·∫•t monochloro no, m·∫°ch h·ªü l√†?",
          a: ["CnH2n+1Cl", "CnH2n-1Cl", "CnH2nCl2", "CnH2n-5Cl"],
          correct: 0, // CnH2n+1Cl
        },
        {
          q: "ƒê·ªÉ ƒëi·ªÅu ch·∫ø thu·ªëc n·ªï TNT, ng∆∞·ªùi ta d√πng?",
          a: ["Benzen", "Phenol", "Toluen", "Stiren"],
          correct: 2, // C√¢u n√†y m·ªü r·ªông (Toluen), nh∆∞ng trong ng·ªØ c·∫£nh b√†i n√†y c√≥ th·ªÉ h·ªèi v·ªÅ Axit Picric (t·ª´ Phenol). H√£y ƒë·ªïi c√¢u h·ªèi cho s√°t b√†i Phenol.
        },
      ];

      // Fix question 8 to be relevant to Phenol chapter specifically
      quizData[7] = {
        q: "·∫¢nh h∆∞·ªüng c·ªßa nh√≥m -OH ƒë·∫øn v√≤ng Benzen trong ph√¢n t·ª≠ Phenol th·ªÉ hi·ªán qua ph·∫£n ·ª©ng?",
        a: [
          "V·ªõi Na",
          "V·ªõi NaOH",
          "Th·∫ø Brom d·ªÖ d√†ng v√†o v·ªã tr√≠ ortho, para",
          "Oxi h√≥a b·ªüi O2 kh√¥ng kh√≠",
        ],
        correct: 2,
      };

      function initQuiz() {
        const container = document.getElementById("quiz-container");
        const resultBox = document.getElementById("quiz-result");

        container.innerHTML = "";
        resultBox.classList.add("hidden");
        container.classList.remove("hidden");

        quizData.forEach((item, index) => {
          const qDiv = document.createElement("div");
          qDiv.className = "mb-6 pb-6 border-b border-slate-100 last:border-0";

          let answersHtml = "";
          item.a.forEach((ans, i) => {
            answersHtml += `
                        <label class="flex items-center gap-3 cursor-pointer p-3 rounded-lg hover:bg-slate-50 transition">
                            <input type="radio" name="q${index}" value="${i}" class="w-5 h-5 text-emerald-500 focus:ring-emerald-500">
                            <span class="text-slate-700">${ans}</span>
                        </label>
                    `;
          });

          qDiv.innerHTML = `
                    <p class="font-bold text-lg mb-3 text-slate-800">C√¢u ${
                      index + 1
                    }: ${item.q}</p>
                    <div class="space-y-1">
                        ${answersHtml}
                    </div>
                `;
          container.appendChild(qDiv);
        });

        const btn = document.createElement("button");
        btn.innerText = "N·ªôp b√†i";
        btn.className =
          "mt-4 bg-chemBlue hover:bg-blue-600 text-white font-bold py-3 px-8 rounded-xl shadow-lg transition w-full md:w-auto";
        btn.onclick = checkQuiz;
        container.appendChild(btn);
      }

      function checkQuiz() {
        let score = 0;
        quizData.forEach((item, index) => {
          const selected = document.querySelector(
            `input[name="q${index}"]:checked`
          );
          if (selected && parseInt(selected.value) === item.correct) {
            score++;
          }
        });

        const container = document.getElementById("quiz-container");
        const resultBox = document.getElementById("quiz-result");
        const scoreSpan = document.getElementById("score");
        const totalSpan = document.getElementById("total-q");

        scoreSpan.innerText = score;
        totalSpan.innerText = quizData.length;

        container.classList.add("hidden");
        resultBox.classList.remove("hidden");
        resultBox.classList.add("fade-in");
      }

      // Initialize on load
      window.onload = function () {
        initQuiz();
        showSection("intro"); // Default tab
      };
    </script>
  </body>
</html>
