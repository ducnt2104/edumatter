<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Hóa Học 9 - Chuyên Đề 3: Ethanol & Axit Axetic</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Be+Vietnam+Pro:wght@400;600;700;900&display=swap"
      rel="stylesheet"
    />
    <style>
      :root {
        --primary: #3b82f6;
        --secondary: #f59e0b;
        --dark: #0f172a;
      }
      body {
        font-family: "Be Vietnam Pro", sans-serif;
        background-color: var(--dark);
        color: #e2e8f0;
        overflow-x: hidden;
      }
      /* Glassmorphism */
      .glass {
        background: rgba(30, 41, 59, 0.7);
        backdrop-filter: blur(10px);
        border: 1px solid rgba(255, 255, 255, 0.08);
        box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.37);
      }
      /* Animations */
      @keyframes float {
        0%,
        100% {
          transform: translateY(0px);
        }
        50% {
          transform: translateY(-10px);
        }
      }
      .animate-float {
        animation: float 4s ease-in-out infinite;
      }

      @keyframes flame {
        0%,
        100% {
          transform: scale(1);
          opacity: 0.8;
        }
        50% {
          transform: scale(1.1);
          opacity: 1;
        }
      }
      .flame-effect {
        animation: flame 0.2s infinite alternate;
        box-shadow: 0 0 20px #3b82f6;
      }

      @keyframes bubble {
        0% {
          transform: translateY(20px) scale(0.5);
          opacity: 0;
        }
        50% {
          opacity: 1;
        }
        100% {
          transform: translateY(-40px) scale(1.2);
          opacity: 0;
        }
      }
      .bubble {
        position: absolute;
        background: rgba(255, 255, 255, 0.8);
        border-radius: 50%;
        animation: bubble 2s infinite linear;
      }

      /* Custom Scrollbar */
      ::-webkit-scrollbar {
        width: 8px;
      }
      ::-webkit-scrollbar-track {
        background: #1e293b;
      }
      ::-webkit-scrollbar-thumb {
        background: #475569;
        border-radius: 4px;
      }

      /* Molecule Styling */
      .atom {
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-weight: bold;
        box-shadow: inset -2px -2px 6px rgba(0, 0, 0, 0.3);
        position: relative;
        z-index: 10;
      }
      .atom-c {
        background: #334155;
        color: white;
        width: 40px;
        height: 40px;
      }
      .atom-o {
        background: #ef4444;
        color: white;
        width: 36px;
        height: 36px;
      }
      .atom-h {
        background: #f1f5f9;
        color: #334155;
        width: 24px;
        height: 24px;
        font-size: 0.7rem;
      }
      .bond {
        position: absolute;
        background: #94a3b8;
        height: 6px;
        border-radius: 3px;
        z-index: 1;
      }
    </style>
    <link rel="stylesheet" href="../../component/component.css" />
    <script src="../../component/component.js"></script>
  </head>
  <body class="min-h-screen flex flex-col md:flex-row">
    <nav
      class="w-full md:w-72 glass flex flex-col p-6 z-50 h-auto md:h-screen sticky top-0"
    >
      <div class="flex items-center gap-3 mb-10">
        <div
          class="w-12 h-12 rounded-xl bg-gradient-to-br from-blue-500 to-amber-500 flex items-center justify-center text-white text-2xl font-bold shadow-lg"
        >
          C3
        </div>
        <div>
          <h1 class="font-bold text-lg leading-tight">Chuyên đề 3</h1>
          <p class="text-xs text-slate-400">Rượu & Axit Hữu Cơ</p>
        </div>
      </div>

      <div class="space-y-2 flex-1">
        <button
          onclick="nav('ethanol')"
          class="nav-item w-full text-left p-3 rounded-xl hover:bg-white/5 transition flex items-center gap-3 text-blue-400 bg-white/10 border border-blue-500/30"
          id="btn-ethanol"
        >
          <i class="fas fa-wine-bottle w-6 text-center"></i> I. Ethanol (C₂H₅OH)
        </button>
        <button
          onclick="nav('acetic')"
          class="nav-item w-full text-left p-3 rounded-xl hover:bg-white/5 transition flex items-center gap-3 text-amber-400"
          id="btn-acetic"
        >
          <i class="fas fa-vial w-6 text-center"></i> II. Axit Axetic (CH₃COOH)
        </button>
        <button
          onclick="nav('compare')"
          class="nav-item w-full text-left p-3 rounded-xl hover:bg-white/5 transition flex items-center gap-3 text-emerald-400"
          id="btn-compare"
        >
          <i class="fas fa-balance-scale w-6 text-center"></i> III. So sánh & Mở
          rộng
        </button>
        <div class="h-px bg-white/10 my-2"></div>
        <button
          onclick="nav('game')"
          class="nav-item w-full text-left p-3 rounded-xl hover:bg-white/5 transition flex items-center gap-3 text-purple-400"
          id="btn-game"
        >
          <i class="fas fa-gamepad w-6 text-center"></i> Game: Nhà Máy Hóa Chất
        </button>
        <a href="../chemstudybaby.html">quay về trang chủ</a>
      </div>

      <div class="mt-6 pt-4 border-t border-white/10 text-center">
        <p class="text-xs text-slate-500">Hóa Học 9 - Chủ đề 3</p>
      </div>
    </nav>

    <main
      class="flex-1 p-4 md:p-8 overflow-y-auto h-screen relative scroll-smooth"
    >
      <section id="ethanol" class="page-section block animate-fade-in">
        <header
          class="mb-8 flex justify-between items-end border-b border-blue-500/30 pb-4"
        >
          <div>
            <h2
              class="text-4xl font-black text-transparent bg-clip-text bg-gradient-to-r from-blue-400 to-cyan-300"
            >
              Rượu Ethanol
            </h2>
            <p class="text-blue-200 mt-2 font-mono">CTPT: C₂H₆O (hay C₂H₅OH)</p>
          </div>
          <div class="text-right hidden md:block">
            <span
              class="bg-blue-600/20 text-blue-300 px-3 py-1 rounded-full text-sm border border-blue-500/50"
              >Nhóm chức: –OH</span
            >
          </div>
        </header>

        <div class="grid lg:grid-cols-2 gap-6">
          <div class="glass p-6 rounded-2xl relative overflow-hidden group">
            <h3 class="text-xl font-bold mb-4 text-blue-400">
              <i class="fas fa-atom mr-2"></i>Cấu Tạo Phân Tử
            </h3>
            <div
              class="h-48 bg-slate-800/50 rounded-xl flex items-center justify-center relative border border-slate-700"
            >
              <div class="relative w-48 h-24 animate-float">
                <div class="atom atom-c absolute top-8 left-4">C</div>
                <div class="atom atom-h absolute top-0 left-4">H</div>
                <div class="atom atom-h absolute bottom-0 left-4">H</div>
                <div class="atom atom-h absolute top-8 left-[-20px]">H</div>
                <div class="bond w-12 top-[50%] left-[40px]"></div>

                <div class="atom atom-c absolute top-8 left-[80px]">C</div>
                <div class="atom atom-h absolute top-0 left-[80px]">H</div>
                <div class="atom atom-h absolute bottom-0 left-[80px]">H</div>
                <div class="bond w-12 top-[50%] left-[115px]"></div>

                <div class="atom atom-o absolute top-8 left-[150px]">O</div>
                <div class="bond w-8 top-[50%] left-[180px]"></div>
                <div
                  class="atom atom-h absolute top-8 left-[200px] border-2 border-blue-400 bg-blue-100"
                >
                  H
                </div>
              </div>
            </div>
            <p class="mt-3 text-sm text-slate-400 text-center">
              CTCT: <span class="text-white font-mono">CH₃ – CH₂ – OH</span>
            </p>
            <div class="mt-2 text-xs text-center text-blue-300">
              Nhóm -OH làm rượu có tính chất đặc trưng.
            </div>
          </div>

          <div class="glass p-6 rounded-2xl">
            <h3 class="text-xl font-bold mb-4 text-blue-400">
              <i class="fas fa-info-circle mr-2"></i>Tính Chất Vật Lí
            </h3>
            <ul class="space-y-3 text-sm">
              <li class="flex items-center gap-3 bg-white/5 p-2 rounded-lg">
                <i class="fas fa-tint text-blue-400 text-xl w-6"></i>
                <span>Chất lỏng, không màu, nhẹ hơn nước.</span>
              </li>
              <li class="flex items-center gap-3 bg-white/5 p-2 rounded-lg">
                <i class="fas fa-water text-cyan-400 text-xl w-6"></i>
                <span>Tan vô hạn trong nước, hòa tan được iot, benzen.</span>
              </li>
              <li class="flex items-center gap-3 bg-white/5 p-2 rounded-lg">
                <i class="fas fa-percent text-purple-400 text-xl w-6"></i>
                <span
                  ><strong>Độ cồn:</strong> % thể tích ethanol có trong dung
                  dịch.</span
                >
              </li>
            </ul>
            <div
              class="mt-4 p-3 bg-blue-900/30 rounded border border-blue-500/20"
            >
              <p class="text-xs text-blue-200">
                <i class="fas fa-lightbulb mr-1 text-yellow-400"></i>
                <strong>Em có biết?</strong> Cồn 70° sát khuẩn tốt hơn 90° do
                khả năng thấm vào tế bào vi khuẩn tốt hơn.
              </p>
            </div>
          </div>

          <div class="glass p-6 rounded-2xl border-l-4 border-red-500">
            <h3 class="text-xl font-bold mb-2 text-red-400">
              1. Phản ứng Cháy
            </h3>
            <p class="text-xs text-slate-400 mb-2 font-mono">
              C₂H₅OH + 3O₂ → 2CO₂ + 3H₂O
            </p>
            <p class="text-sm mb-4">
              Rượu cháy với ngọn lửa màu xanh nhạt, tỏa nhiều nhiệt.
            </p>

            <div
              class="flex items-end justify-center h-32 bg-slate-900 rounded-xl relative overflow-hidden cursor-pointer group"
              onclick="toggleFlame()"
            >
              <div
                class="absolute top-2 left-2 text-xs text-slate-500 animate-pulse"
              >
                Nhấp để bật lửa
              </div>
              <div
                class="w-16 h-12 bg-white/20 rounded-b-xl border border-white/30 backdrop-blur z-10"
              ></div>
              <div
                class="w-4 h-6 bg-yellow-100/50 absolute bottom-12 rounded-sm z-0"
              ></div>
              <div
                id="flame"
                class="w-8 h-12 bg-blue-500 rounded-t-full rounded-b-xl absolute bottom-[50px] blur-[4px] opacity-0 transition-opacity duration-500"
              ></div>
              <div
                id="flame-core"
                class="w-4 h-8 bg-cyan-200 rounded-full absolute bottom-[50px] blur-[2px] opacity-0 transition-opacity duration-500"
              ></div>
            </div>
          </div>

          <div
            class="glass p-6 rounded-2xl border-l-4 border-green-500 flex flex-col justify-between"
          >
            <div>
              <h3 class="text-xl font-bold mb-2 text-green-400">
                2. Tính chất khác & Ứng dụng
              </h3>
              <ul class="text-sm space-y-1 mb-4 text-slate-300">
                <li>
                  • <strong>Tác dụng với Na:</strong> 2C₂H₅OH + 2Na → 2C₂H₅ONa +
                  H₂↑
                </li>
                <li>
                  • <strong>Ứng dụng:</strong> Nhiên liệu, dung môi, dược phẩm,
                  đồ uống.
                </li>
              </ul>
              <hr class="border-white/10 mb-4" />
              <h4 class="font-bold text-sm text-green-300 mb-2">
                Bài tập: Tính lượng rượu nguyên chất
              </h4>
            </div>

            <div class="space-y-3">
              <div class="flex gap-2">
                <input
                  type="number"
                  id="vol-input"
                  placeholder="Thể tích dd (ml)"
                  class="w-full bg-slate-800 border border-slate-600 rounded p-2 text-sm focus:border-green-500 outline-none transition text-white"
                />
                <input
                  type="number"
                  id="deg-input"
                  placeholder="Độ rượu (°)"
                  class="w-full bg-slate-800 border border-slate-600 rounded p-2 text-sm focus:border-green-500 outline-none transition text-white"
                />
              </div>
              <button
                onclick="calcAlcohol()"
                class="w-full py-2 bg-green-600 hover:bg-green-500 rounded font-bold text-sm transition shadow-lg shadow-green-500/30"
              >
                Tính Ngay
              </button>
              <div
                id="calc-result"
                class="hidden mt-2 p-2 bg-green-500/20 text-green-300 text-sm rounded text-center font-bold"
              ></div>
            </div>
          </div>
        </div>
      </section>

      <section id="acetic" class="page-section hidden animate-fade-in">
        <header
          class="mb-8 flex justify-between items-end border-b border-amber-500/30 pb-4"
        >
          <div>
            <h2
              class="text-4xl font-black text-transparent bg-clip-text bg-gradient-to-r from-amber-400 to-yellow-300"
            >
              Axit Axetic
            </h2>
            <p class="text-amber-200 mt-2 font-mono">
              CTPT: CH₄O₂ (hay CH₃COOH)
            </p>
          </div>
          <div class="text-right hidden md:block">
            <span
              class="bg-amber-600/20 text-amber-300 px-3 py-1 rounded-full text-sm border border-amber-500/50"
              >Nhóm chức: –COOH</span
            >
          </div>
        </header>

        <div class="grid lg:grid-cols-2 gap-6">
          <div class="glass p-6 rounded-2xl">
            <h3 class="text-xl font-bold mb-4 text-amber-400">
              <i class="fas fa-flask mr-2"></i>Tính Chất Hóa Học
            </h3>
            <p class="mb-3 text-sm">
              Là axit hữu cơ yếu, nhưng mạnh hơn H₂CO₃. Có đầy đủ tính chất của
              axit:
            </p>
            <ul class="space-y-3 text-sm text-slate-300 pl-2">
              <li>
                <span class="text-red-400 font-bold">1.</span> Làm quỳ tím hóa
                đỏ (hồng).
              </li>
              <li>
                <span class="text-red-400 font-bold">2.</span> Tác dụng kim loại
                (đứng trước H): <br /><span
                  class="font-mono text-xs text-slate-400"
                  >2CH₃COOH + Mg → (CH₃COO)₂Mg + H₂↑</span
                >
              </li>
              <li>
                <span class="text-red-400 font-bold">3.</span> Tác dụng với
                Bazơ/Oxit Bazơ: <br /><span
                  class="font-mono text-xs text-slate-400"
                  >CH₃COOH + NaOH → CH₃COONa + H₂O</span
                >
              </li>
              <li
                class="bg-amber-900/20 p-2 rounded border border-amber-500/30"
              >
                <span class="text-red-400 font-bold">4.</span>
                <strong>Đặc biệt:</strong> Tác dụng với muối Carbonate (sủi
                bọt): <br /><span class="font-mono text-xs text-amber-200"
                  >2CH₃COOH + Na₂CO₃ → 2CH₃COONa + H₂O + CO₂↑</span
                >
              </li>
            </ul>
          </div>

          <div
            class="glass p-6 rounded-2xl border-t-4 border-amber-500 flex flex-col justify-between"
          >
            <div>
              <h3 class="text-xl font-bold text-amber-400">
                Thí nghiệm: Làm sạch cặn vôi
              </h3>
              <p class="text-xs text-slate-400 mb-4">
                Cặn vôi (CaCO₃) tan trong giấm, giải phóng khí CO₂.
              </p>
            </div>

            <div
              class="h-40 bg-slate-800 rounded-xl relative flex justify-center items-end overflow-hidden border border-slate-600"
            >
              <div
                class="w-full h-24 bg-amber-500/20 absolute bottom-0 border-t border-amber-500/30 backdrop-blur-sm z-10 transition-colors duration-500"
                id="acid-liquid"
              ></div>
              <div
                id="limestone"
                class="w-8 h-6 bg-slate-400 rounded-sm absolute bottom-[200px] transition-all duration-700 z-0 flex items-center justify-center text-[8px] text-black font-bold"
              >
                CaCO₃
              </div>
              <div
                id="bubbles-area"
                class="absolute bottom-0 w-full h-24 z-20 pointer-events-none"
              ></div>
            </div>

            <button
              onclick="runFizzTest()"
              class="mt-4 w-full py-2 bg-amber-600 hover:bg-amber-500 text-white font-bold rounded shadow-lg shadow-amber-600/30 transition"
            >
              <i class="fas fa-play mr-2"></i>Thả Đá Vôi
            </button>
            <div class="mt-2 text-[10px] text-center text-slate-500 italic">
              Vị chua của giấm là do CH₃COOH, không phải CO₂.
            </div>
          </div>

          <div class="lg:col-span-2 glass p-6 rounded-2xl">
            <h3 class="text-xl font-bold mb-4 text-amber-400">
              Ứng dụng đời sống & Công nghiệp
            </h3>
            <div class="grid grid-cols-2 md:grid-cols-4 gap-4 text-center">
              <div
                class="p-4 bg-white/5 rounded-xl hover:bg-white/10 transition group"
              >
                <i
                  class="fas fa-utensils text-3xl mb-2 text-slate-300 group-hover:text-amber-400 transition"
                ></i>
                <div class="font-bold text-sm">Giấm ăn</div>
                <div class="text-[10px] text-slate-400">dd 3-5%</div>
              </div>
              <div
                class="p-4 bg-white/5 rounded-xl hover:bg-white/10 transition group"
              >
                <i
                  class="fas fa-box text-3xl mb-2 text-slate-300 group-hover:text-amber-400 transition"
                ></i>
                <div class="font-bold text-sm">Nhựa & Tơ</div>
                <div class="text-[10px] text-slate-400">
                  Chất dẻo, tơ nhân tạo
                </div>
              </div>
              <div
                class="p-4 bg-white/5 rounded-xl hover:bg-white/10 transition group"
              >
                <i
                  class="fas fa-pills text-3xl mb-2 text-slate-300 group-hover:text-amber-400 transition"
                ></i>
                <div class="font-bold text-sm">Dược phẩm</div>
                <div class="text-[10px] text-slate-400">Thuốc aspirin...</div>
              </div>
              <div
                class="p-4 bg-white/5 rounded-xl hover:bg-white/10 transition group"
              >
                <i
                  class="fas fa-spray-can text-3xl mb-2 text-slate-300 group-hover:text-amber-400 transition"
                ></i>
                <div class="font-bold text-sm">Thuốc nhuộm</div>
                <div class="text-[10px] text-slate-400">Công nghiệp</div>
              </div>
            </div>
          </div>
        </div>
      </section>

      <section id="compare" class="page-section hidden animate-fade-in">
        <header class="mb-6 border-b border-emerald-500/30 pb-4">
          <h2 class="text-3xl font-black text-emerald-400">
            Tổng Kết & Mở Rộng
          </h2>
        </header>

        <div
          class="glass overflow-hidden rounded-2xl border border-slate-700 mb-8"
        >
          <table class="w-full text-left border-collapse">
            <thead>
              <tr class="bg-slate-900/50 text-slate-300">
                <th class="p-4 border-b border-slate-700">Tiêu chí</th>
                <th class="p-4 border-b border-slate-700 text-blue-400">
                  Ethanol (Rượu)
                </th>
                <th class="p-4 border-b border-slate-700 text-amber-400">
                  Axit Axetic (Giấm)
                </th>
              </tr>
            </thead>
            <tbody class="text-sm">
              <tr class="hover:bg-white/5">
                <td class="p-4 border-b border-slate-700 font-bold">CTPT</td>
                <td class="p-4 border-b border-slate-700">C₂H₆O</td>
                <td class="p-4 border-b border-slate-700">C₂H₄O₂</td>
              </tr>
              <tr class="hover:bg-white/5">
                <td class="p-4 border-b border-slate-700 font-bold">
                  Nhóm chức
                </td>
                <td class="p-4 border-b border-slate-700 font-mono">–OH</td>
                <td class="p-4 border-b border-slate-700 font-mono">–COOH</td>
              </tr>
              <tr class="hover:bg-white/5">
                <td class="p-4 border-b border-slate-700 font-bold">Quỳ tím</td>
                <td class="p-4 border-b border-slate-700">Không đổi màu</td>
                <td
                  class="p-4 border-b border-slate-700 text-red-400 font-bold"
                >
                  Hóa đỏ (hồng)
                </td>
              </tr>
              <tr class="hover:bg-white/5">
                <td class="p-4 border-b border-slate-700 font-bold">Với Na</td>
                <td class="p-4 border-b border-slate-700 text-green-400">
                  <i class="fas fa-check"></i> Có (ra H₂)
                </td>
                <td class="p-4 border-b border-slate-700 text-green-400">
                  <i class="fas fa-check"></i> Có (ra H₂)
                </td>
              </tr>
              <tr class="hover:bg-white/5">
                <td class="p-4 border-b border-slate-700 font-bold">
                  Với Muối Carbonate
                </td>
                <td class="p-4 border-b border-slate-700 text-slate-500">
                  <i class="fas fa-times"></i> Không
                </td>
                <td
                  class="p-4 border-b border-slate-700 text-green-400 font-bold"
                >
                  <i class="fas fa-check"></i> Có (Sủi bọt CO₂)
                </td>
              </tr>
            </tbody>
          </table>
        </div>

        <div class="glass p-6 rounded-2xl border-l-4 border-purple-500">
          <h3 class="text-xl font-bold mb-2 text-purple-400">
            <i class="fas fa-link mr-2"></i>Mối liên hệ: Lên men giấm
          </h3>
          <p class="mb-4 text-sm text-slate-300">
            Từ Rượu Ethanol có thể điều chế Axit Axetic nhờ men giấm và Oxi.
          </p>
          <div
            class="flex items-center justify-center gap-2 md:gap-4 text-center text-sm font-mono bg-black/20 p-4 rounded-xl flex-wrap"
          >
            <div
              class="bg-blue-900/40 px-3 py-1 rounded border border-blue-500/30"
            >
              <div class="text-blue-300 font-bold">C₂H₅OH</div>
              <div class="text-[10px] text-slate-400">Ethanol</div>
            </div>
            <div class="text-slate-400 font-bold">+ O₂</div>
            <div class="text-center px-2">
              <i class="fas fa-arrow-right text-slate-400"></i><br />
              <span class="text-[10px] text-purple-400">men giấm</span>
            </div>
            <div
              class="bg-amber-900/40 px-3 py-1 rounded border border-amber-500/30"
            >
              <div class="text-amber-300 font-bold">CH₃COOH</div>
              <div class="text-[10px] text-slate-400">Axit Axetic</div>
            </div>
            <div class="text-slate-400 font-bold">+ H₂O</div>
          </div>
          <p class="mt-3 text-xs text-slate-400 italic text-center">
            * Ngoài ra, Ethanol cũng được điều chế từ tinh bột/đường qua quá
            trình lên men.
          </p>
        </div>
      </section>

      <section
        id="game"
        class="page-section hidden animate-fade-in h-full flex flex-col"
      >
        <header class="mb-4 text-center shrink-0">
          <h2 class="text-3xl font-black text-purple-400">
            Game: Nhà Máy Hóa Chất
          </h2>
          <p class="text-slate-400 text-sm">
            Kéo thẻ đặc điểm vào đúng bồn chứa chất!
          </p>
        </header>

        <div class="flex-1 flex flex-col justify-center">
          <div class="grid grid-cols-2 gap-8 mb-8">
            <div
              id="bin-alcohol"
              class="h-48 glass rounded-2xl border-2 border-dashed border-blue-500/50 flex flex-col items-center justify-center transition hover:bg-blue-500/10"
              ondragover="allowDrop(event)"
              ondrop="drop(event, 'alcohol')"
            >
              <div
                class="w-16 h-16 bg-blue-500/20 rounded-full flex items-center justify-center mb-2"
              >
                <i class="fas fa-wine-bottle text-3xl text-blue-400"></i>
              </div>
              <span class="font-bold text-blue-300 text-lg">Bồn Ethanol</span>
              <span class="text-xs text-blue-500/70">C₂H₅OH</span>
            </div>

            <div
              id="bin-acid"
              class="h-48 glass rounded-2xl border-2 border-dashed border-amber-500/50 flex flex-col items-center justify-center transition hover:bg-amber-500/10"
              ondragover="allowDrop(event)"
              ondrop="drop(event, 'acid')"
            >
              <div
                class="w-16 h-16 bg-amber-500/20 rounded-full flex items-center justify-center mb-2"
              >
                <i class="fas fa-vial text-3xl text-amber-400"></i>
              </div>
              <span class="font-bold text-amber-300 text-lg">Bồn Axit</span>
              <span class="text-xs text-amber-500/70">CH₃COOH</span>
            </div>
          </div>

          <div
            id="item-pool"
            class="flex flex-wrap justify-center gap-3 p-4 bg-black/20 rounded-xl min-h-[120px] content-center"
          ></div>

          <div class="mt-8 text-center shrink-0">
            <div class="text-2xl font-bold mb-2">
              Điểm: <span id="score" class="text-green-400">0</span>
            </div>
            <div
              id="game-msg"
              class="h-6 mb-2 text-sm font-bold transition-all"
            ></div>
            <button
              onclick="initGame()"
              class="px-6 py-2 bg-purple-600 hover:bg-purple-500 rounded-full font-bold shadow-lg transition transform active:scale-95"
            >
              <i class="fas fa-redo mr-2"></i>Chơi Lại
            </button>
          </div>
        </div>
      </section>
    </main>

    <div
      id="toast"
      class="fixed top-5 right-5 bg-white text-slate-900 px-6 py-3 rounded-lg shadow-2xl transform translate-x-[150%] transition-transform duration-300 z-[100] font-bold border-l-4 border-green-500 flex items-center gap-3"
    >
      <i class="fas fa-check-circle text-green-600 text-xl"></i>
      <span id="toast-msg">Thông báo</span>
    </div>

    <script>
      // --- AUDIO SYSTEM ---
      const audioCtx = new (window.AudioContext || window.webkitAudioContext)();
      function playSound(type) {
        if (audioCtx.state === "suspended") audioCtx.resume();
        const osc = audioCtx.createOscillator();
        const gain = audioCtx.createGain();
        osc.connect(gain);
        gain.connect(audioCtx.destination);
        const now = audioCtx.currentTime;

        if (type === "click") {
          osc.type = "sine";
          osc.frequency.setValueAtTime(600, now);
          osc.frequency.exponentialRampToValueAtTime(300, now + 0.1);
          gain.gain.setValueAtTime(0.05, now);
          gain.gain.exponentialRampToValueAtTime(0.001, now + 0.1);
          osc.start(now);
          osc.stop(now + 0.1);
        } else if (type === "correct") {
          osc.type = "triangle";
          osc.frequency.setValueAtTime(400, now);
          osc.frequency.linearRampToValueAtTime(800, now + 0.1);
          gain.gain.setValueAtTime(0.1, now);
          gain.gain.linearRampToValueAtTime(0, now + 0.3);
          osc.start(now);
          osc.stop(now + 0.3);
        } else if (type === "wrong") {
          osc.type = "sawtooth";
          osc.frequency.setValueAtTime(150, now);
          osc.frequency.linearRampToValueAtTime(100, now + 0.2);
          gain.gain.setValueAtTime(0.1, now);
          gain.gain.linearRampToValueAtTime(0, now + 0.3);
          osc.start(now);
          osc.stop(now + 0.3);
        } else if (type === "fizz") {
          // Simple fizz sound using white noise approximation (random frequencies)
          osc.type = "square";
          osc.frequency.setValueAtTime(100, now);
          gain.gain.setValueAtTime(0.02, now);
          osc.start(now);
          osc.stop(now + 0.5);
        }
      }

      // --- NAVIGATION ---
      function nav(id) {
        playSound("click");
        // Hide all sections
        document.querySelectorAll(".page-section").forEach((el) => {
          el.classList.add("hidden");
          el.classList.remove("block");
        });
        // Show selected
        document.getElementById(id).classList.remove("hidden");
        document.getElementById(id).classList.add("block");

        // Update Sidebar UI
        document.querySelectorAll(".nav-item").forEach((el) => {
          el.classList.remove("bg-white/10", "border", "border-blue-500/30");
        });
        const activeBtn = document.getElementById("btn-" + id);
        if (activeBtn)
          activeBtn.classList.add(
            "bg-white/10",
            "border",
            "border-blue-500/30"
          );

        if (id === "game") initGame();
      }

      function showToast(msg, type = "success") {
        const t = document.getElementById("toast");
        document.getElementById("toast-msg").innerText = msg;
        t.className = `fixed top-5 right-5 bg-white text-slate-900 px-6 py-3 rounded-lg shadow-2xl transform transition-transform duration-300 z-[100] font-bold border-l-4 flex items-center gap-3 ${
          type === "success" ? "border-green-500" : "border-red-500"
        }`;
        t.style.transform = "translateX(0)";
        setTimeout(() => (t.style.transform = "translateX(150%)"), 3000);
      }

      // --- INTERACTIVE FEATURES ---

      // 1. Ethanol: Flame Toggle
      let isBurning = false;
      function toggleFlame() {
        isBurning = !isBurning;
        const flame = document.getElementById("flame");
        const core = document.getElementById("flame-core");
        if (isBurning) {
          playSound("click");
          flame.style.opacity = 0.8;
          core.style.opacity = 1;
          showToast("Đã bật lửa: Phản ứng tỏa nhiệt mạnh!");
        } else {
          flame.style.opacity = 0;
          core.style.opacity = 0;
        }
      }

      // 2. Ethanol: Degree Calculator
      function calcAlcohol() {
        const vol = parseFloat(document.getElementById("vol-input").value);
        const deg = parseFloat(document.getElementById("deg-input").value);
        const resBox = document.getElementById("calc-result");

        if (!vol || !deg) {
          showToast("Vui lòng nhập đủ số liệu!", "error");
          return;
        }

        // Formula: V_pure = (Degree * V_solution) / 100
        const pure = (deg * vol) / 100;
        playSound("correct");
        resBox.classList.remove("hidden");
        resBox.innerHTML = `Trong ${vol}ml rượu ${deg}° có <span class="text-white text-lg underline decoration-green-400">${pure}ml</span> Ethanol nguyên chất.`;
      }

      // 3. Acetic Acid: Fizz Test
      function runFizzTest() {
        const stone = document.getElementById("limestone");
        const liquid = document.getElementById("acid-liquid");
        const bubbles = document.getElementById("bubbles-area");

        // Animation sequence
        stone.style.bottom = "10px"; // Drop stone

        setTimeout(() => {
          playSound("fizz");
          liquid.classList.add("bg-amber-200/40"); // liquid reacts

          // Generate bubbles
          bubbles.innerHTML = "";
          for (let i = 0; i < 25; i++) {
            const b = document.createElement("div");
            b.className = "bubble";
            b.style.left = Math.random() * 90 + 5 + "%";
            b.style.width = Math.random() * 10 + 4 + "px";
            b.style.height = b.style.width;
            b.style.animationDuration = Math.random() * 1.5 + 0.5 + "s";
            b.style.animationDelay = Math.random() * 0.5 + "s";
            bubbles.appendChild(b);
          }

          showToast("Hiện tượng: Sủi bọt khí CO₂!");

          // Reset
          setTimeout(() => {
            stone.style.bottom = "200px";
            liquid.classList.remove("bg-amber-200/40");
            bubbles.innerHTML = "";
          }, 4000);
        }, 700);
      }

      // --- DRAG & DROP GAME ---
      const gameData = [
        { id: "g1", text: "C₂H₅OH", type: "alcohol" },
        { id: "g2", text: "CH₃COOH", type: "acid" },
        { id: "g3", text: "Quỳ tím → Đỏ", type: "acid" },
        { id: "g4", text: "Nhiên liệu sinh học", type: "alcohol" },
        { id: "g5", text: "Gia vị Giấm ăn", type: "acid" },
        { id: "g6", text: "Độ cồn", type: "alcohol" },
        { id: "g7", text: "Tác dụng CaCO₃", type: "acid" },
        { id: "g8", text: "Sát trùng y tế", type: "alcohol" },
        { id: "g9", text: "Tác dụng NaOH", type: "acid" }, // Acid also reacts with base
        { id: "g10", text: "Men từ đường", type: "alcohol" },
      ];

      let score = 0;

      function initGame() {
        score = 0;
        document.getElementById("score").innerText = score;
        document.getElementById("game-msg").innerText = "";
        const pool = document.getElementById("item-pool");
        pool.innerHTML = "";

        // Shuffle and create elements
        const shuffled = [...gameData].sort(() => 0.5 - Math.random());

        shuffled.forEach((item) => {
          const el = document.createElement("div");
          el.className =
            "cursor-grab bg-slate-700 px-3 py-2 rounded-lg border border-slate-500 shadow-lg font-bold hover:scale-105 hover:bg-slate-600 transition active:cursor-grabbing text-sm select-none";
          el.draggable = true;
          el.innerText = item.text;
          el.id = item.id;
          el.dataset.type = item.type;

          // Drag Events
          el.ondragstart = (ev) => {
            ev.dataTransfer.setData("id", ev.target.id);
            ev.dataTransfer.setData("type", ev.target.dataset.type);
            playSound("click");
          };

          pool.appendChild(el);
        });
      }

      function allowDrop(ev) {
        ev.preventDefault();
      }

      function drop(ev, binType) {
        ev.preventDefault();
        const id = ev.dataTransfer.getData("id");
        const type = ev.dataTransfer.getData("type");
        const el = document.getElementById(id);

        if (!el) return;

        if (type === binType) {
          playSound("correct");
          score += 10;
          document.getElementById("score").innerText = score;
          const msg = document.getElementById("game-msg");
          msg.innerText = "Chính xác! (+10)";
          msg.className = "h-6 mb-2 text-sm font-bold text-green-400";

          el.remove();

          // Bin Animation
          ev.currentTarget.classList.add("scale-105", "bg-white/10");
          setTimeout(
            () => ev.currentTarget.classList.remove("scale-105", "bg-white/10"),
            200
          );

          if (document.getElementById("item-pool").children.length === 0) {
            showToast("Chúc mừng! Bạn đã hoàn thành xuất sắc!", "success");
          }
        } else {
          playSound("wrong");
          score -= 5;
          document.getElementById("score").innerText = score;
          const msg = document.getElementById("game-msg");
          msg.innerText = "Sai rồi! (-5)";
          msg.className = "h-6 mb-2 text-sm font-bold text-red-400";
        }
      }

      // Enter key listeners for calculator
      document
        .getElementById("vol-input")
        .addEventListener("keypress", function (e) {
          if (e.key === "Enter") calcAlcohol();
        });
      document
        .getElementById("deg-input")
        .addEventListener("keypress", function (e) {
          if (e.key === "Enter") calcAlcohol();
        });

      // Init
      nav("ethanol"); // Start at first tab
    </script>
  </body>
</html>
