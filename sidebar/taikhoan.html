<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>T√†i Kho·∫£n | EDUMATTER PRO</title>
    <link rel="icon" href="../favicon/edumatter.svg" type="image/svg+xml" />
    <!-- FontAwesome & Google Fonts -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="taikhoan.css" />
  </head>
  <body>
    <!-- BACKGROUND CANVAS -->
    <canvas id="bg-canvas"></canvas>

    <!-- CUSTOM CURSOR -->
    <div id="custom-cursor"></div>
    <div id="cursor-follower"></div>

    <!-- NOTIFICATION CONTAINER -->
    <div class="toast-container" id="toast-container"></div>

    <!-- HEADER -->
    <header>
      <div class="logo-area">
        <i class="fa-solid fa-atom"></i> EDUMATTER
        <span
          style="
            font-size: 0.8em;
            opacity: 0.6;
            font-weight: 400;
            margin-left: 5px;
          "
          >PRO</span
        >
      </div>
      <div class="header-actions">
        <!-- Role Switcher for Demo -->
        <button
          class="role-switcher"
          onclick="App.toggleRole()"
          title="Click ƒë·ªÉ ƒë·ªïi vai tr√≤ (Demo)"
        >
          <i class="fa-solid fa-repeat"></i>
          <span id="header-role-text">Switch Mode</span>
        </button>

        <a href="../index.html" class="nav-btn">
          <i class="fa-solid fa-house"></i> Trang ch·ªß
        </a>
      </div>
    </header>

    <!-- MAIN CONTENT -->
    <div class="main-content">
      <!-- SIDEBAR -->
      <aside>
        <div class="sidebar-card">
          <div class="user-quick-view">
            <div class="avatar-wrapper">
              <img
                src="https://ui-avatars.com/api/?name=User&background=random"
                alt="Avatar"
                class="avatar-img"
                id="sidebar-avatar"
              />
              <label
                for="file-input"
                class="change-avatar-btn"
                title="ƒê·ªïi Avatar"
              >
                <i class="fa-solid fa-camera"></i>
              </label>
              <input type="file" id="file-input" accept="image/*" />
            </div>
            <h3 class="user-name" id="sidebar-name">ƒêang t·∫£i...</h3>
            <span class="user-role-badge" id="sidebar-role">Student</span>
          </div>

          <ul class="menu-list">
            <li
              class="menu-item active"
              onclick="UI.switchTab('dashboard', this)"
            >
              <i class="fa-solid fa-gauge-high"></i> T·ªïng quan
            </li>
            <li class="menu-item" onclick="UI.switchTab('classes', this)">
              <i class="fa-solid fa-chalkboard-user"></i>
              <span id="menu-class-text">L·ªõp h·ªçc c·ªßa t√¥i</span>
            </li>
            <li class="menu-item" onclick="UI.switchTab('profile', this)">
              <i class="fa-solid fa-user"></i> H·ªì s∆° c√° nh√¢n
            </li>
            <li class="menu-item" onclick="UI.switchTab('security', this)">
              <i class="fa-solid fa-shield-halved"></i> B·∫£o m·∫≠t
            </li>
            <li class="menu-item" onclick="UI.switchTab('settings', this)">
              <i class="fa-solid fa-gear"></i> T√πy bi·∫øn giao di·ªán
            </li>
            <li
              class="menu-item"
              style="color: var(--danger); margin-top: 20px"
              onclick="UI.logout()"
            >
              <i class="fa-solid fa-right-from-bracket"></i> ƒêƒÉng xu·∫•t
            </li>
          </ul>
        </div>
      </aside>

      <!-- CONTENT PANELS -->
      <main class="panel-container">
        <!-- PANEL: DASHBOARD (Dynamic based on settings) -->
        <div id="panel-dashboard" class="panel active">
          <!-- Welcome Banner -->
          <div
            class="card-box"
            style="
              background: linear-gradient(
                135deg,
                rgba(75, 107, 251, 0.2),
                rgba(168, 85, 247, 0.2)
              );
            "
          >
            <h2 style="margin-bottom: 10px; color: white">
              üëã Xin ch√†o, <span id="dash-name">User</span>!
            </h2>
            <p style="color: #ddd">
              H√¥m nay l√† m·ªôt ng√†y tuy·ªát v·ªùi ƒë·ªÉ
              <span id="dash-action-text">h·ªçc h·ªèi ƒëi·ªÅu m·ªõi</span>.
            </p>
          </div>

          <!-- Widget: Stats (Toggleable) -->
          <div id="widget-stats" class="widget-block">
            <div class="stats-grid" id="stats-container">
              <!-- JS will inject content here based on Role -->
            </div>
          </div>

          <div class="form-grid">
            <!-- Widget: Upcoming Tasks -->
            <div
              id="widget-tasks"
              class="widget-block"
              style="grid-column: span 1"
            >
              <div class="card-box" style="height: 100%">
                <div class="card-header">
                  <h2 class="card-title">
                    <i class="fa-solid fa-list-check"></i> Nhi·ªám v·ª• s·∫Øp t·ªõi
                  </h2>
                </div>
                <div class="task-list" id="task-list-container">
                  <!-- JS Injects tasks -->
                </div>
              </div>
            </div>

            <!-- Widget: Activity Chart (Toggleable) -->
            <div
              id="widget-activity"
              class="widget-block"
              style="grid-column: span 1"
            >
              <div class="card-box" style="height: 100%">
                <div class="card-header">
                  <h2 class="card-title">
                    <i class="fa-solid fa-chart-line"></i> Ho·∫°t ƒë·ªông 7 ng√†y
                  </h2>
                </div>
                <div class="activity-chart" id="chart-bars">
                  <!-- JS injects bars -->
                </div>
                <div
                  style="
                    display: flex;
                    justify-content: space-between;
                    margin-top: 10px;
                    color: #666;
                    font-size: 0.8rem;
                  "
                >
                  <span>T2</span><span>T3</span><span>T4</span><span>T5</span
                  ><span>T6</span><span>T7</span><span>CN</span>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- PANEL: CLASSES -->
        <div id="panel-classes" class="panel">
          <div class="card-box">
            <div class="card-header">
              <h2 class="card-title">
                <i class="fa-solid fa-chalkboard"></i> Qu·∫£n l√Ω l·ªõp h·ªçc
              </h2>
              <button
                class="btn btn-primary"
                id="btn-add-class"
                onclick="App.handleClassAction()"
              >
                <i class="fa-solid fa-plus"></i>
                <span id="btn-class-text">Tham gia l·ªõp</span>
              </button>
            </div>

            <!-- Empty State -->
            <div
              id="class-empty"
              style="text-align: center; padding: 40px; display: none"
            >
              <i
                class="fa-solid fa-school-circle-xmark"
                style="font-size: 3rem; color: #444; margin-bottom: 20px"
              ></i>
              <p style="color: var(--text-muted)">B·∫°n ch∆∞a c√≥ l·ªõp h·ªçc n√†o.</p>
            </div>

            <!-- Grid -->
            <div class="class-grid" id="class-list">
              <!-- JS Injects Classes -->
            </div>
          </div>
        </div>

        <!-- PANEL: PROFILE -->
        <div id="panel-profile" class="panel">
          <div class="card-box" id="card-profile-info">
            <div class="loading-overlay"><div class="spinner"></div></div>
            <div class="card-header">
              <h2 class="card-title">
                <i class="fa-solid fa-id-card"></i> H·ªì s∆° chi ti·∫øt
              </h2>
              <button
                class="btn btn-outline"
                id="btn-edit-profile"
                onclick="UI.toggleEditProfile()"
              >
                <i class="fa-solid fa-pen"></i> Ch·ªânh s·ª≠a
              </button>
            </div>

            <form
              id="form-profile"
              onsubmit="event.preventDefault(); App.updateProfile();"
            >
              <div class="form-grid">
                <div class="form-group">
                  <label class="form-label">T√™n hi·ªÉn th·ªã</label>
                  <input
                    type="text"
                    class="form-input"
                    id="inp-username"
                    disabled
                    required
                  />
                </div>
                <div class="form-group">
                  <label class="form-label">Email</label>
                  <input
                    type="email"
                    class="form-input"
                    id="inp-email"
                    disabled
                    required
                  />
                </div>
                <div class="form-group">
                  <label class="form-label">S·ªë ƒëi·ªán tho·∫°i</label>
                  <input
                    type="text"
                    class="form-input"
                    id="inp-phone"
                    disabled
                    placeholder="Ch∆∞a c·∫≠p nh·∫≠t"
                  />
                </div>
                <div class="form-group">
                  <label class="form-label">Ng√†y sinh</label>
                  <input type="date" class="form-input" id="inp-dob" disabled />
                </div>
                <div class="form-group full-width">
                  <label class="form-label">Tr∆∞·ªùng h·ªçc / ƒê∆°n v·ªã c√¥ng t√°c</label>
                  <input
                    type="text"
                    class="form-input"
                    id="inp-school"
                    disabled
                    placeholder="V√≠ d·ª•: ƒê·∫°i h·ªçc B√°ch Khoa H√† N·ªôi"
                  />
                </div>
                <div class="form-group full-width">
                  <label class="form-label">Gi·ªõi thi·ªáu b·∫£n th√¢n</label>
                  <input
                    type="text"
                    class="form-input"
                    id="inp-bio"
                    disabled
                    placeholder="H√£y vi·∫øt g√¨ ƒë√≥ v·ªÅ b·∫°n..."
                  />
                </div>
              </div>

              <div
                id="profile-actions"
                style="display: none; margin-top: 20px; gap: 10px"
              >
                <button type="submit" class="btn btn-primary">
                  L∆∞u thay ƒë·ªïi
                </button>
                <button
                  type="button"
                  class="btn btn-outline"
                  onclick="UI.cancelEditProfile()"
                >
                  H·ªßy
                </button>
              </div>
            </form>
          </div>
        </div>

        <!-- PANEL: SECURITY -->
        <div id="panel-security" class="panel">
          <div class="card-box" id="card-security">
            <div class="loading-overlay"><div class="spinner"></div></div>
            <div class="card-header">
              <h2 class="card-title">
                <i class="fa-solid fa-key"></i> ƒê·ªïi m·∫≠t kh·∫©u
              </h2>
            </div>
            <form onsubmit="event.preventDefault(); App.changePassword();">
              <div class="form-group">
                <label class="form-label">M·∫≠t kh·∫©u hi·ªán t·∫°i</label>
                <input
                  type="password"
                  class="form-input"
                  id="old-pass"
                  required
                />
              </div>
              <div class="form-grid">
                <div class="form-group">
                  <label class="form-label">M·∫≠t kh·∫©u m·ªõi</label>
                  <input
                    type="password"
                    class="form-input"
                    id="new-pass"
                    required
                  />
                </div>
                <div class="form-group">
                  <label class="form-label">X√°c nh·∫≠n m·∫≠t kh·∫©u m·ªõi</label>
                  <input
                    type="password"
                    class="form-input"
                    id="confirm-pass"
                    required
                  />
                </div>
              </div>
              <button type="submit" class="btn btn-primary">
                C·∫≠p nh·∫≠t m·∫≠t kh·∫©u
              </button>
            </form>
          </div>
        </div>

        <!-- PANEL: SETTINGS (CUSTOMIZATION) -->
        <div id="panel-settings" class="panel">
          <div class="card-box">
            <div class="card-header">
              <h2 class="card-title">
                <i class="fa-solid fa-palette"></i> T√πy bi·∫øn Dashboard
              </h2>
            </div>
            <p style="color: var(--text-muted); margin-bottom: 20px">
              Ch·ªçn nh·ªØng n·ªôi dung b·∫°n mu·ªën nh√¨n th·∫•y tr√™n trang T·ªïng quan.
            </p>

            <div class="switch-wrap">
              <span style="color: white">Hi·ªÉn th·ªã Th·ªëng k√™ (Stats)</span>
              <label class="switch">
                <input
                  type="checkbox"
                  id="toggle-stats"
                  onchange="App.toggleWidget('stats')"
                  checked
                />
                <span class="slider"></span>
              </label>
            </div>

            <div class="switch-wrap">
              <span style="color: white">Hi·ªÉn th·ªã Nhi·ªám v·ª• s·∫Øp t·ªõi</span>
              <label class="switch">
                <input
                  type="checkbox"
                  id="toggle-tasks"
                  onchange="App.toggleWidget('tasks')"
                  checked
                />
                <span class="slider"></span>
              </label>
            </div>

            <div class="switch-wrap">
              <span style="color: white">Hi·ªÉn th·ªã Bi·ªÉu ƒë·ªì ho·∫°t ƒë·ªông</span>
              <label class="switch">
                <input
                  type="checkbox"
                  id="toggle-activity"
                  onchange="App.toggleWidget('activity')"
                  checked
                />
                <span class="slider"></span>
              </label>
            </div>
          </div>

          <div class="card-box">
            <div class="card-header">
              <h2 class="card-title">
                <i class="fa-solid fa-trash"></i> V√πng nguy hi·ªÉm
              </h2>
            </div>
            <button
              class="btn"
              style="
                background: rgba(255, 60, 60, 0.1);
                color: var(--danger);
                border: 1px solid var(--danger);
              "
              onclick="App.resetData()"
            >
              Reset to√†n b·ªô d·ªØ li·ªáu demo
            </button>
          </div>
        </div>
      </main>
    </div>

    <!-- JAVASCRIPT -->
    <script src="taikhoan.js"></script>
  </body>
</html>
