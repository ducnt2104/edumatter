<!doctype html>
<html lang="vi" class="light">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Ch∆∞∆°ng 6: ƒê·∫°i C∆∞∆°ng V·ªÅ Kim Lo·∫°i ‚Äì ChemStudy Expert</title>
    <link rel="icon" href="../../../favicon/educhem.avg" />

    <!-- TailwindCSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- Font Awesome -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />

    <!-- Google Fonts -->
    <link
      href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@300;400;600;700&family=Be+Vietnam+Pro:wght@300;400;500;600;700&display=swap"
      rel="stylesheet"
    />

    <!-- Config Tailwind -->
    <script>
      tailwind.config = {
        darkMode: "class",
        theme: {
          extend: {
            fontFamily: {
              sans: ['"Be Vietnam Pro"', "sans-serif"],
              display: ['"Space Grotesk"', "sans-serif"],
            },
            colors: {
              chem: {
                blue: "#3b82f6",
                purple: "#8b5cf6",
                green: "#10b981",
                dark: "#0f172a",
                light: "#f8fafc",
              },
            },
            animation: {
              float: "floating 3s ease-in-out infinite",
              "pulse-slow": "pulse 4s cubic-bezier(0.4, 0, 0.6, 1) infinite",
              "spin-slow": "spin 8s linear infinite",
            },
            keyframes: {
              floating: {
                "0%, 100%": { transform: "translateY(0)" },
                "50%": { transform: "translateY(-10px)" },
              },
            },
          },
        },
      };
    </script>

    <style>
      /* CSS Variables & Global Styles */
      :root {
        --footer-bg: #0f172a;
        --footer-text: #e2e8f0;
        --p-primary: #3b82f6;
      }

      html.dark :root {
        --footer-bg: #020617;
      }

      body {
        transition:
          background-color 0.5s ease,
          color 0.5s ease;
      }

      /* Glassmorphism Classes */
      .glass-card {
        background: rgba(255, 255, 255, 0.7);
        backdrop-filter: blur(12px);
        -webkit-backdrop-filter: blur(12px);
        border: 1px solid rgba(255, 255, 255, 0.3);
        transition: all 0.3s ease;
      }

      .dark .glass-card {
        background: rgba(30, 41, 59, 0.6);
        border: 1px solid rgba(255, 255, 255, 0.05);
      }

      .glass-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 10px 30px -10px rgba(0, 0, 0, 0.1);
      }

      .glass-nav {
        background: rgba(255, 255, 255, 0.85);
        backdrop-filter: blur(16px);
        border-bottom: 1px solid rgba(0, 0, 0, 0.05);
      }

      .dark .glass-nav {
        background: rgba(15, 23, 42, 0.85);
        border-bottom: 1px solid rgba(255, 255, 255, 0.05);
      }

      /* Gradient Text */
      .text-gradient {
        background-clip: text;
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-image: linear-gradient(to right, #3b82f6, #8b5cf6, #ec4899);
      }

      /* Custom Scrollbar */
      ::-webkit-scrollbar {
        width: 8px;
      }
      ::-webkit-scrollbar-track {
        background: transparent;
      }
      ::-webkit-scrollbar-thumb {
        background: #cbd5e1;
        border-radius: 4px;
      }
      .dark ::-webkit-scrollbar-thumb {
        background: #475569;
      }

      /* Footer Specifics (Provided Code) */
      footer {
        background: var(--footer-bg);
        color: var(--footer-text);
        padding: 100px 5% 40px;
        position: relative;
        overflow: hidden;
        transition:
          background-color 0.8s ease,
          color 0.8s ease;
      }

      .footer-waves {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 60px;
        background: var(--footer-bg);
        clip-path: polygon(
          0% 45%,
          16% 44%,
          33% 50%,
          54% 60%,
          70% 61%,
          84% 59%,
          100% 52%,
          100% 100%,
          0% 100%
        );
        transition: background-color 0.8s;
      }

      .footer-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        gap: 60px;
        max-width: 1200px;
        margin: 0 auto;
      }

      .icon-btn {
        color: #94a3b8;
        font-size: 1.2rem;
        transition: 0.3s;
      }

      .icon-btn:hover {
        color: white;
        transform: scale(1.1);
      }

      .contact-item {
        margin-bottom: 15px;
        display: flex;
        align-items: center;
        gap: 15px;
        color: #94a3b8;
        transition: 0.3s;
      }

      .contact-item i {
        color: var(--p-primary);
      }

      .contact-item:hover {
        color: white;
        transform: translateX(5px);
      }

      .footer-brand h2 {
        font-family: "Space Grotesk", sans-serif;
        font-size: 2rem;
        margin-bottom: 20px;
      }

      .footer-links h4,
      h3 {
        margin-bottom: 25px;
        text-transform: uppercase;
        letter-spacing: 2px;
        color: var(--p-primary);
      }

      .copyright {
        margin-top: 80px;
        text-align: center;
        padding-top: 30px;
        border-top: 1px solid rgba(255, 255, 255, 0.05);
        color: #475569;
        font-size: 0.9rem;
      }

      /* Simulation Specific CSS */
      .sim-container {
        position: relative;
        overflow: hidden;
        border-radius: 1rem;
        background: linear-gradient(to bottom, #f0f9ff, #e0f2fe);
      }
      .dark .sim-container {
        background: linear-gradient(to bottom, #1e293b, #0f172a);
      }

      .atom {
        transition: all 0.5s ease;
      }

      .electron {
        width: 4px;
        height: 4px;
        background-color: #fbbf24;
        border-radius: 50%;
        position: absolute;
        pointer-events: none;
        box-shadow: 0 0 4px #fbbf24;
      }

      .bubble {
        position: absolute;
        background: rgba(255, 255, 255, 0.6);
        border-radius: 50%;
        animation: rise 2s infinite ease-in;
      }

      @keyframes rise {
        0% {
          bottom: 0;
          opacity: 0;
          transform: scale(0.5);
        }
        50% {
          opacity: 1;
        }
        100% {
          bottom: 100%;
          opacity: 0;
          transform: scale(1.2);
        }
      }

      /* Lattice 3D imitation */
      .lattice-node {
        width: 30px;
        height: 30px;
        border-radius: 50%;
        background: radial-gradient(circle at 30% 30%, #60a5fa, #1d4ed8);
        position: absolute;
        transition: all 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        box-shadow: 2px 2px 5px rgba(0, 0, 0, 0.3);
      }

      /* Quiz Styles */
      .quiz-option {
        transition: all 0.2s;
        cursor: pointer;
      }
      .quiz-option:hover {
        background-color: rgba(59, 130, 246, 0.1);
        border-color: #3b82f6;
      }
      .quiz-option.selected {
        background-color: #3b82f6;
        color: white;
        border-color: #3b82f6;
      }
      .quiz-option.correct {
        background-color: #22c55e;
        color: white;
        border-color: #22c55e;
      }
      .quiz-option.wrong {
        background-color: #ef4444;
        color: white;
        border-color: #ef4444;
      }
    </style>
  </head>
  <body
    class="bg-gray-50 text-gray-800 dark:bg-slate-900 dark:text-gray-100 font-sans antialiased overflow-x-hidden"
  >
    <!-- HEADER -->
    <header
      class="fixed w-full top-0 z-50 glass-nav transition-all duration-300"
    >
      <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="flex justify-between items-center h-20">
          <!-- Logo -->
          <div
            class="flex items-center gap-3 cursor-pointer group"
            onclick="window.scrollTo(0, 0)"
          >
            <div
              class="w-10 h-10 rounded-full bg-gradient-to-br from-blue-500 to-green-500 flex items-center justify-center text-white font-bold text-xl shadow-lg group-hover:shadow-blue-500/50 transition-all duration-300"
            >
              <i class="fas fa-atom text-2xl group-hover:animate-spin"></i>
            </div>
            <span
              class="font-display font-bold text-xl md:text-2xl tracking-tight bg-clip-text text-transparent bg-gradient-to-r from-blue-600 to-green-500 dark:from-blue-400 dark:to-green-400"
            >
              ChemStudy Expert
            </span>
          </div>

          <!-- Desktop Menu -->
          <nav class="hidden md:flex space-x-8">
            <a
              href="#sec-structure"
              class="hover:text-blue-500 font-medium transition-colors"
              >C·∫•u T·∫°o</a
            >
            <a
              href="#sec-physical"
              class="hover:text-blue-500 font-medium transition-colors"
              >V·∫≠t L√Ω</a
            >
            <a
              href="#sec-chemical"
              class="hover:text-blue-500 font-medium transition-colors"
              >H√≥a H·ªçc</a
            >
            <a
              href="#sec-extraction"
              class="hover:text-blue-500 font-medium transition-colors"
              >ƒêi·ªÅu Ch·∫ø</a
            >
            <a
              href="#sec-corrosion"
              class="hover:text-blue-500 font-medium transition-colors"
              >ƒÇn M√≤n</a
            >
          </nav>

          <!-- Tools -->
          <div class="flex items-center gap-4">
            <button
              id="theme-toggle"
              class="w-10 h-10 rounded-full bg-gray-200 dark:bg-gray-700 flex items-center justify-center hover:bg-gray-300 dark:hover:bg-gray-600 transition-colors focus:outline-none"
            >
              <i
                class="fas fa-moon text-gray-600 dark:text-yellow-300 text-lg transition-transform duration-500 transform rotate-0 dark:-rotate-180"
              ></i>
            </button>
            <!-- Mobile Menu Button -->
            <button class="md:hidden text-gray-600 dark:text-gray-300 text-2xl">
              <i class="fas fa-bars"></i>
            </button>
          </div>
        </div>
      </div>
    </header>

    <!-- MAIN CONTENT -->
    <main class="pt-24 pb-20 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 space-y-24">
      <!-- HERO SECTION -->
      <section class="text-center py-20 relative">
        <div
          class="absolute top-10 left-10 text-6xl text-blue-500 opacity-10 animate-float"
        >
          <i class="fas fa-cube"></i>
        </div>
        <div
          class="absolute bottom-10 right-10 text-6xl text-green-500 opacity-10 animate-float"
          style="animation-delay: 1.5s"
        >
          <i class="fas fa-flask"></i>
        </div>

        <span
          class="inline-block py-1 px-3 rounded-full bg-blue-100 dark:bg-blue-900/30 text-blue-600 dark:text-blue-300 text-sm font-bold mb-4 animate-pulse-slow"
        >
          H√ìA H·ªåC 12 ‚Ä¢ CH∆Ø∆†NG 6
        </span>
        <h1
          class="text-5xl md:text-7xl font-display font-bold mb-6 leading-tight"
        >
          ƒê·∫°i C∆∞∆°ng V·ªÅ <br />
          <span class="text-gradient">Kim Lo·∫°i</span>
        </h1>
        <p
          class="text-xl text-gray-600 dark:text-gray-300 max-w-2xl mx-auto mb-10 leading-relaxed"
        >
          Kh√°m ph√° th·∫ø gi·ªõi c·ªßa c√°c nguy√™n t·ª≠ kim lo·∫°i, t·ª´ c·∫•u tr√∫c tinh th·ªÉ vi
          m√¥ ƒë·∫øn nh·ªØng ·ª©ng d·ª•ng kh·ªïng l·ªì trong ƒë·ªùi s·ªëng.
          <br />H·ªçc qua tr·∫£i nghi·ªám - Hi·ªÉu qua t∆∞∆°ng t√°c.
        </p>
        <button
          onclick="
            document
              .getElementById('sec-structure')
              .scrollIntoView({ behavior: 'smooth' })
          "
          class="group relative px-8 py-4 bg-blue-600 text-white rounded-full font-bold text-lg shadow-lg hover:shadow-blue-500/40 transition-all duration-300 hover:-translate-y-1 overflow-hidden"
        >
          <span class="relative z-10 flex items-center gap-2">
            B·∫Øt ƒë·∫ßu b√†i h·ªçc
            <i
              class="fas fa-arrow-down group-hover:translate-y-1 transition-transform"
            ></i>
          </span>
          <div
            class="absolute inset-0 bg-gradient-to-r from-blue-600 to-indigo-600 group-hover:scale-105 transition-transform duration-300"
          ></div>
        </button>
      </section>

      <!-- ================= SECTION I: C·∫§U T·∫†O ================= -->
      <section id="sec-structure" class="scroll-mt-28">
        <div class="flex items-center gap-4 mb-8">
          <div
            class="w-12 h-12 rounded-xl bg-blue-500 flex items-center justify-center text-white text-2xl shadow-lg shadow-blue-500/30"
          >
            <i class="fas fa-shapes"></i>
          </div>
          <h2 class="text-3xl md:text-4xl font-display font-bold">
            I. C·∫•u T·∫°o & Li√™n K·∫øt
          </h2>
        </div>

        <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
          <!-- A. Theory -->
          <div class="glass-card p-6 rounded-2xl md:col-span-1 h-full">
            <h3
              class="text-xl font-bold text-blue-500 mb-4 border-b border-gray-200 dark:border-gray-700 pb-2"
            >
              <i class="fas fa-book-open mr-2"></i> Ki·∫øn Th·ª©c L√Ω Thuy·∫øt
            </h3>
            <ul class="space-y-4 text-gray-700 dark:text-gray-300">
              <li class="flex gap-3">
                <i class="fas fa-check-circle text-green-500 mt-1"></i>
                <div>
                  <strong>V·ªã tr√≠ BTH:</strong> Nh√≥m IA (tr·ª´ H), IIA, IIIA (tr·ª´
                  B), m·ªôt ph·∫ßn IVA-VIA. T·∫•t c·∫£ nh√≥m B (IB-VIIIB), h·ªç
                  Lanthanides, Actinides.
                </div>
              </li>
              <li class="flex gap-3">
                <i class="fas fa-check-circle text-green-500 mt-1"></i>
                <div>
                  <strong>C·∫•u h√¨nh e:</strong> √çt e l·ªõp ngo√†i c√πng (1, 2, 3e).
                  B√°n k√≠nh nguy√™n t·ª≠ > phi kim, ƒëi·ªán t√≠ch h·∫°t nh√¢n nh·ªè h∆°n
                  (trong c√πng chu k√¨).
                </div>
              </li>
              <li class="flex gap-3">
                <i class="fas fa-check-circle text-green-500 mt-1"></i>
                <div>
                  <strong>M·∫°ng tinh th·ªÉ:</strong>
                  <ul
                    class="list-disc ml-5 mt-1 text-sm text-gray-500 dark:text-gray-400"
                  >
                    <li>L·∫≠p ph∆∞∆°ng t√¢m kh·ªëi: Li, Na, K, Ba, Fe, Cr...</li>
                    <li>L·∫≠p ph∆∞∆°ng t√¢m di·ªán: Cu, Ag, Au, Al, Ni...</li>
                    <li>L·ª•c ph∆∞∆°ng: Be, Mg, Zn...</li>
                  </ul>
                </div>
              </li>
              <li class="flex gap-3">
                <i class="fas fa-check-circle text-green-500 mt-1"></i>
                <div>
                  <strong>Li√™n k·∫øt kim lo·∫°i:</strong> L·ª±c h√∫t tƒ©nh ƒëi·ªán gi·ªØa ion
                  d∆∞∆°ng (+) t·∫°i n√∫t m·∫°ng v√† c√°c electron t·ª± do (-) chuy·ªÉn ƒë·ªông
                  h·ªón lo·∫°n.
                </div>
              </li>
            </ul>
          </div>

          <!-- B. Interactive Model: Lattice Types -->
          <div class="glass-card p-6 rounded-2xl md:col-span-1 flex flex-col">
            <h3 class="text-xl font-bold text-purple-500 mb-4">
              <i class="fas fa-cube mr-2"></i> M√¥ Ph·ªèng M·∫°ng Tinh Th·ªÉ
            </h3>
            <div
              class="flex-grow sim-container bg-gray-100 dark:bg-gray-800 rounded-xl h-64 relative flex items-center justify-center perspective-1000"
              id="lattice-container"
            >
              <!-- Lattice nodes will be injected here by JS -->
              <div class="text-gray-400">Ch·ªçn m·ªôt ki·ªÉu m·∫°ng b√™n d∆∞·ªõi</div>
            </div>
            <div class="flex gap-2 mt-4 justify-center">
              <button
                onclick="renderLattice('bcc')"
                class="px-3 py-1 bg-gray-200 dark:bg-gray-700 rounded hover:bg-blue-500 hover:text-white transition text-sm font-bold"
              >
                L·∫≠p ph∆∞∆°ng t√¢m kh·ªëi (BCC)
              </button>
              <button
                onclick="renderLattice('fcc')"
                class="px-3 py-1 bg-gray-200 dark:bg-gray-700 rounded hover:bg-blue-500 hover:text-white transition text-sm font-bold"
              >
                L·∫≠p ph∆∞∆°ng t√¢m di·ªán (FCC)
              </button>
              <button
                onclick="renderLattice('hcp')"
                class="px-3 py-1 bg-gray-200 dark:bg-gray-700 rounded hover:bg-blue-500 hover:text-white transition text-sm font-bold"
              >
                L·ª•c ph∆∞∆°ng (HCP)
              </button>
            </div>
            <p class="text-xs text-center mt-2 text-gray-500 italic">
              B·∫•m n√∫t ƒë·ªÉ xem c·∫•u tr√∫c s·∫Øp x·∫øp c√°c nguy√™n t·ª≠
            </p>
          </div>
        </div>

        <!-- Simulation: Electron Sea -->
        <div class="mt-8 glass-card p-6 rounded-2xl">
          <div class="flex justify-between items-end mb-4">
            <h3 class="text-xl font-bold text-orange-500">
              <i class="fas fa-water mr-2"></i> M√¥ H√¨nh "Bi·ªÉn Electron"
            </h3>
            <span
              class="text-sm bg-orange-100 text-orange-600 px-2 py-1 rounded dark:bg-orange-900 dark:text-orange-200"
            >
              Electron t·ª± do di chuy·ªÉn
            </span>
          </div>
          <div
            class="relative w-full h-64 bg-slate-900 rounded-xl overflow-hidden shadow-inner"
            id="electron-sea"
          >
            <canvas
              id="seaCanvas"
              class="absolute top-0 left-0 w-full h-full"
            ></canvas>
            <div
              class="absolute bottom-4 left-4 text-white text-xs bg-black/50 p-2 rounded backdrop-blur-sm pointer-events-none"
            >
              üî¥ Ion d∆∞∆°ng (ƒë·ª©ng y√™n/dao ƒë·ªông) <br />
              üü° Electron t·ª± do (di chuy·ªÉn h·ªón lo·∫°n)
            </div>
          </div>
          <div class="mt-4 text-sm text-gray-600 dark:text-gray-400">
            <strong>B·∫£n ch·∫•t:</strong> C√°c ion d∆∞∆°ng n·∫±m t·∫°i c√°c n√∫t m·∫°ng, trong
            khi c√°c electron h√≥a tr·ªã t√°ch ra v√† di chuy·ªÉn t·ª± do trong to√†n b·ªô
            kh·ªëi kim lo·∫°i, t·∫°o n√™n l·ª±c li√™n k·∫øt b·ªÅn v·ªØng.
          </div>
        </div>

        <!-- D. Formulas & Misconceptions -->
        <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mt-8">
          <div class="glass-card p-5 rounded-xl border-l-4 border-blue-500">
            <h4 class="font-bold text-lg mb-2">C√¥ng th·ª©c c·∫ßn nh·ªõ</h4>
            <div
              class="font-mono bg-gray-100 dark:bg-gray-800 p-3 rounded text-center text-lg"
            >
              D = (n ¬∑ M) / (N‚Çê ¬∑ V‚ÇÄ)
            </div>
            <p class="text-sm mt-2 text-gray-500">
              ƒê·ªô ƒë·∫∑c kh√≠t: BCC (68%), FCC/HCP (74%)
            </p>
          </div>
          <div class="glass-card p-5 rounded-xl border-l-4 border-red-500">
            <h4 class="font-bold text-lg mb-2">Hi·ªÉu sai ph·ªï bi·∫øn</h4>
            <p class="text-sm text-gray-600 dark:text-gray-300">
              ‚ùå <strong>Sai:</strong> T·∫•t c·∫£ kim lo·∫°i ƒë·ªÅu c√≥ 1-3e l·ªõp ngo√†i
              c√πng.<br />
              ‚úÖ <strong>ƒê√∫ng:</strong> M·ªôt s·ªë kim lo·∫°i nh√≥m IVA, VA, VIA (Sn,
              Pb, Bi, Po) c√≥ 4, 5, 6e.
            </p>
          </div>
        </div>
      </section>

      <!-- ================= SECTION II: T√çNH CH·∫§T V·∫¨T L√ù ================= -->
      <section id="sec-physical" class="scroll-mt-28">
        <div class="flex items-center gap-4 mb-8">
          <div
            class="w-12 h-12 rounded-xl bg-green-500 flex items-center justify-center text-white text-2xl shadow-lg shadow-green-500/30"
          >
            <i class="fas fa-bolt"></i>
          </div>
          <h2 class="text-3xl md:text-4xl font-display font-bold">
            II. T√≠nh Ch·∫•t V·∫≠t L√Ω
          </h2>
        </div>

        <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
          <!-- Theory -->
          <div class="glass-card p-6 rounded-2xl lg:col-span-1">
            <h3 class="text-xl font-bold text-green-500 mb-4">
              <i class="fas fa-list-ul mr-2"></i> T√≠nh Ch·∫•t Chung
            </h3>
            <div class="space-y-4">
              <div
                class="group cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800 p-2 rounded transition"
              >
                <h4 class="font-bold text-gray-800 dark:text-gray-200">
                  1. T√≠nh d·∫ªo
                </h4>
                <p class="text-sm text-gray-600 dark:text-gray-400">
                  C√°c l·ªõp tinh th·ªÉ tr∆∞·ª£t l√™n nhau kh√¥ng t√°ch r·ªùi nh·ªù e t·ª± do.
                </p>
              </div>
              <div
                class="group cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800 p-2 rounded transition"
              >
                <h4 class="font-bold text-gray-800 dark:text-gray-200">
                  2. D·∫´n ƒëi·ªán
                </h4>
                <p class="text-sm text-gray-600 dark:text-gray-400">
                  D√≤ng e chuy·ªÉn d·ªùi c√≥ h∆∞·ªõng. Ag > Cu > Au > Al > Fe.
                </p>
              </div>
              <div
                class="group cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800 p-2 rounded transition"
              >
                <h4 class="font-bold text-gray-800 dark:text-gray-200">
                  3. D·∫´n nhi·ªát
                </h4>
                <p class="text-sm text-gray-600 dark:text-gray-400">
                  Truy·ªÅn ƒë·ªông nƒÉng t·ª´ e n√≥ng sang ion l·∫°nh.
                </p>
              </div>
            </div>
          </div>

          <!-- Simulation: Conductivity & Heat -->
          <div class="glass-card p-6 rounded-2xl lg:col-span-2 flex flex-col">
            <h3
              class="text-xl font-bold text-yellow-500 mb-4 flex justify-between"
            >
              <span
                ><i class="fas fa-microchip mr-2"></i> M√¥ Ph·ªèng D·∫´n ƒêi·ªán & Nhi·ªát
                ƒê·ªô</span
              >
              <span
                id="temp-display"
                class="text-sm bg-gray-200 dark:bg-gray-700 px-2 rounded"
                >25¬∞C</span
              >
            </h3>

            <div
              class="relative h-60 bg-gray-900 rounded-xl overflow-hidden border border-gray-700 mb-4"
              id="conductivity-box"
            >
              <canvas id="condCanvas" class="w-full h-full"></canvas>
            </div>

            <div class="flex items-center gap-4">
              <span class="text-sm font-bold"
                ><i class="fas fa-temperature-low text-blue-400"></i> L·∫°nh</span
              >
              <input
                type="range"
                min="0"
                max="100"
                value="25"
                class="flex-grow h-2 bg-gradient-to-r from-blue-400 via-yellow-400 to-red-500 rounded-lg appearance-none cursor-pointer"
                id="temp-slider"
              />
              <span class="text-sm font-bold"
                >N√≥ng <i class="fas fa-temperature-high text-red-500"></i
              ></span>
            </div>
            <p
              class="text-sm mt-3 text-gray-600 dark:text-gray-400 text-center italic"
            >
              K√©o thanh tr∆∞·ª£t: Nhi·ªát ƒë·ªô tƒÉng ‚Üí Ion d∆∞∆°ng dao ƒë·ªông m·∫°nh ‚Üí C·∫£n tr·ªü
              electron ‚Üí ƒêi·ªán tr·ªü tƒÉng (ƒê·ªô d·∫´n ƒëi·ªán gi·∫£m).
            </p>
          </div>
        </div>

        <!-- Experiment: Malleability -->
        <div class="mt-8 glass-card p-6 rounded-2xl">
          <h3 class="text-xl font-bold text-blue-500 mb-4">
            <i class="fas fa-hammer mr-2"></i> Th√≠ Nghi·ªám ·∫¢o: T√≠nh D·∫ªo
          </h3>
          <div
            class="flex flex-col md:flex-row gap-8 items-center justify-center"
          >
            <div
              class="relative w-64 h-40 bg-gray-200 dark:bg-gray-800 rounded-lg flex flex-col justify-center items-center border-b-8 border-gray-400"
            >
              <div
                id="metal-block"
                class="w-40 h-24 relative transition-all duration-300"
              >
                <!-- Layers -->
                <div
                  class="layer absolute top-0 w-full h-1/3 bg-gradient-to-r from-gray-400 to-gray-300 rounded flex justify-around items-center px-1 border border-gray-500 transition-transform duration-300"
                  id="layer-1"
                >
                  <div class="w-6 h-6 rounded-full bg-gray-600/50"></div>
                  <div class="w-6 h-6 rounded-full bg-gray-600/50"></div>
                  <div class="w-6 h-6 rounded-full bg-gray-600/50"></div>
                </div>
                <div
                  class="layer absolute top-1/3 w-full h-1/3 bg-gradient-to-r from-gray-400 to-gray-300 rounded flex justify-around items-center px-1 border border-gray-500 transition-transform duration-300"
                  id="layer-2"
                >
                  <div class="w-6 h-6 rounded-full bg-gray-600/50"></div>
                  <div class="w-6 h-6 rounded-full bg-gray-600/50"></div>
                  <div class="w-6 h-6 rounded-full bg-gray-600/50"></div>
                </div>
                <div
                  class="layer absolute top-2/3 w-full h-1/3 bg-gradient-to-r from-gray-400 to-gray-300 rounded flex justify-around items-center px-1 border border-gray-500"
                  id="layer-3"
                >
                  <div class="w-6 h-6 rounded-full bg-gray-600/50"></div>
                  <div class="w-6 h-6 rounded-full bg-gray-600/50"></div>
                  <div class="w-6 h-6 rounded-full bg-gray-600/50"></div>
                </div>
              </div>
              <!-- Hammer -->
              <div
                id="hammer"
                class="absolute -top-10 right-0 text-6xl text-gray-700 dark:text-gray-300 transition-transform duration-100 origin-bottom-right"
                style="transform: rotate(30deg)"
              >
                <i class="fas fa-gavel"></i>
              </div>
            </div>

            <div class="text-center">
              <button
                onclick="hitMetal()"
                class="bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-6 rounded-full shadow-lg transform active:scale-95 transition"
              >
                <i class="fas fa-hammer mr-2"></i> T√°c d·ª•ng l·ª±c
              </button>
              <button
                onclick="resetMetal()"
                class="ml-2 bg-gray-500 hover:bg-gray-600 text-white font-bold py-3 px-6 rounded-full shadow-lg transform active:scale-95 transition"
              >
                <i class="fas fa-undo"></i>
              </button>
              <p class="mt-4 max-w-xs text-sm text-gray-600 dark:text-gray-300">
                <strong>Hi·ªán t∆∞·ª£ng:</strong> C√°c l·ªõp tinh th·ªÉ tr∆∞·ª£t l√™n nhau m√†
                kh√¥ng g√£y v·ª°. <br />
                <strong>Gi·∫£i th√≠ch:</strong> Li√™n k·∫øt kim lo·∫°i ƒë∆∞·ª£c duy tr√¨ b·ªüi
                ƒë√°m m√¢y electron.
              </p>
            </div>
          </div>
        </div>
      </section>

      <!-- ================= SECTION III: T√çNH CH·∫§T H√ìA H·ªåC ================= -->
      <section id="sec-chemical" class="scroll-mt-28">
        <div class="flex items-center gap-4 mb-8">
          <div
            class="w-12 h-12 rounded-xl bg-red-500 flex items-center justify-center text-white text-2xl shadow-lg shadow-red-500/30"
          >
            <i class="fas fa-flask"></i>
          </div>
          <h2 class="text-3xl md:text-4xl font-display font-bold">
            III. T√≠nh Ch·∫•t H√≥a H·ªçc
          </h2>
        </div>

        <!-- Experiment Lab Interface -->
        <div
          class="glass-card p-1 rounded-2xl overflow-hidden shadow-2xl border border-blue-500/30"
        >
          <div
            class="bg-gray-900 text-white p-4 flex justify-between items-center"
          >
            <span class="font-bold font-mono"
              ><i class="fas fa-vial mr-2"></i> PH√íNG TH√ç NGHI·ªÜM ·∫¢O</span
            >
            <div class="flex gap-2 text-xs">
              <span class="px-2 py-1 bg-green-600 rounded"
                >Tr·∫°ng th√°i: S·∫µn s√†ng</span
              >
            </div>
          </div>

          <div
            class="grid grid-cols-1 md:grid-cols-3 bg-gray-100 dark:bg-gray-800 h-[500px]"
          >
            <!-- Control Panel -->
            <div
              class="p-6 border-r border-gray-300 dark:border-gray-700 flex flex-col gap-6"
            >
              <div>
                <label class="block text-sm font-bold mb-2"
                  >1. Ch·ªçn Kim Lo·∫°i:</label
                >
                <div class="grid grid-cols-2 gap-2">
                  <button
                    onclick="selectMetal('Na')"
                    class="metal-btn p-2 border rounded hover:bg-blue-100 dark:hover:bg-blue-900 focus:ring-2 ring-blue-500"
                  >
                    Na (Natri)
                  </button>
                  <button
                    onclick="selectMetal('Fe')"
                    class="metal-btn p-2 border rounded hover:bg-blue-100 dark:hover:bg-blue-900 focus:ring-2 ring-blue-500"
                  >
                    Fe (S·∫Øt)
                  </button>
                  <button
                    onclick="selectMetal('Cu')"
                    class="metal-btn p-2 border rounded hover:bg-blue-100 dark:hover:bg-blue-900 focus:ring-2 ring-blue-500"
                  >
                    Cu (ƒê·ªìng)
                  </button>
                  <button
                    onclick="selectMetal('Ag')"
                    class="metal-btn p-2 border rounded hover:bg-blue-100 dark:hover:bg-blue-900 focus:ring-2 ring-blue-500"
                  >
                    Ag (B·∫°c)
                  </button>
                </div>
              </div>

              <div>
                <label class="block text-sm font-bold mb-2"
                  >2. Ch·ªçn Dung D·ªãch:</label
                >
                <div class="grid grid-cols-1 gap-2">
                  <button
                    onclick="selectSolution('HCl')"
                    class="sol-btn p-2 border rounded hover:bg-green-100 dark:hover:bg-green-900 focus:ring-2 ring-green-500"
                  >
                    HCl (Acid Lo√£ng)
                  </button>
                  <button
                    onclick="selectSolution('CuSO4')"
                    class="sol-btn p-2 border rounded hover:bg-blue-100 dark:hover:bg-blue-900 focus:ring-2 ring-blue-500"
                  >
                    CuSO4 (Mu·ªëi)
                  </button>
                  <button
                    onclick="selectSolution('H2O')"
                    class="sol-btn p-2 border rounded hover:bg-cyan-100 dark:hover:bg-cyan-900 focus:ring-2 ring-cyan-500"
                  >
                    H2O (N∆∞·ªõc)
                  </button>
                </div>
              </div>

              <button
                onclick="runReaction()"
                class="mt-auto w-full py-3 bg-gradient-to-r from-red-500 to-orange-500 text-white font-bold rounded-lg shadow-lg transform active:scale-95 transition hover:shadow-red-500/50"
              >
                TI·∫æN H√ÄNH TH√ç NGHI·ªÜM
              </button>
            </div>

            <!-- Visualization Area -->
            <div
              class="col-span-2 relative bg-white dark:bg-gray-900 flex items-center justify-center overflow-hidden"
            >
              <!-- Beaker -->
              <div
                class="relative w-48 h-64 border-l-4 border-r-4 border-b-4 border-gray-400/50 rounded-b-3xl glass-card flex items-end justify-center overflow-hidden"
                id="beaker"
              >
                <!-- Solution Liquid -->
                <div
                  id="liquid"
                  class="w-full h-3/4 bg-blue-100/30 transition-colors duration-1000 flex items-end justify-center relative"
                >
                  <!-- Metal Piece -->
                  <div
                    id="metal-piece"
                    class="w-16 h-32 bg-gray-400 rounded-t mb-2 hidden transition-all duration-1000 transform translate-y-full"
                  ></div>
                  <!-- Bubbles container -->
                  <div
                    id="bubbles-container"
                    class="absolute inset-0 pointer-events-none"
                  ></div>
                </div>
              </div>

              <!-- Reaction Info Overlay -->
              <div
                id="reaction-info"
                class="absolute top-4 right-4 bg-black/70 text-white p-4 rounded-lg backdrop-blur-md max-w-xs text-sm hidden"
              >
                <h4 class="font-bold text-yellow-400 mb-1">K·∫øt qu·∫£:</h4>
                <p id="reaction-text">...</p>
                <div
                  class="mt-2 font-mono bg-white/10 p-2 rounded text-xs"
                  id="reaction-equation"
                >
                  ...
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Reactivity Series (D√£y ƒëi·ªán h√≥a) -->
        <div class="mt-8 glass-card p-6 rounded-2xl">
          <h3 class="text-xl font-bold text-indigo-500 mb-6 text-center">
            D√£y ƒêi·ªán H√≥a C·ªßa Kim Lo·∫°i
          </h3>
          <div class="overflow-x-auto pb-4">
            <div class="flex min-w-max gap-1 px-4 items-end h-32">
              <!-- Rendered via JS for interactivity -->
              <div class="flex" id="reactivity-series"></div>
            </div>
          </div>
          <p class="text-center text-sm text-gray-500 mt-2">
            <span class="text-red-500 font-bold">‚Üê T√≠nh Kh·ª≠ TƒÉng</span> |
            <span class="text-blue-500 font-bold">T√≠nh Oxi H√≥a TƒÉng ‚Üí</span>
          </p>
        </div>
      </section>

      <!-- ================= SECTION IV: ƒêI·ªÄU CH·∫æ ================= -->
      <section id="sec-extraction" class="scroll-mt-28">
        <div class="flex items-center gap-4 mb-8">
          <div
            class="w-12 h-12 rounded-xl bg-orange-500 flex items-center justify-center text-white text-2xl shadow-lg shadow-orange-500/30"
          >
            <i class="fas fa-industry"></i>
          </div>
          <h2 class="text-3xl md:text-4xl font-display font-bold">
            IV. Ph∆∞∆°ng Ph√°p T√°ch Kim Lo·∫°i
          </h2>
        </div>

        <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
          <!-- Method 1 -->
          <div
            class="glass-card p-5 rounded-xl hover:bg-orange-50 dark:hover:bg-gray-800 cursor-pointer transition group"
            onclick="showExtraction('thermal')"
          >
            <div
              class="text-orange-500 text-4xl mb-3 group-hover:scale-110 transition-transform"
            >
              <i class="fas fa-fire"></i>
            </div>
            <h3 class="font-bold text-lg">1. Nhi·ªát Luy·ªán</h3>
            <p class="text-sm text-gray-600 dark:text-gray-400 mt-2">
              D√πng C, CO, Al kh·ª≠ oxit ·ªü nhi·ªát ƒë·ªô cao. (Fe, Zn...)
            </p>
          </div>
          <!-- Method 2 -->
          <div
            class="glass-card p-5 rounded-xl hover:bg-blue-50 dark:hover:bg-gray-800 cursor-pointer transition group"
            onclick="showExtraction('hydro')"
          >
            <div
              class="text-blue-500 text-4xl mb-3 group-hover:scale-110 transition-transform"
            >
              <i class="fas fa-water"></i>
            </div>
            <h3 class="font-bold text-lg">2. Th·ªßy Luy·ªán</h3>
            <p class="text-sm text-gray-600 dark:text-gray-400 mt-2">
              D√πng kim lo·∫°i m·∫°nh ƒë·∫©y kim lo·∫°i y·∫øu kh·ªèi dung d·ªãch. (Cu, Ag...)
            </p>
          </div>
          <!-- Method 3 -->
          <div
            class="glass-card p-5 rounded-xl hover:bg-purple-50 dark:hover:bg-gray-800 cursor-pointer transition group"
            onclick="showExtraction('electrolysis')"
          >
            <div
              class="text-purple-500 text-4xl mb-3 group-hover:scale-110 transition-transform"
            >
              <i class="fas fa-bolt"></i>
            </div>
            <h3 class="font-bold text-lg">3. ƒêi·ªán Ph√¢n</h3>
            <p class="text-sm text-gray-600 dark:text-gray-400 mt-2">
              D√πng d√≤ng ƒëi·ªán m·ªôt chi·ªÅu. (M·∫°nh nh·∫•t: K, Na, Al...)
            </p>
          </div>
        </div>

        <!-- Detailed Interactive View -->
        <div
          class="mt-8 glass-card p-6 rounded-2xl min-h-[300px]"
          id="extraction-detail"
        >
          <h3 class="text-xl font-bold mb-4 text-center">
            M√¥ Ph·ªèng ƒêi·ªán Ph√¢n N√≥ng Ch·∫£y Al‚ÇÇO‚ÇÉ
          </h3>
          <div
            class="flex flex-col md:flex-row gap-8 items-center justify-center"
          >
            <div
              class="relative w-64 h-64 bg-gray-800 rounded-lg p-4 border-4 border-gray-600"
            >
              <!-- Anodes (Carbon) -->
              <div
                class="absolute top-0 left-10 w-8 h-24 bg-black border border-gray-500"
              ></div>
              <div
                class="absolute top-0 right-10 w-8 h-24 bg-black border border-gray-500"
              ></div>
              <div class="text-xs text-white absolute top-2 left-20">
                Anode (+)
              </div>

              <!-- Cathode (Tank) -->
              <div class="absolute bottom-0 w-full h-2 bg-black"></div>
              <div
                class="text-xs text-white absolute bottom-2 w-full text-center"
              >
                Cathode (-)
              </div>

              <!-- Molten Al2O3 -->
              <div
                class="absolute bottom-2 left-0 w-full h-32 bg-orange-600/80 flex items-center justify-center overflow-hidden"
                id="electrolysis-bath"
              >
                <!-- JS will inject moving ions here -->
              </div>
            </div>
            <div class="space-y-2 max-w-md">
              <div class="bg-gray-100 dark:bg-gray-800 p-3 rounded">
                <strong>Ph∆∞∆°ng tr√¨nh:</strong> <br />
                <span class="font-mono text-blue-600 dark:text-blue-400"
                  >2Al‚ÇÇO‚ÇÉ ‚Üí 4Al + 3O‚ÇÇ</span
                >
              </div>
              <div class="text-sm">
                <p>
                  <span class="text-red-500 font-bold">O¬≤‚Åª</span> di chuy·ªÉn v·ªÅ
                  Anode (+), nh∆∞·ªùng e t·∫°o kh√≠ O‚ÇÇ.
                </p>
                <p>
                  <span class="text-blue-500 font-bold">Al¬≥‚Å∫</span> di chuy·ªÉn v·ªÅ
                  Cathode (-), nh·∫≠n e t·∫°o Al n√≥ng ch·∫£y.
                </p>
              </div>
              <button
                onclick="animateElectrolysis()"
                class="w-full bg-purple-600 text-white py-2 rounded hover:bg-purple-700 transition"
              >
                B·∫≠t D√≤ng ƒêi·ªán
              </button>
            </div>
          </div>
        </div>
      </section>

      <!-- ================= SECTION V: ƒÇN M√íN & H·ª¢P KIM ================= -->
      <section id="sec-corrosion" class="scroll-mt-28">
        <div class="flex items-center gap-4 mb-8">
          <div
            class="w-12 h-12 rounded-xl bg-gray-600 flex items-center justify-center text-white text-2xl shadow-lg shadow-gray-500/30"
          >
            <i class="fas fa-shield-alt"></i>
          </div>
          <h2 class="text-3xl md:text-4xl font-display font-bold">
            V. H·ª£p Kim & ƒÇn M√≤n
          </h2>
        </div>

        <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
          <!-- Corrosion Theory -->
          <div class="glass-card p-6 rounded-2xl">
            <h3 class="text-xl font-bold mb-4">C√°c Lo·∫°i ƒÇn M√≤n</h3>
            <div
              class="flex gap-4 mb-4 border-b border-gray-200 dark:border-gray-700 pb-4"
            >
              <div class="w-1/2">
                <h4 class="font-bold text-red-500">H√≥a H·ªçc</h4>
                <p class="text-xs mt-1">
                  Oxi h√≥a - kh·ª≠ tr·ª±c ti·∫øp. Kh√¥ng ph√°t sinh d√≤ng ƒëi·ªán. (V√≠ d·ª•: L√≤
                  ƒë·ªët than).
                </p>
              </div>
              <div class="w-1/2 border-l pl-4 dark:border-gray-700">
                <h4 class="font-bold text-blue-500">ƒêi·ªán H√≥a</h4>
                <p class="text-xs mt-1">
                  2 kim lo·∫°i kh√°c nhau, ti·∫øp x√∫c dung d·ªãch ƒëi·ªán ly. Ph√°t sinh
                  d√≤ng ƒëi·ªán. Kim lo·∫°i m·∫°nh b·ªã ƒÉn m√≤n.
                </p>
              </div>
            </div>

            <h3 class="text-xl font-bold mb-2 mt-6">B·∫£o V·ªá: "V·∫≠t Hy Sinh"</h3>
            <p class="text-sm mb-4">
              ƒê·ªÉ b·∫£o v·ªá v·ªè t√†u bi·ªÉn b·∫±ng th√©p (Fe), ng∆∞·ªùi ta g·∫Øn c√°c t·∫•m K·∫Ωm
              (Zn) l√™n v·ªè t√†u.
            </p>

            <!-- Simulation: Sacrificial Anode -->
            <div
              class="relative w-full h-48 bg-cyan-100 rounded-lg overflow-hidden border border-cyan-300"
            >
              <div
                class="absolute bottom-0 w-full h-1/2 bg-blue-500/30 backdrop-blur-sm z-10 flex items-center justify-center"
              >
                <span class="text-blue-900 font-bold opacity-50"
                  >N∆∞·ªõc Bi·ªÉn (Dung d·ªãch ƒëi·ªán ly)</span
                >
              </div>

              <!-- Boat Hull (Steel/Fe) -->
              <div
                id="boat-hull"
                class="absolute top-10 left-1/4 w-1/2 h-20 bg-gray-600 rounded-b-full transition-colors duration-1000 z-20 flex items-center justify-center text-white text-xs"
              >
                V·ªè T√†u (Fe)
              </div>

              <!-- Zinc Block -->
              <div
                id="zinc-anode"
                class="absolute top-20 left-1/2 w-8 h-4 bg-gray-300 border border-gray-500 transform -translate-x-1/2 transition-all duration-500 opacity-0 z-30"
              >
                Zn
              </div>

              <!-- Controls -->
              <div
                class="absolute top-2 right-2 z-40 bg-white/80 p-2 rounded shadow"
              >
                <label
                  class="flex items-center gap-2 text-xs font-bold cursor-pointer"
                >
                  <input
                    type="checkbox"
                    id="toggle-anode"
                    onchange="toggleProtection()"
                    class="form-checkbox text-blue-600"
                  />
                  G·∫Øn K·∫Ωm B·∫£o V·ªá
                </label>
              </div>
            </div>
            <p
              id="protection-status"
              class="text-center text-xs font-bold mt-2 text-red-500"
            >
              Ch∆∞a b·∫£o v·ªá: S·∫Øt ƒëang b·ªã ƒÉn m√≤n!
            </p>
          </div>

          <!-- Interactive Exercise/Game -->
          <div
            class="glass-card p-6 rounded-2xl border-2 border-dashed border-blue-300 dark:border-blue-700"
          >
            <div class="text-center mb-6">
              <span class="text-4xl">üéÆ</span>
              <h3 class="text-2xl font-bold mt-2">B√†i T·∫≠p C·ªßng C·ªë</h3>
              <p class="text-sm text-gray-500">
                Ki·ªÉm tra nhanh ki·∫øn th·ª©c v·ª´a h·ªçc
              </p>
            </div>

            <div id="quiz-container" class="space-y-4">
              <div class="bg-blue-50 dark:bg-gray-800 p-4 rounded-lg">
                <p id="quiz-question" class="font-bold text-lg mb-4">
                  ƒêang t·∫£i c√¢u h·ªèi...
                </p>
                <div id="quiz-options" class="grid grid-cols-1 gap-3">
                  <!-- Options injected by JS -->
                </div>
              </div>
              <div class="flex justify-between items-center mt-4">
                <div class="text-sm font-bold">
                  ƒêi·ªÉm: <span id="score" class="text-blue-600 text-xl">0</span>
                </div>
                <button
                  onclick="nextQuestion()"
                  class="bg-blue-600 text-white px-6 py-2 rounded-full hover:bg-blue-700 transition disabled:opacity-50"
                  id="next-btn"
                  disabled
                >
                  C√¢u ti·∫øp theo <i class="fas fa-arrow-right ml-1"></i>
                </button>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- NAVIGATION BUTTONS (REQUIRED) -->
      <section
        class="text-center space-x-4 mb-20 flex flex-wrap justify-center gap-4"
      >
        <button
          onclick="window.location.href = 'bai_tap.html'"
          style="
            display: inline-flex;
            align-items: center;
            gap: 10px;
            padding: 14px 30px;
            font-size: 1rem;
            font-weight: 600;
            border-radius: 999px;
            border: none;
            cursor: pointer;
            color: #fff;
            background: linear-gradient(135deg, #3b82f6, #6366f1);
            box-shadow: 0 10px 30px rgba(59, 130, 246, 0.35);
            transition: 0.3s ease;
          "
          onmouseover="
            this.style.transform = 'translateY(-3px) scale(1.03)';
            this.style.boxShadow = '0 18px 45px rgba(99,102,241,.55)';
          "
          onmouseout="
            this.style.transform = 'translateY(0) scale(1)';
            this.style.boxShadow = '0 10px 30px rgba(59,130,246,.35)';
          "
        >
          <i class="fas fa-pen-to-square"></i>
          B√†i t·∫≠p c·ªßng c·ªë
        </button>

        <button
          onclick="window.location.href = '../chemstudyteen.html'"
          style="
            display: inline-flex;
            align-items: center;
            gap: 10px;
            padding: 14px 30px;
            font-size: 1rem;
            font-weight: 600;
            border-radius: 999px;
            border: none;
            cursor: pointer;
            color: #fff;
            background: linear-gradient(135deg, #22c55e, #16a34a);
            box-shadow: 0 10px 30px rgba(34, 197, 94, 0.35);
            transition: 0.3s ease;
          "
          onmouseover="
            this.style.transform = 'translateY(-3px)';
            this.style.boxShadow = '0 18px 45px rgba(22,163,74,.55)';
          "
          onmouseout="
            this.style.transform = 'translateY(0)';
            this.style.boxShadow = '0 10px 30px rgba(34,197,94,.35)';
          "
        >
          <i class="fas fa-arrow-left"></i>
          Quay v·ªÅ CS Expert
        </button>
      </section>
    </main>

    <!-- FOOTER (EXACT STRUCTURE REQUIRED) -->
    <footer>
      <div class="footer-waves"></div>
      <div class="footer-grid">
        <div class="footer-brand" data-aos="fade-right">
          <h2>EDUMATTER</h2>
          <p style="color: #94a3b8; line-height: 1.8">
            Ki·∫øn t·∫°o m√¥i tr∆∞·ªùng h·ªçc t·∫≠p c·∫£m x√∫c, n∆°i tri th·ª©c ƒë∆∞·ª£c s·ªë h√≥a v√†
            truy·ªÅn t·∫£i ƒë·∫ßy c·∫£m h·ª©ng.
          </p>
          <div style="display: flex; gap: 15px; margin-top: 30px">
            <a href="https://www.facebook.com/ducnt214" class="icon-btn"
              ><i class="fab fa-facebook" alt="facebook"></i
            ></a>
            <a href="https://github.com/ducnt2104" class="icon-btn" alt="github"
              ><i class="fab fa-github"></i
            ></a>
            <a
              href="https://www.tiktok.com/@ktbtcthm210"
              class="icon-btn"
              alt="tiktok"
              ><i class="fab fa-tiktok"></i
            ></a>
          </div>
        </div>
        <div class="footer-links" data-aos="fade-up">
          <h3>Li√™n h·ªá nhanh</h3>
          <div class="contact-item">
            <i class="fas fa-envelope"></i>
            <span>ducnt21042010@gmail.com</span>
          </div>
          <div class="contact-item">
            <i class="fas fa-phone"></i>
            <span>034 226 6204</span>
          </div>
          <div class="contact-item">
            <i class="fas fa-location-dot"></i>
            <span>THPT T√¥n ƒê·ª©c Th·∫Øng, ƒê·ªìng Nai</span>
          </div>
        </div>
        <div class="footer-links" data-aos="fade-left">
          <h4>ƒê·ªôi ng≈© DNT</h4>
          <p style="color: #94a3b8">
            "S√°ng t·∫°o kh√¥ng ng·ª´ng - V∆∞∆°n t·∫ßm tri th·ª©c"
          </p>
          <div
            style="
              margin-top: 20px;
              padding: 15px;
              background: rgba(255, 255, 255, 0.05);
              border-radius: 15px;
            "
          >
            <p style="font-size: 0.8rem; color: #fff">
              D·ª± √°n ƒë∆∞·ª£c ph√°t tri·ªÉn b·ªüi c√°c th√†nh vi√™n ƒëam m√™ c√¥ng ngh·ªá t·∫°i Vi·ªát
              Nam.
            </p>
          </div>
        </div>
      </div>
      <div class="copyright">
        <p>
          ¬© 2024 EDUMATTER Educational Ecosystem. Designed with
          <i class="fas fa-heart" style="color: #ef4444"></i> by DNT Team.
        </p>
      </div>
    </footer>

    <!-- JAVASCRIPT LOGIC -->
    <script>
      // --- 1. THEME TOGGLE LOGIC ---
      const themeToggle = document.getElementById("theme-toggle");
      const html = document.documentElement;

      // Check local storage or system preference
      if (
        localStorage.theme === "dark" ||
        (!("theme" in localStorage) &&
          window.matchMedia("(prefers-color-scheme: dark)").matches)
      ) {
        html.classList.add("dark");
      } else {
        html.classList.remove("dark");
      }

      themeToggle.addEventListener("click", () => {
        html.classList.toggle("dark");
        localStorage.theme = html.classList.contains("dark") ? "dark" : "light";
        // Trigger redrawing of canvases if needed (colors change)
        initElectronSea();
      });

      // --- 2. LATTICE SIMULATION (CSS Grid/Transform based) ---
      function renderLattice(type) {
        const container = document.getElementById("lattice-container");
        container.innerHTML = "";

        let nodesHTML = "";
        // Simplified 2D representation of 3D structures with perspective
        if (type === "bcc") {
          // Body Centered Cubic
          // 8 corners + 1 center
          // Using absolute positioning to fake 3D
          nodesHTML += createAtom(50, 50, 0, 1.2); // Center
          // Corners
          const corners = [
            [20, 20],
            [80, 20],
            [20, 80],
            [80, 80],
          ];
          corners.forEach((p) => (nodesHTML += createAtom(p[0], p[1], -20, 1)));
        } else if (type === "fcc") {
          // Face Centered Cubic
          // Faces
          nodesHTML += createAtom(50, 50, 0, 1.1);
          nodesHTML += createAtom(50, 20, 0, 1);
          nodesHTML += createAtom(50, 80, 0, 1);
          nodesHTML += createAtom(20, 50, 0, 1);
          nodesHTML += createAtom(80, 50, 0, 1);
          // Corners
          const corners = [
            [20, 20],
            [80, 20],
            [20, 80],
            [80, 80],
          ];
          corners.forEach(
            (p) => (nodesHTML += createAtom(p[0], p[1], -20, 0.9)),
          );
        } else if (type === "hcp") {
          // Hexagonal
          // Hexagon pattern
          const hex = [
            [50, 20],
            [80, 35],
            [80, 65],
            [50, 80],
            [20, 65],
            [20, 35],
            [50, 50],
          ];
          hex.forEach((p) => (nodesHTML += createAtom(p[0], p[1], 0, 1)));
        }
        container.innerHTML = nodesHTML;
      }

      function createAtom(x, y, z, scale) {
        // z-index based on scale (fake depth)
        const zIndex = Math.floor(scale * 10);
        return `<div class="lattice-node animate-float" style="left: ${x}%; top: ${y}%; transform: translate(-50%, -50%) scale(${scale}); z-index: ${zIndex}; animation-delay: ${Math.random()}s"></div>`;
      }

      // Initial Render
      renderLattice("bcc");

      // --- 3. ELECTRON SEA CANVAS ANIMATION ---
      function initElectronSea() {
        const canvas = document.getElementById("seaCanvas");
        const ctx = canvas.getContext("2d");
        let width, height;

        const ions = [];
        const electrons = [];

        function resize() {
          width = canvas.parentElement.offsetWidth;
          height = canvas.parentElement.offsetHeight;
          canvas.width = width;
          canvas.height = height;
          initParticles();
        }

        function initParticles() {
          ions.length = 0;
          electrons.length = 0;

          // Create Ion Grid
          const rows = 4;
          const cols = 8;
          const spX = width / cols;
          const spY = height / rows;

          for (let i = 0; i < rows; i++) {
            for (let j = 0; j < cols; j++) {
              ions.push({
                x: j * spX + spX / 2,
                y: i * spY + spY / 2,
                baseX: j * spX + spX / 2,
                baseY: i * spY + spY / 2,
              });
            }
          }

          // Create Free Electrons
          for (let i = 0; i < 50; i++) {
            electrons.push({
              x: Math.random() * width,
              y: Math.random() * height,
              vx: (Math.random() - 0.5) * 4,
              vy: (Math.random() - 0.5) * 4,
            });
          }
        }

        function animate() {
          ctx.clearRect(0, 0, width, height);

          // Draw Ions
          ctx.fillStyle = "#ef4444"; // Red
          ions.forEach((ion) => {
            // Jitter effect
            ion.x = ion.baseX + (Math.random() - 0.5) * 2;
            ion.y = ion.baseY + (Math.random() - 0.5) * 2;

            ctx.beginPath();
            ctx.arc(ion.x, ion.y, 15, 0, Math.PI * 2);
            ctx.fill();

            // + Sign
            ctx.fillStyle = "white";
            ctx.font = "14px Arial";
            ctx.fillText("+", ion.x - 4, ion.y + 4);
            ctx.fillStyle = "#ef4444";
          });

          // Draw Electrons
          ctx.fillStyle = "#fbbf24"; // Yellow
          electrons.forEach((e) => {
            e.x += e.vx;
            e.y += e.vy;

            // Bounce off walls
            if (e.x < 0 || e.x > width) e.vx *= -1;
            if (e.y < 0 || e.y > height) e.vy *= -1;

            ctx.beginPath();
            ctx.arc(e.x, e.y, 3, 0, Math.PI * 2);
            ctx.fill();
          });

          requestAnimationFrame(animate);
        }

        window.addEventListener("resize", resize);
        resize();
        animate();
      }
      initElectronSea();

      // --- 4. CONDUCTIVITY & TEMP SIMULATION ---
      const tempSlider = document.getElementById("temp-slider");
      const tempDisplay = document.getElementById("temp-display");
      let temperature = 25;

      tempSlider.addEventListener("input", (e) => {
        temperature = parseInt(e.target.value);
        tempDisplay.innerText = temperature + "¬∞C";
      });

      function initConductivity() {
        const canvas = document.getElementById("condCanvas");
        const ctx = canvas.getContext("2d");
        let w, h;

        // Electrons moving right
        const es = [];
        // Ions fixed but vibrating
        const is = [];

        function resize() {
          w = canvas.parentElement.offsetWidth;
          h = canvas.parentElement.offsetHeight;
          canvas.width = w;
          canvas.height = h;

          // Init particles
          is.length = 0;
          for (let x = 20; x < w; x += 60) {
            for (let y = 20; y < h; y += 60) {
              is.push({ baseX: x, baseY: y, x: x, y: y });
            }
          }
          es.length = 0;
          for (let i = 0; i < 30; i++)
            es.push({ x: Math.random() * w, y: Math.random() * h, speed: 5 });
        }

        function animate() {
          ctx.clearRect(0, 0, w, h);

          // Vibration amplitude depends on temperature
          const vibration = (temperature / 100) * 5;

          // Draw Ions
          ctx.fillStyle = "#3b82f6";
          is.forEach((i) => {
            i.x = i.baseX + (Math.random() - 0.5) * vibration;
            i.y = i.baseY + (Math.random() - 0.5) * vibration;
            ctx.beginPath();
            ctx.arc(i.x, i.y, 10, 0, Math.PI * 2);
            ctx.fill();
          });

          // Draw Electrons (Flow)
          ctx.fillStyle = "#fbbf24";
          es.forEach((e) => {
            // Check collision/resistance
            let speed = 5 - (temperature / 100) * 3; // Hotter = Slower flow
            e.x += speed;
            if (e.x > w) e.x = 0;

            // Simple dodge y
            e.y += (Math.random() - 0.5) * 2;

            ctx.beginPath();
            ctx.arc(e.x, e.y, 2, 0, Math.PI * 2);
            ctx.fill();
          });

          requestAnimationFrame(animate);
        }

        window.addEventListener("resize", resize);
        resize();
        animate();
      }
      initConductivity();

      // --- 5. MALLEABILITY EXPERIMENT ---
      function hitMetal() {
        const l1 = document.getElementById("layer-1");
        const l2 = document.getElementById("layer-2");
        const hammer = document.getElementById("hammer");

        // Animate Hammer
        hammer.style.transform = "rotate(-45deg) translate(-20px, 20px)";
        setTimeout(() => (hammer.style.transform = "rotate(30deg)"), 200);

        // Shift Layers
        setTimeout(() => {
          l1.style.transform = "translateX(20px)";
          l2.style.transform = "translateX(10px)";
        }, 100);
      }

      function resetMetal() {
        document.getElementById("layer-1").style.transform = "translateX(0)";
        document.getElementById("layer-2").style.transform = "translateX(0)";
      }

      // --- 6. CHEMICAL REACTION LAB ---
      let selectedMetal = null;
      let selectedSol = null;

      function selectMetal(m) {
        selectedMetal = m;
        document
          .querySelectorAll(".metal-btn")
          .forEach((b) =>
            b.classList.remove("ring-2", "ring-offset-2", "bg-blue-200"),
          );
        event.target.classList.add("ring-2", "ring-offset-2", "bg-blue-200");
      }

      function selectSolution(s) {
        selectedSol = s;
        document
          .querySelectorAll(".sol-btn")
          .forEach((b) =>
            b.classList.remove("ring-2", "ring-offset-2", "bg-green-200"),
          );
        event.target.classList.add("ring-2", "ring-offset-2", "bg-green-200");

        // Change liquid color preview
        const liquid = document.getElementById("liquid");
        if (s === "HCl")
          liquid.className =
            "w-full h-3/4 bg-transparent transition-colors duration-1000 flex items-end justify-center relative";
        if (s === "CuSO4")
          liquid.className =
            "w-full h-3/4 bg-blue-500/40 transition-colors duration-1000 flex items-end justify-center relative";
        if (s === "H2O")
          liquid.className =
            "w-full h-3/4 bg-cyan-100/30 transition-colors duration-1000 flex items-end justify-center relative";
      }

      function runReaction() {
        if (!selectedMetal || !selectedSol) {
          alert("Vui l√≤ng ch·ªçn Kim lo·∫°i v√† Dung d·ªãch!");
          return;
        }

        const metalPiece = document.getElementById("metal-piece");
        const bubbles = document.getElementById("bubbles-container");
        const infoBox = document.getElementById("reaction-info");
        const infoText = document.getElementById("reaction-text");
        const infoEq = document.getElementById("reaction-equation");
        const liquid = document.getElementById("liquid");

        // Reset Animation
        metalPiece.style.transform = "translateY(0)"; // Drop in
        metalPiece.classList.remove("hidden");

        // Colors for metals
        if (selectedMetal === "Cu")
          metalPiece.style.backgroundColor = "#b45309";
        else if (selectedMetal === "Fe")
          metalPiece.style.backgroundColor = "#6b7280";
        else if (selectedMetal === "Ag")
          metalPiece.style.backgroundColor = "#e5e7eb";
        else if (selectedMetal === "Na")
          metalPiece.style.backgroundColor = "#d1d5db";

        // Logic
        setTimeout(() => {
          let result = "";
          let eq = "";
          let hasBubbles = false;

          // Logic check
          if (selectedSol === "HCl") {
            if (selectedMetal === "Fe") {
              result = "S·∫Øt tan d·∫ßn, s·ªßi b·ªçt kh√≠.";
              eq = "Fe + 2HCl ‚Üí FeCl‚ÇÇ + H‚ÇÇ‚Üë";
              hasBubbles = true;
              liquid.classList.add("bg-green-100"); // Fecl2 light green
            } else if (selectedMetal === "Na") {
              result = "N·ªï nh·∫π, ph·∫£n ·ª©ng m√£nh li·ªát!";
              eq = "2Na + 2HCl ‚Üí 2NaCl + H‚ÇÇ‚Üë";
              hasBubbles = true;
            } else {
              result = "Kh√¥ng ph·∫£n ·ª©ng.";
              eq = "M ƒë·ª©ng sau H trong d√£y ƒëi·ªán h√≥a.";
            }
          } else if (selectedSol === "CuSO4") {
            if (selectedMetal === "Fe") {
              result = "C√≥ l·ªõp ƒë·ªìng ƒë·ªè b√°m v√†o s·∫Øt, dd nh·∫°t m√†u.";
              eq = "Fe + CuSO‚ÇÑ ‚Üí FeSO‚ÇÑ + Cu";
              metalPiece.style.backgroundColor = "#b45309"; // Turns copper color
            } else if (selectedMetal === "Na") {
              result = "Na t√°c d·ª•ng v·ªõi n∆∞·ªõc tr∆∞·ªõc!";
              eq = "2Na + 2H‚ÇÇO ‚Üí 2NaOH + H‚ÇÇ‚Üë; ...";
              hasBubbles = true;
            } else {
              result = "Kh√¥ng hi·ªán t∆∞·ª£ng.";
              eq = "";
            }
          } else if (selectedSol === "H2O") {
            if (selectedMetal === "Na") {
              result = "Na ch·∫°y tr√™n m·∫∑t n∆∞·ªõc, s·ªßi b·ªçt.";
              eq = "2Na + 2H‚ÇÇO ‚Üí 2NaOH + H‚ÇÇ‚Üë";
              hasBubbles = true;
            } else {
              result = "Kh√¥ng ph·∫£n ·ª©ng ·ªü nhi·ªát ƒë·ªô th∆∞·ªùng.";
              eq = "";
            }
          }

          // Show Bubble Animation
          bubbles.innerHTML = "";
          if (hasBubbles) {
            for (let i = 0; i < 20; i++) {
              const b = document.createElement("div");
              b.className = "bubble w-2 h-2 absolute left-1/2 bottom-0";
              b.style.left = Math.random() * 60 + 20 + "%";
              b.style.animationDuration = Math.random() * 1 + 0.5 + "s";
              b.style.animationDelay = Math.random() + "s";
              bubbles.appendChild(b);
            }
          }

          // Show Info
          infoText.innerText = result;
          infoEq.innerText = eq;
          infoBox.classList.remove("hidden");
        }, 1000);
      }

      // --- 7. REACTIVITY SERIES RENDER ---
      const metals = [
        "K",
        "Na",
        "Mg",
        "Al",
        "Zn",
        "Fe",
        "Ni",
        "Sn",
        "Pb",
        "H",
        "Cu",
        "Ag",
        "Au",
      ];
      const container = document.getElementById("reactivity-series");
      metals.forEach((m, idx) => {
        const el = document.createElement("div");
        el.className = `flex flex-col items-center p-2 rounded hover:bg-white/50 hover:scale-110 transition cursor-pointer`;
        // Color gradient from Red (Strong) to Blue (Weak)
        const red = Math.max(0, 255 - idx * 20);
        const blue = Math.min(255, idx * 20);

        el.innerHTML = `
                <span class="text-xs font-bold text-gray-500">${idx + 1}</span>
                <div class="w-10 h-10 rounded-full flex items-center justify-center font-bold text-white shadow" style="background-color: rgb(${red}, 0, ${blue})">
                    ${m}
                </div>
            `;
        container.appendChild(el);
      });

      // --- 8. ELECTROLYSIS ANIMATION ---
      function animateElectrolysis() {
        const bath = document.getElementById("electrolysis-bath");
        bath.innerHTML = ""; // Reset

        // Create Ions
        for (let i = 0; i < 10; i++) {
          // O2- ions move UP (Anode)
          const o = document.createElement("div");
          o.className =
            "absolute w-4 h-4 rounded-full bg-red-500 text-[8px] flex items-center justify-center text-white font-bold";
          o.innerText = "O";
          o.style.left = Math.random() * 80 + 10 + "%";
          o.style.top = "80%";
          o.style.transition = "top 2s ease-in";
          bath.appendChild(o);

          // Al3+ ions move DOWN (Cathode)
          const al = document.createElement("div");
          al.className =
            "absolute w-4 h-4 rounded-full bg-blue-500 text-[8px] flex items-center justify-center text-white font-bold";
          al.innerText = "Al";
          al.style.left = Math.random() * 80 + 10 + "%";
          al.style.top = "10%";
          al.style.transition = "top 2s ease-in";
          bath.appendChild(al);

          // Trigger move
          setTimeout(() => {
            o.style.top = "10%";
            al.style.top = "90%";
          }, 100);
        }
      }

      // --- 9. SACRIFICIAL ANODE (CORROSION) ---
      function toggleProtection() {
        const isProtected = document.getElementById("toggle-anode").checked;
        const status = document.getElementById("protection-status");
        const hull = document.getElementById("boat-hull");
        const zinc = document.getElementById("zinc-anode");

        if (isProtected) {
          // Protection ON
          zinc.style.opacity = "1";
          hull.classList.remove("bg-red-700"); // Remove rust
          hull.classList.add("bg-gray-600");
          status.innerText = "ƒê√£ b·∫£o v·ªá: K·∫Ωm (Zn) b·ªã ƒÉn m√≤n thay cho v·ªè t√†u.";
          status.className =
            "text-center text-xs font-bold mt-2 text-green-600";

          // Zinc corrodes animation
          zinc.style.transform = "translate(-50%, 0) scale(0.8)";
        } else {
          // Protection OFF
          zinc.style.opacity = "0";
          zinc.style.transform = "translate(-50%, 0) scale(1)";

          setTimeout(() => {
            hull.classList.remove("bg-gray-600");
            hull.classList.add("bg-red-700"); // Rust color
          }, 500);

          status.innerText = "Ch∆∞a b·∫£o v·ªá: S·∫Øt ƒëang b·ªã ƒÉn m√≤n ƒëi·ªán h√≥a!";
          status.className = "text-center text-xs font-bold mt-2 text-red-500";
        }
      }

      // --- 10. QUIZ GAME LOGIC ---
      const quizData = [
        {
          q: "Kim lo·∫°i n√†o d·∫´n ƒëi·ªán t·ªët nh·∫•t trong c√°c kim lo·∫°i sau?",
          options: ["Nh√¥m (Al)", "ƒê·ªìng (Cu)", "B·∫°c (Ag)", "V√†ng (Au)"],
          correct: 2, // Index of Ag
        },
        {
          q: "ƒê·ªÉ b·∫£o v·ªá v·ªè t√†u bi·ªÉn l√†m b·∫±ng th√©p, ng∆∞·ªùi ta g·∫Øn v√†o v·ªè t√†u kim lo·∫°i n√†o?",
          options: ["ƒê·ªìng (Cu)", "Ch√¨ (Pb)", "K·∫Ωm (Zn)", "Thi·∫øc (Sn)"],
          correct: 2,
        },
        {
          q: "Hi·ªán t∆∞·ª£ng x·∫£y ra khi cho ƒëinh s·∫Øt v√†o dung d·ªãch CuSO4?",
          options: [
            "S·ªßi b·ªçt kh√≠",
            "Dung d·ªãch chuy·ªÉn m√†u v√†ng",
            "C√≥ l·ªõp kim lo·∫°i ƒë·ªè b√°m v√†o ƒëinh s·∫Øt",
            "Kh√¥ng c√≥ hi·ªán t∆∞·ª£ng",
          ],
          correct: 2,
        },
        {
          q: "Ph∆∞∆°ng ph√°p chung ƒë·ªÉ ƒëi·ªÅu ch·∫ø c√°c kim lo·∫°i Na, Ca, Al l√†?",
          options: [
            "Nhi·ªát luy·ªán",
            "Th·ªßy luy·ªán",
            "ƒêi·ªán ph√¢n dung d·ªãch",
            "ƒêi·ªán ph√¢n n√≥ng ch·∫£y",
          ],
          correct: 3,
        },
      ];

      let currentQ = 0;
      let score = 0;

      function loadQuiz() {
        const qObj = quizData[currentQ];
        document.getElementById("quiz-question").innerText =
          `C√¢u ${currentQ + 1}: ${qObj.q}`;
        const optsContainer = document.getElementById("quiz-options");
        optsContainer.innerHTML = "";

        qObj.options.forEach((opt, idx) => {
          const btn = document.createElement("div");
          btn.className =
            "quiz-option p-3 border rounded-lg bg-white dark:bg-gray-700 dark:border-gray-600";
          btn.innerText = opt;
          btn.onclick = () => checkAnswer(btn, idx);
          optsContainer.appendChild(btn);
        });

        document.getElementById("next-btn").disabled = true;
      }

      function checkAnswer(btn, idx) {
        // Disable all clicks
        const allOpts = document.querySelectorAll(".quiz-option");
        allOpts.forEach((o) => (o.style.pointerEvents = "none"));

        const correctIdx = quizData[currentQ].correct;

        if (idx === correctIdx) {
          btn.classList.add("correct");
          score += 10;
          document.getElementById("score").innerText = score;
        } else {
          btn.classList.add("wrong");
          allOpts[correctIdx].classList.add("correct");
        }

        document.getElementById("next-btn").disabled = false;
      }

      function nextQuestion() {
        currentQ++;
        if (currentQ < quizData.length) {
          loadQuiz();
        } else {
          document.getElementById("quiz-container").innerHTML = `
                    <div class="text-center py-10">
                        <div class="text-6xl mb-4">üèÜ</div>
                        <h3 class="text-2xl font-bold">Ho√†n Th√†nh!</h3>
                        <p class="text-lg">ƒêi·ªÉm s·ªë c·ªßa b·∫°n: ${score}/${quizData.length * 10}</p>
                        <button onclick="location.reload()" class="mt-4 px-6 py-2 bg-blue-600 text-white rounded-full">L√†m l·∫°i</button>
                    </div>
                `;
        }
      }

      loadQuiz();

      // AOS (Animate On Scroll) Shim since no library allowed
      const observer = new IntersectionObserver((entries) => {
        entries.forEach((entry) => {
          if (entry.isIntersecting) {
            entry.target.classList.add("opacity-100", "translate-y-0");
            entry.target.classList.remove("opacity-0", "translate-y-10");
          }
        });
      });

      document.querySelectorAll("section").forEach((sec) => {
        sec.classList.add(
          "transition-all",
          "duration-700",
          "opacity-0",
          "translate-y-10",
        );
        observer.observe(sec);
      });
    </script>
  </body>
</html>
