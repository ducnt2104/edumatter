<!DOCTYPE html>
<html lang="vi" class="scroll-smooth">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Hóa Học 12 - Chương 6: Đại Cương Về Kim Loại</title>

    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- Phosphor Icons -->
    <script src="https://unpkg.com/@phosphor-icons/web"></script>

    <!-- Google Fonts -->
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700;800&display=swap"
      rel="stylesheet"
    />

    <style>
      body {
        font-family: "Inter", sans-serif;
      }
      .animate-spin-slow {
        animation: spin 8s linear infinite;
      }
      @keyframes spin {
        from {
          transform: rotate(0deg);
        }
        to {
          transform: rotate(360deg);
        }
      }
      .fade-in {
        animation: fadeIn 0.5s ease-out forwards;
      }
      @keyframes fadeIn {
        from {
          opacity: 0;
          transform: translateY(10px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      /* Custom Scrollbar */
      ::-webkit-scrollbar {
        width: 8px;
      }
      ::-webkit-scrollbar-track {
        background: #f1f5f9;
      }
      ::-webkit-scrollbar-thumb {
        background: #cbd5e1;
        border-radius: 4px;
      }
      ::-webkit-scrollbar-thumb:hover {
        background: #94a3b8;
      }
    </style>
  </head>
  <body class="bg-slate-50 text-slate-800 antialiased">
    <!-- NAVIGATION -->
    <nav
      class="sticky top-0 z-50 bg-white/90 backdrop-blur-md shadow-sm border-b border-slate-200 transition-all duration-300"
    >
      <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="flex justify-between h-16 items-center">
          <div
            class="flex items-center gap-2 cursor-pointer"
            onclick="window.scrollTo({top: 0, behavior: 'smooth'})"
          >
            <div
              class="bg-gradient-to-br from-blue-600 to-indigo-700 p-2 rounded-lg text-white shadow-md"
            >
              <i class="ph-bold ph-atom text-xl"></i>
            </div>
            <span
              class="font-bold text-xl text-slate-800 tracking-tight hidden sm:block"
              >Hóa Học 12</span
            >
          </div>

          <!-- Desktop Menu -->
          <div class="hidden md:flex space-x-8">
            <a
              href="#cau-tao"
              class="text-sm font-medium text-slate-600 hover:text-blue-600 transition-colors"
              >I. Cấu Tạo & Tính Chất</a
            >
            <a
              href="#dieu-che"
              class="text-sm font-medium text-slate-600 hover:text-blue-600 transition-colors"
              >II. Điều Chế</a
            >
            <a
              href="#hop-kim"
              class="text-sm font-medium text-slate-600 hover:text-blue-600 transition-colors"
              >III. Hợp Kim & Ăn Mòn</a
            >
            <a
              href="#quiz"
              class="text-sm font-medium text-slate-600 hover:text-blue-600 transition-colors"
              >Ôn Tập</a
            >
          </div>

          <!-- Mobile Menu Button -->
          <div class="md:hidden">
            <button id="mobile-menu-btn" class="text-slate-600 p-2">
              <i class="ph ph-list text-2xl"></i>
            </button>
          </div>
        </div>
      </div>

      <!-- Mobile Dropdown -->
      <div
        id="mobile-menu"
        class="hidden md:hidden bg-white border-t border-slate-100 absolute w-full shadow-lg"
      >
        <div class="px-4 py-3 space-y-2">
          <a
            href="#cau-tao"
            class="block py-2 text-slate-700 font-medium hover:text-blue-600"
            >I. Cấu Tạo & Tính Chất</a
          >
          <a
            href="#dieu-che"
            class="block py-2 text-slate-700 font-medium hover:text-blue-600"
            >II. Điều Chế</a
          >
          <a
            href="#hop-kim"
            class="block py-2 text-slate-700 font-medium hover:text-blue-600"
            >III. Hợp Kim & Ăn Mòn</a
          >
          <a
            href="#quiz"
            class="block py-2 text-slate-700 font-medium hover:text-blue-600"
            >Ôn Tập</a
          >
        </div>
      </div>
    </nav>

    <!-- HEADER -->
    <header
      class="bg-gradient-to-r from-indigo-900 to-blue-800 text-white py-20 px-4 relative overflow-hidden"
    >
      <div
        class="absolute top-0 left-0 w-full h-full opacity-20 pointer-events-none"
      >
        <div
          class="absolute top-10 left-10 w-32 h-32 bg-blue-400 rounded-full blur-3xl"
        ></div>
        <div
          class="absolute bottom-10 right-10 w-64 h-64 bg-purple-500 rounded-full blur-3xl"
        ></div>
      </div>
      <div class="max-w-5xl mx-auto text-center relative z-10">
        <span
          class="inline-block py-1 px-3 rounded-full bg-blue-500/30 border border-blue-400/50 backdrop-blur-sm text-blue-100 text-sm font-bold mb-4 uppercase tracking-wider"
        >
          Chương 6
        </span>
        <h1
          class="text-4xl md:text-6xl font-extrabold mb-6 tracking-tight leading-tight"
        >
          Đại Cương Về
          <span
            class="text-transparent bg-clip-text bg-gradient-to-r from-yellow-300 to-yellow-500"
            >Kim Loại</span
          >
        </h1>
        <p
          class="text-lg md:text-xl text-blue-100 max-w-2xl mx-auto mb-8 font-light"
        >
          Khám phá bản chất liên kết kim loại, tính chất vật lý đặc trưng và các
          phương pháp sản xuất, bảo vệ kim loại trong đời sống.
        </p>
        <a
          href="#cau-tao"
          class="inline-flex items-center gap-2 bg-white text-indigo-900 px-8 py-3 rounded-full font-bold shadow-lg hover:shadow-xl hover:bg-blue-50 transition transform hover:-translate-y-1"
        >
          Bắt Đầu Học Ngay <i class="ph-bold ph-arrow-down"></i>
        </a>
      </div>
    </header>

    <main class="max-w-6xl mx-auto px-4 sm:px-6 py-12 space-y-24">
      <!-- SECTION I -->
      <section id="cau-tao" class="scroll-mt-24">
        <div class="flex items-center gap-4 mb-8">
          <div class="bg-blue-100 p-3 rounded-xl text-blue-600 shadow-sm">
            <i class="ph-bold ph-atom text-3xl"></i>
          </div>
          <h2 class="text-3xl font-bold text-slate-900">
            I. Cấu Tạo & Tính Chất
          </h2>
        </div>

        <div class="grid lg:grid-cols-2 gap-12 mb-12">
          <div class="space-y-6">
            <div class="border-l-4 border-blue-500 pl-4">
              <h3 class="text-xl font-bold text-slate-800">
                1. Cấu Tạo Mạng Tinh Thể
              </h3>
            </div>
            <p class="text-slate-600 leading-relaxed text-lg">
              Hầu hết kim loại tồn tại ở dạng tinh thể (Lập phương tâm diện, tâm
              khối, lục phương). Đặc điểm quan trọng nhất là
              <strong class="text-blue-700">liên kết kim loại</strong>.
            </p>

            <ul class="space-y-4">
              <li
                class="bg-white p-4 rounded-lg shadow-sm border border-slate-100 flex items-start gap-3 hover:shadow-md transition"
              >
                <div
                  class="bg-red-100 p-2 rounded-full text-red-500 mt-1 shrink-0"
                >
                  <i class="ph-bold ph-plus"></i>
                </div>
                <div>
                  <span class="font-bold text-slate-800 block"
                    >Cation Kim Loại</span
                  >
                  <p class="text-sm text-slate-600">
                    Nằm cố định tại các nút mạng tinh thể.
                  </p>
                </div>
              </li>
              <li
                class="bg-white p-4 rounded-lg shadow-sm border border-slate-100 flex items-start gap-3 hover:shadow-md transition"
              >
                <div
                  class="bg-blue-100 p-2 rounded-full text-blue-500 mt-1 shrink-0"
                >
                  <i class="ph-bold ph-minus"></i>
                </div>
                <div>
                  <span class="font-bold text-slate-800 block"
                    >Electron Tự Do</span
                  >
                  <p class="text-sm text-slate-600">
                    Di chuyển tự do trong toàn bộ mạng lưới, tạo nên "Biển
                    Electron".
                  </p>
                </div>
              </li>
            </ul>
          </div>

          <!-- CANVAS SIMULATION -->
          <div
            class="relative rounded-xl overflow-hidden shadow-inner border border-slate-200 bg-slate-100"
          >
            <canvas
              id="electronSeaCanvas"
              class="w-full h-[300px] cursor-crosshair block"
            ></canvas>
            <div
              class="absolute top-4 left-4 bg-white/90 backdrop-blur p-3 rounded-lg shadow-sm text-sm max-w-xs border border-slate-100"
            >
              <h4 class="font-bold text-slate-800 flex items-center gap-2">
                <i class="ph-fill ph-activity text-blue-500"></i>
                Mô phỏng "Biển Electron"
              </h4>
              <p class="text-slate-600 mt-1 text-xs">
                Các ion dương (đỏ) cố định. Electron tự do (xanh) di chuyển hỗn
                loạn tạo lực liên kết.
              </p>
            </div>
          </div>
        </div>

        <!-- Properties Cards -->
        <div class="mb-12">
          <div class="border-l-4 border-yellow-500 pl-4 mb-6">
            <h3 class="text-xl font-bold text-slate-800">
              2. Tính Chất Vật Lý Chung
            </h3>
          </div>
          <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4">
            <!-- Card 1 -->
            <div
              class="bg-white p-6 rounded-xl shadow-md border-t-4 border-yellow-500 hover:shadow-lg transition-all group"
            >
              <div
                class="text-yellow-500 mb-3 text-3xl group-hover:scale-110 transition-transform"
              >
                <i class="ph-bold ph-lightning"></i>
              </div>
              <h4 class="font-bold text-lg mb-2">Dẫn Điện</h4>
              <p class="text-sm text-slate-600">
                Electron tự do mang điện tích di chuyển.<br /><span
                  class="font-mono text-xs font-bold bg-slate-100 p-1 rounded mt-1 inline-block"
                  >Ag > Cu > Au > Al</span
                >
              </p>
            </div>
            <!-- Card 2 -->
            <div
              class="bg-white p-6 rounded-xl shadow-md border-t-4 border-red-500 hover:shadow-lg transition-all group"
            >
              <div
                class="text-red-500 mb-3 text-3xl group-hover:scale-110 transition-transform"
              >
                <i class="ph-bold ph-thermometer"></i>
              </div>
              <h4 class="font-bold text-lg mb-2">Dẫn Nhiệt</h4>
              <p class="text-sm text-slate-600">
                Electron tự do truyền năng lượng dao động từ vùng nóng sang
                lạnh.
              </p>
            </div>
            <!-- Card 3 -->
            <div
              class="bg-white p-6 rounded-xl shadow-md border-t-4 border-blue-500 hover:shadow-lg transition-all group"
            >
              <div
                class="text-blue-500 mb-3 text-3xl group-hover:scale-110 transition-transform"
              >
                <i class="ph-bold ph-gavel"></i>
              </div>
              <h4 class="font-bold text-lg mb-2">Tính Dẻo</h4>
              <p class="text-sm text-slate-600">
                Các lớp ion trượt lên nhau dễ dàng mà không tách rời nhờ đệm
                electron.
              </p>
            </div>
            <!-- Card 4 -->
            <div
              class="bg-white p-6 rounded-xl shadow-md border-t-4 border-purple-500 hover:shadow-lg transition-all group"
            >
              <div
                class="text-purple-500 mb-3 text-3xl group-hover:scale-110 transition-transform"
              >
                <i class="ph-bold ph-sun"></i>
              </div>
              <h4 class="font-bold text-lg mb-2">Ánh Kim</h4>
              <p class="text-sm text-slate-600">
                Các electron tự do phản xạ hầu hết các tia sáng nhìn thấy.
              </p>
            </div>
          </div>
        </div>

        <!-- VIRTUAL LAB -->
        <div class="bg-white p-6 rounded-xl shadow-lg border border-slate-200">
          <div class="flex items-center gap-3 mb-4">
            <i class="ph-fill ph-flask text-purple-600 text-3xl"></i>
            <h3 class="text-2xl font-bold text-slate-800">
              Thí Nghiệm Ảo: Tính Chất Hóa Học
            </h3>
          </div>

          <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
            <!-- Controls -->
            <div class="space-y-4">
              <p class="text-slate-600 mb-2 font-medium">
                Chọn kim loại để thử phản ứng:
              </p>
              <div class="grid grid-cols-2 gap-3" id="lab-controls">
                <button
                  onclick="runExperiment('Na')"
                  class="lab-btn py-3 px-4 rounded-lg font-bold bg-slate-100 text-slate-700 hover:bg-slate-200 transition"
                  data-metal="Na"
                >
                  Natri (Na)
                </button>
                <button
                  onclick="runExperiment('Mg')"
                  class="lab-btn py-3 px-4 rounded-lg font-bold bg-slate-100 text-slate-700 hover:bg-slate-200 transition"
                  data-metal="Mg"
                >
                  Magie (Mg)
                </button>
                <button
                  onclick="runExperiment('Fe')"
                  class="lab-btn py-3 px-4 rounded-lg font-bold bg-slate-100 text-slate-700 hover:bg-slate-200 transition"
                  data-metal="Fe"
                >
                  Sắt (Fe)
                </button>
                <button
                  onclick="runExperiment('Cu')"
                  class="lab-btn py-3 px-4 rounded-lg font-bold bg-slate-100 text-slate-700 hover:bg-slate-200 transition"
                  data-metal="Cu"
                >
                  Đồng (Cu)
                </button>
              </div>
            </div>

            <!-- Display Screen -->
            <div
              id="lab-display"
              class="bg-slate-50 rounded-xl p-6 min-h-[200px] flex flex-col justify-center items-center border border-dashed border-slate-300 relative overflow-hidden"
            >
              <span class="text-slate-400 italic flex flex-col items-center">
                <i class="ph ph-hand-tap text-3xl mb-2"></i>
                Chọn một kim loại để bắt đầu...
              </span>
            </div>
          </div>
        </div>

        <!-- Summary Box -->
        <div class="mt-8 bg-indigo-50 p-6 rounded-xl border border-indigo-100">
          <h3 class="font-bold text-indigo-900 mb-2 flex items-center gap-2">
            <i class="ph-bold ph-notebook"></i> Tổng kết hóa tính:
          </h3>
          <ul
            class="list-disc list-inside space-y-2 text-indigo-800 text-sm md:text-base"
          >
            <li>
              <strong>Tính khử đặc trưng:</strong>
              <span
                class="font-mono bg-white px-2 py-1 rounded border border-indigo-200 text-xs"
                >M → Mⁿ⁺ + ne</span
              >
            </li>
            <li>Tác dụng với Phi kim (O₂, Cl₂, S...) → Muối/Oxit.</li>
            <li>
              Tác dụng với Axit: Loãng (ra H₂), Đặc nóng (ra sản phẩm khử NO₂,
              SO₂).
            </li>
            <li>
              Tác dụng với Nước: Chỉ kim loại mạnh (nhóm IA, IIA trừ Be, Mg).
            </li>
          </ul>
        </div>
      </section>

      <hr class="border-slate-200" />

      <!-- SECTION II -->
      <section id="dieu-che" class="scroll-mt-24">
        <div class="flex items-center gap-4 mb-8">
          <div class="bg-green-100 p-3 rounded-xl text-green-600 shadow-sm">
            <i class="ph-bold ph-factory text-3xl"></i>
          </div>
          <h2 class="text-3xl font-bold text-slate-900">
            II. Phương Pháp Tách (Sản Xuất)
          </h2>
        </div>

        <!-- Quick Stats -->
        <div class="grid md:grid-cols-3 gap-6 mb-8">
          <div
            class="bg-slate-800 text-white p-6 rounded-xl shadow-lg relative overflow-hidden group"
          >
            <div
              class="absolute top-0 right-0 p-4 opacity-20 group-hover:opacity-30 transition"
            >
              <i class="ph-fill ph-globe text-6xl"></i>
            </div>
            <h3 class="text-xl font-bold mb-2">Trạng thái tự nhiên</h3>
            <p class="text-gray-300 text-sm">
              Chỉ có Au, Pt, Ag tồn tại tự do. Còn lại ở dạng hợp chất (Oxit,
              Muối...).
            </p>
          </div>
          <div
            class="bg-white border border-slate-200 p-6 rounded-xl shadow-sm hover:border-red-200 transition"
          >
            <h4 class="font-bold text-red-600 mb-1">Quặng Hematit</h4>
            <p class="text-2xl font-mono font-bold text-slate-800">Fe₂O₃</p>
            <p class="text-xs text-slate-500 mt-2">Nguồn sản xuất Sắt/Thép</p>
          </div>
          <div
            class="bg-white border border-slate-200 p-6 rounded-xl shadow-sm hover:border-blue-200 transition"
          >
            <h4 class="font-bold text-blue-600 mb-1">Quặng Bôxit</h4>
            <p class="text-2xl font-mono font-bold text-slate-800">
              Al₂O₃·nH₂O
            </p>
            <p class="text-xs text-slate-500 mt-2">Nguồn sản xuất Nhôm</p>
          </div>
        </div>

        <h3 class="text-xl font-bold text-slate-800 mb-4">
          Các Phương Pháp Tách
        </h3>
        <p class="text-slate-600 mb-6">
          Nguyên tắc chung: Khử ion kim loại thành nguyên tử:
          <span class="font-mono bg-slate-100 px-2 rounded border"
            >Mⁿ⁺ + ne → M</span
          >
        </p>

        <!-- Extraction Methods Tabs -->
        <div class="mt-8">
          <div
            class="flex overflow-x-auto gap-2 mb-6 pb-2 no-scrollbar"
            id="method-tabs"
          >
            <button
              onclick="switchTab('nhiet-luyen')"
              id="tab-nhiet-luyen"
              class="tab-btn active flex items-center gap-2 px-6 py-3 rounded-full whitespace-nowrap transition-all bg-orange-100 text-orange-700 border border-orange-300 ring-2 ring-orange-200 font-bold"
            >
              <i class="ph-bold ph-fire"></i> A. Nhiệt Luyện
            </button>
            <button
              onclick="switchTab('thuy-luyen')"
              id="tab-thuy-luyen"
              class="tab-btn flex items-center gap-2 px-6 py-3 rounded-full whitespace-nowrap transition-all bg-white text-slate-600 border border-slate-200 hover:bg-slate-50 font-medium"
            >
              <i class="ph-bold ph-drop"></i> B. Thủy Luyện
            </button>
            <button
              onclick="switchTab('dien-phan')"
              id="tab-dien-phan"
              class="tab-btn flex items-center gap-2 px-6 py-3 rounded-full whitespace-nowrap transition-all bg-white text-slate-600 border border-slate-200 hover:bg-slate-50 font-medium"
            >
              <i class="ph-bold ph-lightning"></i> C. Điện Phân
            </button>
          </div>

          <div
            id="method-content"
            class="bg-white rounded-2xl p-8 shadow-lg border border-slate-100 min-h-[300px]"
          >
            <!-- Content will be injected by JS -->
          </div>
        </div>

        <!-- Recycling -->
        <div
          class="mt-12 bg-green-50 rounded-2xl p-8 border border-green-100 flex flex-col md:flex-row items-center gap-8 shadow-sm"
        >
          <div class="flex-1">
            <h3
              class="text-2xl font-bold text-green-800 mb-4 flex items-center gap-2"
            >
              <i class="ph-bold ph-recycle"></i> Tái Chế Kim Loại
            </h3>
            <p class="text-green-700 mb-4 leading-relaxed">
              Tái chế là yếu tố cốt lõi của phát triển bền vững. Tái chế nhôm
              giúp tiết kiệm <strong>95%</strong> năng lượng so với sản xuất từ
              quặng bôxit.
            </p>
            <div class="flex flex-wrap gap-2">
              <span
                class="bg-white text-green-600 px-3 py-1 rounded-full text-xs font-bold shadow-sm border border-green-100"
                >Tiết kiệm tài nguyên</span
              >
              <span
                class="bg-white text-green-600 px-3 py-1 rounded-full text-xs font-bold shadow-sm border border-green-100"
                >Giảm khí thải CO₂</span
              >
              <span
                class="bg-white text-green-600 px-3 py-1 rounded-full text-xs font-bold shadow-sm border border-green-100"
                >Kinh tế tuần hoàn</span
              >
            </div>
          </div>
          <div class="w-full md:w-1/3 flex justify-center">
            <div
              class="w-32 h-32 rounded-full border-4 border-green-500 flex items-center justify-center bg-white shadow-xl animate-spin-slow"
            >
              <i class="ph-bold ph-recycle text-5xl text-green-500"></i>
            </div>
          </div>
        </div>
      </section>

      <hr class="border-slate-200" />

      <!-- SECTION III -->
      <section id="hop-kim" class="scroll-mt-24">
        <div class="flex items-center gap-4 mb-8">
          <div class="bg-orange-100 p-3 rounded-xl text-orange-600 shadow-sm">
            <i class="ph-bold ph-shield-check text-3xl"></i>
          </div>
          <h2 class="text-3xl font-bold text-slate-900">
            III. Hợp Kim & Ăn Mòn
          </h2>
        </div>

        <div class="grid lg:grid-cols-2 gap-12">
          <!-- Alloys -->
          <div>
            <div class="border-l-4 border-orange-500 pl-4 mb-6">
              <h3 class="text-xl font-bold text-slate-800">1. Hợp Kim</h3>
            </div>
            <p class="text-slate-600 mb-4">
              Hợp kim thường cứng hơn, bền hơn và chống ăn mòn tốt hơn kim loại
              nguyên chất.
            </p>

            <div class="space-y-3">
              <div
                class="flex items-center justify-between p-4 bg-white rounded-lg border border-slate-200 shadow-sm hover:shadow-md transition"
              >
                <div>
                  <span class="font-bold text-slate-800 block">Thép</span>
                  <span class="text-xs text-slate-500"
                    >Vật liệu xây dựng phổ biến nhất</span
                  >
                </div>
                <div class="flex items-center gap-2">
                  <span
                    class="bg-gray-100 px-2 py-1 rounded text-xs font-mono border"
                    >Fe</span
                  >
                  <span class="text-slate-400 text-xs">+</span>
                  <span
                    class="bg-slate-800 text-white px-2 py-1 rounded text-xs font-mono"
                    >C</span
                  >
                </div>
              </div>
              <div
                class="flex items-center justify-between p-4 bg-white rounded-lg border border-slate-200 shadow-sm hover:shadow-md transition"
              >
                <div>
                  <span class="font-bold text-yellow-700 block"
                    >Đồng thau (Brass)</span
                  >
                  <span class="text-xs text-slate-500"
                    >Chi tiết máy, nhạc cụ</span
                  >
                </div>
                <div class="flex items-center gap-2">
                  <span
                    class="bg-orange-100 text-orange-800 px-2 py-1 rounded text-xs font-mono border border-orange-200"
                    >Cu</span
                  >
                  <span class="text-slate-400 text-xs">+</span>
                  <span
                    class="bg-gray-100 px-2 py-1 rounded text-xs font-mono border"
                    >Zn</span
                  >
                </div>
              </div>
            </div>
          </div>

          <!-- Corrosion -->
          <div>
            <div class="border-l-4 border-red-500 pl-4 mb-6">
              <h3 class="text-xl font-bold text-slate-800">
                2. Ăn Mòn Kim Loại
              </h3>
            </div>
            <div
              class="bg-red-50 p-4 rounded-lg border border-red-100 mb-6 text-sm"
            >
              <h4 class="font-bold text-red-700 flex items-center gap-2 mb-2">
                <i class="ph-bold ph-warning"></i> Phân biệt
              </h4>
              <ul class="space-y-2 text-red-800 list-disc list-inside">
                <li>
                  <strong>Ăn mòn hóa học:</strong> Phản ứng trực tiếp (O₂,
                  Cl₂...). Không có dòng điện.
                </li>
                <li>
                  <strong>Ăn mòn điện hóa:</strong> 2 kim loại khác nhau, tiếp
                  xúc trong dung dịch điện ly.
                  <strong class="underline">Phát sinh dòng điện</strong>.
                </li>
              </ul>
            </div>
          </div>
        </div>

        <!-- Corrosion Visualizer -->
        <div
          class="mt-8 bg-gradient-to-br from-slate-50 to-slate-100 p-6 rounded-xl border border-slate-200 shadow-inner"
        >
          <div
            class="flex flex-col md:flex-row items-center justify-between gap-8"
          >
            <!-- Visual -->
            <div class="flex-1 w-full flex justify-center">
              <div
                class="relative w-64 h-48 bg-blue-100 rounded-b-3xl border-t-4 border-blue-300 flex justify-center items-end overflow-hidden shadow-lg"
              >
                <div
                  class="absolute inset-0 flex items-center justify-center opacity-20 pointer-events-none"
                >
                  <span class="text-6xl font-bold text-blue-500">H₂O</span>
                </div>

                <!-- Iron -->
                <div
                  class="w-16 h-32 bg-gray-600 rounded-t-lg mx-2 relative transition-all duration-500 flex flex-col items-center"
                >
                  <span class="absolute -top-8 font-bold text-gray-700 text-sm"
                    >Fe (+)</span
                  >
                  <!-- Rust Layer -->
                  <div
                    id="rust-layer"
                    class="absolute inset-0 bg-orange-700/60 rounded-t-lg animate-pulse z-20"
                  ></div>
                </div>

                <!-- Zinc (Hidden by default) -->
                <div
                  id="zinc-plate"
                  class="hidden w-16 h-32 bg-slate-300 rounded-t-lg mx-2 relative border-2 border-slate-400 flex flex-col items-center"
                >
                  <span class="absolute -top-8 font-bold text-slate-600 text-sm"
                    >Zn (-)</span
                  >
                  <!-- Dissolving effect -->
                  <div
                    class="absolute inset-x-0 bottom-0 h-1/2 bg-white/30 animate-pulse"
                  ></div>
                </div>

                <!-- Connecting Wire (Hidden by default) -->
                <div
                  id="connect-wire"
                  class="hidden w-32 h-20 border-t-4 border-black absolute top-[-10px] rounded-t-full"
                ></div>
              </div>
            </div>

            <!-- Controls -->
            <div class="flex-1 space-y-4">
              <h4
                class="font-bold text-lg text-slate-800 flex items-center gap-2"
              >
                <i id="shield-icon" class="ph-bold ph-shield text-gray-400"></i>
                Cơ chế Bảo vệ Điện hóa
              </h4>

              <div class="flex items-center gap-4">
                <span class="text-sm font-medium text-slate-600"
                  >Trạng thái:</span
                >
                <button
                  id="toggle-protection"
                  class="px-4 py-2 rounded-lg font-bold transition-all shadow-md bg-red-500 text-white hover:bg-red-600"
                >
                  Không Bảo Vệ
                </button>
              </div>

              <div
                id="protection-status"
                class="p-4 rounded-lg border text-sm transition-colors bg-red-50 border-red-200 text-red-800"
              >
                <p>
                  Sắt tiếp xúc trực tiếp với môi trường. Sắt đóng vai trò là
                  Anode và bị oxi hóa: <strong>Fe → Fe²⁺ + 2e</strong>. Quá
                  trình gỉ sét diễn ra nhanh.
                </p>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- QUIZ SECTION -->
      <section id="quiz" class="scroll-mt-24 pb-20">
        <div
          class="max-w-2xl mx-auto bg-white rounded-2xl shadow-xl overflow-hidden border border-indigo-100"
        >
          <div class="bg-indigo-600 p-6 text-white text-center">
            <h3
              class="text-2xl font-bold flex justify-center items-center gap-2"
            >
              <i class="ph-bold ph-exam"></i> Trắc Nghiệm Nhanh
            </h3>
          </div>

          <div class="p-8" id="quiz-container">
            <!-- Quiz content loaded by JS -->
          </div>
        </div>
      </section>
    </main>

    <!-- FOOTER -->
    <footer class="bg-slate-900 text-slate-400 py-12 border-t border-slate-800">
      <div class="max-w-6xl mx-auto px-4 text-center">
        <div class="flex justify-center items-center gap-2 mb-4">
          <i class="ph-bold ph-atom text-blue-500 text-2xl"></i>
          <span class="text-white font-bold text-xl">Hóa Học 12</span>
        </div>
        <p class="mb-4">
          Tài liệu học tập trực quan Chương 6: Đại Cương Về Kim Loại.
        </p>
        <div class="text-sm text-slate-600">
          &copy; 2024 Educational Content. Built with HTML5 & Tailwind CSS.
        </div>
      </div>
    </footer>

    <!-- JAVASCRIPT LOGIC -->
    <script>
      // --- 1. ELECTRON SEA SIMULATION ---
      const canvas = document.getElementById("electronSeaCanvas");
      const ctx = canvas.getContext("2d");
      let animationId;

      function resizeCanvas() {
        canvas.width = canvas.parentElement.clientWidth;
        canvas.height = 300;
      }

      window.addEventListener("resize", resizeCanvas);
      resizeCanvas();

      const nuclei = [];
      const electrons = [];

      function initSimulation() {
        nuclei.length = 0;
        electrons.length = 0;

        const rows = 4;
        const cols = 8;
        const spacingX = canvas.width / (cols + 1);
        const spacingY = canvas.height / (rows + 1);

        for (let i = 0; i < rows; i++) {
          for (let j = 0; j < cols; j++) {
            nuclei.push({
              x: spacingX * (j + 1),
              y: spacingY * (i + 1),
              r: 15,
            });
          }
        }

        for (let i = 0; i < 50; i++) {
          electrons.push({
            x: Math.random() * canvas.width,
            y: Math.random() * canvas.height,
            vx: (Math.random() - 0.5) * 4,
            vy: (Math.random() - 0.5) * 4,
            r: 3,
          });
        }
      }

      function animateSea() {
        ctx.clearRect(0, 0, canvas.width, canvas.height);

        // Background
        const gradient = ctx.createLinearGradient(
          0,
          0,
          canvas.width,
          canvas.height
        );
        gradient.addColorStop(0, "#f0f9ff");
        gradient.addColorStop(1, "#e0f2fe");
        ctx.fillStyle = gradient;
        ctx.fillRect(0, 0, canvas.width, canvas.height);

        // Nuclei
        nuclei.forEach((n) => {
          ctx.beginPath();
          ctx.arc(n.x, n.y, n.r, 0, Math.PI * 2);
          ctx.fillStyle = "#ef4444";
          ctx.fill();
          ctx.strokeStyle = "#b91c1c";
          ctx.lineWidth = 2;
          ctx.stroke();
          ctx.fillStyle = "white";
          ctx.font = "bold 14px Arial";
          ctx.textAlign = "center";
          ctx.textBaseline = "middle";
          ctx.fillText("+", n.x, n.y);
        });

        // Electrons
        electrons.forEach((e) => {
          e.x += e.vx;
          e.y += e.vy;
          if (e.x < 0 || e.x > canvas.width) e.vx *= -1;
          if (e.y < 0 || e.y > canvas.height) e.vy *= -1;

          ctx.beginPath();
          ctx.arc(e.x, e.y, e.r, 0, Math.PI * 2);
          ctx.fillStyle = "#3b82f6";
          ctx.fill();
        });

        // Connections
        ctx.strokeStyle = "rgba(59, 130, 246, 0.1)";
        ctx.lineWidth = 1;
        electrons.forEach((e) => {
          nuclei.forEach((n) => {
            const dx = e.x - n.x;
            const dy = e.y - n.y;
            if (Math.sqrt(dx * dx + dy * dy) < 60) {
              ctx.beginPath();
              ctx.moveTo(e.x, e.y);
              ctx.lineTo(n.x, n.y);
              ctx.stroke();
            }
          });
        });

        animationId = requestAnimationFrame(animateSea);
      }

      initSimulation();
      animateSea();

      // --- 2. VIRTUAL LAB ---
      const labData = {
        Na: {
          title: "Natri (Na) + Nước",
          desc: "Phản ứng mãnh liệt, natri nóng chảy thành giọt tròn, chạy trên mặt nước.",
          eq: "2Na + 2H₂O → 2NaOH + H₂↑",
          color: "bg-yellow-400",
        },
        Mg: {
          title: "Magie (Mg) + Nước nóng",
          desc: "Phản ứng chậm với nước lạnh, nhanh hơn với nước nóng.",
          eq: "Mg + 2H₂O (t°) → Mg(OH)₂ + H₂↑",
          color: "bg-gray-300",
        },
        Fe: {
          title: "Sắt (Fe) + CuSO₄",
          desc: "Đinh sắt tan dần, lớp đồng đỏ bám vào đinh sắt. Dung dịch nhạt màu dần.",
          eq: "Fe + CuSO₄ → FeSO₄ + Cu↓",
          color: "bg-slate-400",
        },
        Cu: {
          title: "Đồng (Cu) + H₂SO₄ loãng",
          desc: "Không có hiện tượng gì xảy ra (Đồng đứng sau H).",
          eq: "Cu + H₂SO₄ loãng → Không phản ứng",
          color: "bg-orange-400",
        },
      };

      function runExperiment(metal) {
        const display = document.getElementById("lab-display");
        const btns = document.querySelectorAll(".lab-btn");

        btns.forEach((b) => {
          if (b.dataset.metal === metal) {
            b.classList.add("bg-blue-600", "text-white", "shadow-lg");
            b.classList.remove("bg-slate-100", "text-slate-700");
          } else {
            b.classList.remove("bg-blue-600", "text-white", "shadow-lg");
            b.classList.add("bg-slate-100", "text-slate-700");
          }
        });

        display.innerHTML = `
                <div class="flex flex-col items-center animate-pulse">
                    <i class="ph-fill ph-flask text-blue-400 text-4xl mb-2"></i>
                    <span class="text-blue-500 font-medium">Đang tiến hành thí nghiệm...</span>
                </div>
            `;

        setTimeout(() => {
          const data = labData[metal];
          display.innerHTML = `
                    <div class="w-full fade-in">
                        <div class="flex items-center justify-between mb-3 border-b border-slate-200 pb-2">
                            <span class="font-bold text-lg text-slate-800">${data.title}</span>
                            <span class="w-4 h-4 rounded-full ${data.color} shadow-sm"></span>
                        </div>
                        <div class="mb-4">
                            <p class="font-semibold text-slate-700 mb-1">Hiện tượng:</p>
                            <p class="text-slate-600 bg-white p-3 rounded border border-slate-100">${data.desc}</p>
                        </div>
                        <div class="bg-slate-800 text-green-400 p-4 rounded-lg font-mono text-sm sm:text-base overflow-x-auto shadow-inner">
                            ${data.eq}
                        </div>
                    </div>
                `;
        }, 600);
      }

      // --- 3. EXTRACTION TABS ---
      const methodData = {
        "nhiet-luyen": {
          title: "A. Nhiệt Luyện",
          color: "orange",
          principle:
            "Dùng chất khử (C, CO, H₂, Al) khử ion kim loại trong oxit ở nhiệt độ cao.",
          scope: "Kim loại trung bình (Fe, Zn, Pb, Cu...)",
          example: "Fe₂O₃ + 3CO → 2Fe + 3CO₂",
        },
        "thuy-luyen": {
          title: "B. Thủy Luyện",
          color: "blue",
          principle:
            "Dùng dung dịch thích hợp hòa tan quặng, sau đó dùng kim loại mạnh đẩy kim loại yếu.",
          scope: "Kim loại yếu (Cu, Ag, Au...)",
          example: "Fe + CuSO₄ → FeSO₄ + Cu",
        },
        "dien-phan": {
          title: "C. Điện Phân Nóng Chảy",
          color: "yellow",
          principle:
            "Dùng dòng điện một chiều khử ion kim loại trong chất nóng chảy.",
          scope: "Kim loại MẠNH (K, Na, Ca, Mg, Al)",
          example: "2NaCl → 2Na + Cl₂ (đpnc)",
        },
      };

      function switchTab(id) {
        // Update buttons
        document.querySelectorAll(".tab-btn").forEach((btn) => {
          btn.className =
            "tab-btn flex items-center gap-2 px-6 py-3 rounded-full whitespace-nowrap transition-all bg-white text-slate-600 border border-slate-200 hover:bg-slate-50 font-medium";
        });

        const activeBtn = document.getElementById(`tab-${id}`);
        const data = methodData[id];

        // Set active style dynamically based on color
        let colorClasses = "";
        if (data.color === "orange")
          colorClasses =
            "bg-orange-100 text-orange-700 border-orange-300 ring-orange-200";
        if (data.color === "blue")
          colorClasses =
            "bg-blue-100 text-blue-700 border-blue-300 ring-blue-200";
        if (data.color === "yellow")
          colorClasses =
            "bg-yellow-100 text-yellow-700 border-yellow-300 ring-yellow-200";

        activeBtn.className = `tab-btn active flex items-center gap-2 px-6 py-3 rounded-full whitespace-nowrap transition-all border ring-2 font-bold ${colorClasses}`;

        // Update Content
        const content = document.getElementById("method-content");
        content.innerHTML = `
                <div class="fade-in">
                    <h4 class="text-2xl font-bold text-slate-800 mb-6">${
                      data.title
                    }</h4>
                    <div class="grid md:grid-cols-2 gap-8">
                        <div class="space-y-4">
                            <div class="bg-slate-50 p-4 rounded-lg border-l-4 border-${
                              data.color === "yellow"
                                ? "yellow-400"
                                : data.color + "-500"
                            }">
                                <span class="block text-xs font-bold text-slate-500 uppercase tracking-wide mb-1">Nguyên tắc</span>
                                <p class="text-slate-800">${data.principle}</p>
                            </div>
                            <div class="bg-slate-50 p-4 rounded-lg border-l-4 border-green-500">
                                <span class="block text-xs font-bold text-slate-500 uppercase tracking-wide mb-1">Phạm vi áp dụng</span>
                                <p class="text-slate-800">${data.scope}</p>
                            </div>
                        </div>
                        <div class="flex flex-col justify-center">
                            <div class="bg-slate-900 text-white p-6 rounded-xl shadow-2xl relative overflow-hidden">
                                <span class="text-slate-400 text-sm font-mono mb-2 block">Ví dụ phản ứng:</span>
                                <p class="text-xl md:text-2xl font-mono text-green-400 font-bold break-words">${
                                  data.example
                                }</p>
                            </div>
                        </div>
                    </div>
                </div>
            `;
      }

      // Initialize first tab
      switchTab("nhiet-luyen");

      // --- 4. CORROSION VISUALIZER ---
      let isProtected = false;
      document
        .getElementById("toggle-protection")
        .addEventListener("click", function () {
          isProtected = !isProtected;
          const btn = this;
          const statusDiv = document.getElementById("protection-status");
          const rustLayer = document.getElementById("rust-layer");
          const zincPlate = document.getElementById("zinc-plate");
          const shieldIcon = document.getElementById("shield-icon");

          if (isProtected) {
            btn.textContent = "Đang Bảo Vệ (Gắn Zn)";
            btn.className =
              "px-4 py-2 rounded-lg font-bold transition-all shadow-md bg-green-500 text-white hover:bg-green-600";

            statusDiv.className =
              "p-4 rounded-lg border text-sm transition-colors bg-green-50 border-green-200 text-green-800";
            statusDiv.innerHTML =
              "<p><strong>Kẽm (Zn)</strong> có tính khử mạnh hơn Sắt (Fe). Zn đóng vai trò là <strong>Anode</strong> bị ăn mòn thay cho Sắt. Sắt đóng vai trò Cathode và được bảo vệ.</p>";

            rustLayer.classList.add("hidden");
            zincPlate.classList.remove("hidden");
            shieldIcon.className = "ph-bold ph-shield-check text-green-500";
          } else {
            btn.textContent = "Không Bảo Vệ";
            btn.className =
              "px-4 py-2 rounded-lg font-bold transition-all shadow-md bg-red-500 text-white hover:bg-red-600";

            statusDiv.className =
              "p-4 rounded-lg border text-sm transition-colors bg-red-50 border-red-200 text-red-800";
            statusDiv.innerHTML =
              "<p>Sắt tiếp xúc trực tiếp với môi trường. Sắt đóng vai trò là Anode và bị oxi hóa: <strong>Fe → Fe²⁺ + 2e</strong>. Quá trình gỉ sét diễn ra nhanh.</p>";

            rustLayer.classList.remove("hidden");
            zincPlate.classList.add("hidden");
            shieldIcon.className = "ph-bold ph-shield-warning text-gray-400";
          }
        });

      // --- 5. QUIZ SYSTEM ---
      const quizQuestions = [
        {
          q: "Kim loại nào sau đây dẫn điện tốt nhất?",
          options: ["Nhôm (Al)", "Vàng (Au)", "Đồng (Cu)", "Bạc (Ag)"],
          correct: 3,
        },
        {
          q: "Phương pháp nhiệt luyện thường dùng điều chế kim loại nào?",
          options: [
            "Kim loại mạnh (K, Na)",
            "Kim loại trung bình (Fe, Zn)",
            "Kim loại rất yếu",
            "Tất cả",
          ],
          correct: 1,
        },
        {
          q: "Trong ăn mòn điện hóa, kim loại nào bị ăn mòn?",
          options: [
            "Kim loại có tính khử yếu hơn",
            "Kim loại mạnh hơn (Cực âm)",
            "Không kim loại nào",
            "Kim loại cực dương",
          ],
          correct: 1,
        },
        {
          q: "Để bảo vệ vỏ tàu biển bằng thép, người ta gắn tấm kim loại nào?",
          options: ["Đồng (Cu)", "Chì (Pb)", "Kẽm (Zn)", "Bạc (Ag)"],
          correct: 2,
        },
        {
          q: "Thành phần chính của quặng Hematit là?",
          options: ["Fe₃O₄", "Fe₂O₃", "FeS₂", "FeCO₃"],
          correct: 1,
        },
      ];

      let currentQ = 0;
      let score = 0;

      function renderQuiz() {
        const container = document.getElementById("quiz-container");

        if (currentQ >= quizQuestions.length) {
          container.innerHTML = `
                    <div class="text-center space-y-6 fade-in">
                        <div class="w-24 h-24 bg-green-100 rounded-full flex items-center justify-center mx-auto text-green-600">
                            <i class="ph-bold ph-check-circle text-5xl"></i>
                        </div>
                        <h4 class="text-3xl font-bold text-slate-800">Kết Quả: ${score}/${
            quizQuestions.length
          }</h4>
                        <p class="text-slate-600">${
                          score === quizQuestions.length
                            ? "Xuất sắc!"
                            : "Hãy ôn lại bài nhé!"
                        }</p>
                        <button onclick="resetQuiz()" class="bg-indigo-600 text-white px-8 py-3 rounded-full font-bold hover:bg-indigo-700 transition shadow-lg inline-flex items-center gap-2">
                            <i class="ph-bold ph-arrow-counter-clockwise"></i> Làm lại
                        </button>
                    </div>
                `;
          return;
        }

        const q = quizQuestions[currentQ];
        let html = `
                <div class="fade-in">
                    <div class="flex justify-between text-sm text-slate-500 mb-4 font-medium">
                        <span>Câu hỏi ${currentQ + 1} / ${
          quizQuestions.length
        }</span>
                        <span>Điểm: ${score}</span>
                    </div>
                    <h4 class="text-xl font-bold text-slate-800 mb-6 min-h-[60px]">${
                      q.q
                    }</h4>
                    <div class="space-y-3">
            `;

        q.options.forEach((opt, idx) => {
          html += `<button onclick="checkAnswer(${idx})" class="w-full p-4 rounded-xl text-left border-2 border-slate-100 hover:border-indigo-400 hover:bg-indigo-50 text-slate-700 transition font-semibold">${opt}</button>`;
        });

        html += `</div></div>`;
        container.innerHTML = html;
      }

      function checkAnswer(selectedIndex) {
        const correct = quizQuestions[currentQ].correct;
        const container = document.getElementById("quiz-container");
        const btns = container.querySelectorAll("button");

        btns.forEach((btn, idx) => {
          btn.disabled = true;
          if (idx === correct) {
            btn.classList.add(
              "bg-green-100",
              "border-green-500",
              "text-green-800"
            );
            btn.innerHTML +=
              ' <i class="ph-bold ph-check text-green-600 float-right"></i>';
          } else if (idx === selectedIndex) {
            btn.classList.add("bg-red-100", "border-red-500", "text-red-800");
          } else {
            btn.classList.add("opacity-50");
          }
        });

        if (selectedIndex === correct) score++;

        setTimeout(() => {
          currentQ++;
          renderQuiz();
        }, 1000);
      }

      function resetQuiz() {
        currentQ = 0;
        score = 0;
        renderQuiz();
      }

      renderQuiz();

      // --- MOBILE MENU ---
      const mobileBtn = document.getElementById("mobile-menu-btn");
      const mobileMenu = document.getElementById("mobile-menu");

      mobileBtn.addEventListener("click", () => {
        mobileMenu.classList.toggle("hidden");
      });

      // Close mobile menu on link click
      document.querySelectorAll("#mobile-menu a").forEach((link) => {
        link.addEventListener("click", () => {
          mobileMenu.classList.add("hidden");
        });
      });
    </script>
  </body>
</html>
