<!doctype html>
<html lang="vi" class="dark">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <!-- Favicon bắt buộc -->
    <link rel="icon" href="../../favicon/educhem.svg" type="image/svg+xml" />
    <title>EDUCHEM - THPT | ChemStudy-Expert</title>

    <!-- Font & Icons -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Be+Vietnam+Pro:wght@300;400;500;600;700;900&family=Orbitron:wght@500;700;900&family=Space+Grotesk:wght@300;700&display=swap"
      rel="stylesheet"
    />

    <!-- Libraries -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script
      crossorigin
      src="https://unpkg.com/react@18/umd/react.production.min.js"
    ></script>
    <script
      crossorigin
      src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"
    ></script>
    <script src="https://unpkg.com/framer-motion@10.12.16/dist/framer-motion.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <!-- Animation Library for Footer -->
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet" />
    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>

    <script>
      tailwind.config = {
        darkMode: "class",
        theme: {
          extend: {
            fontFamily: {
              sans: ["Be Vietnam Pro", "sans-serif"],
              tech: ["Orbitron", "sans-serif"],
            },
            colors: {
              bgDark: "#050511",
              cardDark: "#0f1126",
              bgLight: "#f8fafc",
              cardLight: "#ffffff",
              textLight: "#1e293b",
              accent: "#00f2ff",
              primary: "#7000ff",
              secondary: "#ff0055",
              success: "#0aff60",
            },
            animation: {
              float: "float 15s infinite linear",
            },
            keyframes: {
              float: {
                "0%": {
                  transform: "translateY(100vh) rotate(0deg)",
                  opacity: "0",
                },
                "10%": { opacity: "0.2" },
                "90%": { opacity: "0.2" },
                "100%": {
                  transform: "translateY(-20vh) rotate(360deg)",
                  opacity: "0",
                },
              },
            },
          },
        },
      };
    </script>
  </head>
  <body
    class="bg-bgLight text-textLight dark:bg-bgDark dark:text-white min-h-screen flex flex-col transition-colors duration-300"
  >
    <!-- =========================================================
           1. STYLE (CSS)
           ========================================================= -->
    <link rel="stylesheet" href="style.css" />
    <!-- =========================================================
           2. HEADER (STATIC HTML)
           ========================================================= -->
    <header
      class="fixed w-full z-50 top-0 left-0 border-b border-slate-200 dark:border-white/10 bg-white/80 dark:bg-bgDark/80 backdrop-blur-md transition-colors duration-300"
    >
      <div
        class="max-w-7xl mx-auto px-4 h-16 md:h-20 flex items-center justify-between"
      >
        <!-- Logo -->
        <div
          class="flex items-center gap-3 cursor-pointer group"
          onclick="window.location.href = '../../index.html'"
        >
          <div
            class="relative w-8 h-8 md:w-10 md:h-10 flex items-center justify-center"
          >
            <i
              class="fas fa-atom text-2xl md:text-3xl text-accent group-hover:animate-spin"
            ></i>
          </div>
          <div>
            <h1
              class="font-tech font-bold text-xl md:text-2xl tracking-wider text-slate-800 dark:text-white"
            >
              EDU
              <span
                class="text-transparent bg-clip-text bg-gradient-to-r from-accent to-primary"
                >CHEM</span
              >
            </h1>
            <p
              class="hidden md:block text-[10px] text-slate-500 dark:text-gray-400 uppercase tracking-[0.2em]"
            >
              ChemStudy-Expert
            </p>
          </div>
        </div>

        <!-- Desktop Nav -->
        <div class="hidden md:flex items-center gap-4">
          <nav class="flex items-center gap-2">
            <a
              href="../educhem.html"
              class="px-4 py-2 rounded-lg text-sm font-semibold text-slate-500 hover:text-primary dark:text-gray-400 dark:hover:text-white hover:bg-slate-50 dark:hover:bg-white/5 transition-all"
              >EduChem</a
            >
            <a
              href="../chemstudybaby/chemstudybaby.html"
              class="px-4 py-2 rounded-lg text-sm font-semibold text-slate-500 hover:text-primary dark:text-gray-400 dark:hover:text-white hover:bg-slate-50 dark:hover:bg-white/5 transition-all"
              >CS Junior</a
            >
            <a
              href="#"
              class="px-4 py-2 rounded-lg text-sm font-semibold bg-slate-100 dark:bg-white/10 text-primary dark:text-white"
              >CS Expert</a
            >
            <a
              href="../chemforum/chemforum.html"
              class="px-4 py-2 rounded-lg text-sm font-semibold text-slate-500 hover:text-primary dark:text-gray-400 dark:hover:text-white hover:bg-slate-50 dark:hover:bg-white/5 transition-all"
              >Forum</a
            >
            <a
              href="../chemverse/chemverse.html"
              class="px-4 py-2 rounded-lg text-sm font-semibold text-slate-500 hover:text-primary dark:text-gray-400 dark:hover:text-white hover:bg-slate-50 dark:hover:bg-white/5 transition-all"
              >ChemVerse</a
            >
          </nav>
          <div class="h-6 w-px bg-slate-300 dark:bg-white/10"></div>

          <!-- Theme Toggle Button -->
          <button
            id="theme-toggle"
            class="w-10 h-10 rounded-full bg-slate-200 dark:bg-white/10 flex items-center justify-center text-slate-600 dark:text-yellow-300 hover:bg-slate-300 dark:hover:bg-white/20 transition-all shadow-md"
          >
            <i class="fas fa-moon" id="theme-icon"></i>
          </button>
        </div>

        <!-- Mobile Menu Button -->
        <div class="flex md:hidden items-center gap-3">
          <button
            id="mobile-theme-toggle"
            class="w-10 h-10 rounded-full bg-slate-200 dark:bg-white/10 flex items-center justify-center text-slate-600 dark:text-yellow-300"
          >
            <i class="fas fa-moon"></i>
          </button>
          <button
            id="mobile-menu-btn"
            class="w-10 h-10 flex items-center justify-center text-slate-700 dark:text-white text-xl"
          >
            <i class="fas fa-bars"></i>
          </button>
        </div>
      </div>

      <!-- Mobile Menu Dropdown (Hidden by default) -->
      <div id="mobile-menu" class="fixed inset-0 z-[60] hidden">
        <div
          class="absolute inset-0 bg-black/50 backdrop-blur-sm"
          id="mobile-menu-overlay"
        ></div>
        <div
          class="absolute top-0 right-0 h-full w-[80%] max-w-xs bg-white dark:bg-cardDark shadow-2xl p-6 flex flex-col transform transition-transform translate-x-full"
          id="mobile-menu-panel"
        >
          <div class="flex justify-between items-center mb-8">
            <h2
              class="font-tech text-xl font-bold text-slate-800 dark:text-white"
            >
              MENU
            </h2>
            <button
              id="mobile-menu-close"
              class="w-8 h-8 rounded-full bg-slate-100 dark:bg-white/10 text-slate-500 dark:text-white flex items-center justify-center"
            >
              <i class="fas fa-times"></i>
            </button>
          </div>
          <nav class="flex flex-col gap-4">
            <a
              href="../chemstudybaby/chemstudybaby.html"
              class="p-3 rounded-xl text-slate-600 dark:text-gray-300 hover:bg-slate-50 dark:hover:bg-white/5"
              >CS Junior</a
            >
            <a
              href="#"
              class="p-3 rounded-xl bg-primary/10 text-primary font-bold"
              >CS Expert</a
            >
            <a
              href="../chemforum/chemforum.html"
              class="p-3 rounded-xl text-slate-600 dark:text-gray-300 hover:bg-slate-50 dark:hover:bg-white/5"
              >Chem Forum</a
            >
            <a
              href="../chemverse/chemverse.html"
              class="p-3 rounded-xl text-slate-600 dark:text-gray-300 hover:bg-slate-50 dark:hover:bg-white/5"
              >Chem Verse</a
            >
            <a
              href="../../index.html"
              class="p-3 rounded-xl text-slate-600 dark:text-gray-300 hover:bg-slate-50 dark:hover:bg-white/5"
              >Về EduChem</a
            >
          </nav>
        </div>
      </div>
    </header>

    <!-- =========================================================
           3. MAIN (REACT ROOT)
           ========================================================= -->
    <main id="root" class="flex-grow pt-28 md:pt-32 pb-20 relative z-0">
      <!-- React will mount here -->
    </main>

    <!-- =========================================================
           4. FOOTER (HTML CỐ ĐỊNH)
           ========================================================= -->
    <footer>
      <div class="footer-grid">
        <div class="footer-brand" data-aos="fade-right">
          <h2>EDUMATTER</h2>
          <p style="color: #94a3b8; line-height: 1.8">
            Kiến tạo môi trường học tập cảm xúc, nơi tri thức được số hóa và
            truyền tải đầy cảm hứng.
          </p>
          <div style="display: flex; gap: 15px; margin-top: 30px">
            <a href="https://www.facebook.com/ducnt214" class="icon-btn"
              ><i class="fab fa-facebook" alt="facebook"></i
            ></a>
            <a href="https://github.com/ducnt2104" class="icon-btn" alt="github"
              ><i class="fab fa-github"></i
            ></a>
            <a
              href="https://www.tiktok.com/@ktbtcthm210"
              class="icon-btn"
              alt="tiktok"
              ><i class="fab fa-tiktok"></i
            ></a>
          </div>
        </div>
        <div class="footer-links" data-aos="fade-up">
          <h3>Liên hệ nhanh</h3>
          <div class="contact-item">
            <i class="fas fa-envelope"></i>
            <span>ducnt21042010@gmail.com</span>
          </div>
          <div class="contact-item">
            <i class="fas fa-phone"></i>
            <span>034 226 6204</span>
          </div>
          <div class="contact-item">
            <i class="fas fa-location-dot"></i>
            <span>THPT Tôn Đức Thắng, Đồng Nai</span>
          </div>
        </div>
        <div class="footer-links" data-aos="fade-left">
          <h4>Đội ngũ DNT</h4>
          <p style="color: #94a3b8">
            "Sáng tạo không ngừng - Vươn tầm tri thức"
          </p>
          <div
            style="
              margin-top: 20px;
              padding: 15px;
              background: rgba(255, 255, 255, 0.05);
              border-radius: 15px;
            "
          >
            <p style="font-size: 0.8rem; color: #fff">
              Dự án được phát triển bởi các thành viên đam mê công nghệ tại Việt
              Nam.
            </p>
          </div>
        </div>
      </div>
      <div class="copyright">
        <p>
          © 2024 EDUMATTER Educational Ecosystem. Designed with
          <i class="fas fa-heart" style="color: #ef4444"></i> by DNT Team.
        </p>
      </div>
    </footer>

    <!-- =========================================================
           5. SCRIPT (LOGIC & REACT)
           ========================================================= -->

    <!-- 5.1 Vanilla JS for Header/Footer Interactions -->
    <script>
      // Initialize AOS for footer animations
      AOS.init({
        duration: 800,
        once: true,
      });

      // --- Theme Logic ---
      const htmlEl = document.documentElement;
      const themeToggleBtn = document.getElementById("theme-toggle");
      const mobileThemeBtn = document.getElementById("mobile-theme-toggle");
      const themeIcons = document.querySelectorAll(".fa-moon, .fa-sun"); // All theme icons

      function updateThemeIcons(isDark) {
        themeIcons.forEach((icon) => {
          if (isDark) {
            icon.classList.remove("fa-sun");
            icon.classList.add("fa-moon");
          } else {
            icon.classList.remove("fa-moon");
            icon.classList.add("fa-sun");
          }
        });
      }

      function setTheme(isDark) {
        if (isDark) {
          htmlEl.classList.add("dark");
          localStorage.setItem("theme", "dark");
          updateThemeIcons(true);
        } else {
          htmlEl.classList.remove("dark");
          localStorage.setItem("theme", "light");
          updateThemeIcons(false);
        }
      }

      // Check Saved Theme
      const savedTheme = localStorage.getItem("theme");
      if (savedTheme === "light") {
        setTheme(false);
      } else {
        setTheme(true); // Default dark
      }

      // Toggle Event
      function toggleThemeHandler() {
        const isDark = htmlEl.classList.contains("dark");
        setTheme(!isDark);
      }

      themeToggleBtn.addEventListener("click", toggleThemeHandler);
      mobileThemeBtn.addEventListener("click", toggleThemeHandler);

      // --- Mobile Menu Logic ---
      const menuBtn = document.getElementById("mobile-menu-btn");
      const closeBtn = document.getElementById("mobile-menu-close");
      const overlay = document.getElementById("mobile-menu-overlay");
      const menuDiv = document.getElementById("mobile-menu");
      const menuPanel = document.getElementById("mobile-menu-panel");

      function openMenu() {
        menuDiv.classList.remove("hidden");
        // Small delay to allow display:block to apply before transform
        setTimeout(() => {
          menuPanel.classList.remove("translate-x-full");
        }, 10);
      }

      function closeMenu() {
        menuPanel.classList.add("translate-x-full");
        setTimeout(() => {
          menuDiv.classList.add("hidden");
        }, 300); // Match transition duration
      }

      menuBtn.addEventListener("click", openMenu);
      closeBtn.addEventListener("click", closeMenu);
      overlay.addEventListener("click", closeMenu);
    </script>

    <!-- 5.2 React Logic for Main Content -->
    <script type="text/babel">
      const { useState, useEffect, useMemo } = React;
      const { motion, AnimatePresence } = window.Motion;

      // --- DỮ LIỆU BÀI HỌC THPT ---
      const coursesData = [
        // LỚP 10
        {
          id: "10_1",
          grade: 10,
          title: "Cấu tạo nguyên tử",
          icon: "fa-atom",
          link: "cau_tao_nguyen_tu/cau_tao_nguyen_tu.html",
          color: "from-blue-400 to-cyan-300",
        },
        {
          id: "10_2",
          grade: 10,
          title: "Bảng tuần hoàn",
          icon: "fa-table",
          link: "bang_tuan_hoan_cac_nguyen_to_hoa_hoc/bang_tuan_hoan_cac_nguyen_to_hoa_hoc.html",
          color: "from-cyan-400 to-teal-300",
        },
        {
          id: "10_3",
          grade: 10,
          title: "Liên kết hóa học",
          icon: "fa-link",
          link: "lien_ket_hoa_hoc/lien_ket_hoa_hoc.html",
          color: "from-emerald-400 to-green-300",
        },
        {
          id: "10_4",
          grade: 10,
          title: "Phản ứng Oxi hóa - Khử",
          icon: "fa-fire",
          link: "phan_ung_oxi_hoa_khu/phan_ung_oxi_hoa_khu.html",
          color: "from-orange-400 to-red-400",
        },
        {
          id: "10_5",
          grade: 10,
          title: "Năng lượng hóa học",
          icon: "fa-bolt",
          link: "nang_luong_hoa_hoc/nang_luong_hoa_hoc.html",
          color: "from-yellow-400 to-orange-300",
        },
        {
          id: "10_6",
          grade: 10,
          title: "Tốc độ phản ứng",
          icon: "fa-tachometer-alt",
          link: "toc_do_phan_ung_hoa_hoc/toc_do_phan_ung_hoa_hoc.html",
          color: "from-indigo-400 to-blue-400",
        },
        {
          id: "10_7",
          grade: 10,
          title: "Halogen (Nhóm VIIA)",
          icon: "fa-flask",
          link: "nguyen_to_nhom_viia_halogen/nguyen_to_nhom_viia_halogen.html",
          color: "from-purple-400 to-pink-400",
        },

        // LỚP 11
        {
          id: "11_1",
          grade: 11,
          title: "Cân bằng hóa học",
          icon: "fa-balance-scale",
          link: "can_bang_hoa_hoc/can_bang_hoa_hoc.html",
          color: "from-rose-400 to-pink-500",
        },
        {
          id: "11_2",
          grade: 11,
          title: "Nitrogen & Sulfur",
          icon: "fa-cloud",
          link: "nitrogen_sulfur/nitrogen_sulfur.html",
          color: "from-sky-400 to-blue-500",
        },
        {
          id: "11_3",
          grade: 11,
          title: "Đại cương Hữu cơ",
          icon: "fa-book-sparkles",
          link: "dai_cuong_hoa_hoc_huu_co/dai_cuong_hoa_hoc_huu_co.html",
          color: "from-fuchsia-400 to-purple-500",
        },
        {
          id: "11_4",
          grade: 11,
          title: "Hydrocarbon",
          icon: "fa-burn",
          link: "hydrocarbon/hydrocarbon.html",
          color: "from-amber-400 to-orange-500",
        },
        {
          id: "11_5",
          grade: 11,
          title: "Dẫn xuất Halogen - Alcohol",
          icon: "fa-vial",
          link: "dan_xuat_halogen_alcohol_phenol/dan_xuat_halogen_alcohol_phenol.html",
          color: "from-teal-400 to-emerald-500",
        },
        {
          id: "11_6",
          grade: 11,
          title: "Hợp chất Carbonyl",
          icon: "fa-cube",
          link: "hop_chat_carbonyl(aldehyde_ketone)_carboxylic_acid/hop_chat_carbonyl(aldehyde_ketone)_carboxylic_acid.html",
          color: "from-violet-400 to-indigo-500",
        },

        // LỚP 12
        {
          id: "12_1",
          grade: 12,
          title: "Ester - Lipid",
          icon: "fa-vials",
          link: "ester_lipid/ester_lipid.html",
          color: "from-pink-400 to-rose-500",
        },
        {
          id: "12_3",
          grade: 12,
          title: "Carbohydrate",
          icon: "fa-cookie-bite",
          link: "carbohydrate/carbohydrate.html",
          color: "from-yellow-300 to-amber-400",
        },
        {
          id: "12_4",
          grade: 12,
          title: "Hợp chất chứa Nitrogen",
          icon: "fa-dna",
          link: "hop_chat_chua_nitrogen/hop_chat_chua_nitrogen.html",
          color: "from-green-300 to-emerald-400",
        },
        {
          id: "12_5",
          grade: 12,
          title: "Polymer",
          icon: "fa-project-diagram",
          link: "polymer/polymer.html",
          color: "from-blue-400 to-indigo-500",
        },
        {
          id: "12_6",
          grade: 12,
          title: "Pin điện & Điện phân",
          icon: "fa-battery-bolt",
          link: "pin_dien_va_dien_phan/pin_dien_va_dien_phan.html",
          color: "from-red-400 to-rose-500",
        },
        {
          id: "12_7",
          grade: 12,
          title: "Đại cương kim loại",
          icon: "fa-industry",
          link: "dai_cuong_kim_loai/dai_cuong_kim_loai.html",
          color: "from-gray-300 to-slate-400",
        },
        {
          id: "12_8",
          grade: 12,
          title: "Kim loại nhóm IA & IIA",
          icon: "fa-layer-group",
          link: "nguyen_to_nhom_ia_va_nhom_iia/nguyen_to_nhom_ia_va_nhom_iia.html",
          color: "from-purple-300 to-violet-400",
        },
        {
          id: "12_9",
          grade: 12,
          title: "Kim loại chuyển tiếp",
          icon: "fa-gem",
          link: "so_luoc_ve_day_kim_loai_chuyen_tiep_thu_nhat_va_phuc_chat/so_luoc_ve_day_kim_loai_chuyen_tiep_thu_nhat_va_phuc_chat.html",
          color: "from-gold-300 to-yellow-500",
        },
      ];

      // --- COMPONENTS ---

      const Background = () => {
        const particleCount = window.innerWidth < 768 ? 8 : 15;
        // Background particles sit inside React Main, but styled to be fixed
        return (
          <div className="fixed inset-0 overflow-hidden pointer-events-none z-[-1]">
            <div className="absolute inset-0 bg-grid-light dark:bg-grid-dark transition-all duration-500"></div>
            {/* Ambient Glows */}
            <div className="absolute top-[-20%] left-[-10%] w-[500px] h-[500px] bg-primary/20 rounded-full blur-[100px]"></div>
            <div className="absolute bottom-[-20%] right-[-10%] w-[500px] h-[500px] bg-secondary/10 rounded-full blur-[100px]"></div>

            {/* Particles - Tailwind 'dark:' class handles color switching based on HTML class */}
            {[...Array(particleCount)].map((_, i) => (
              <div
                key={i}
                className="absolute text-slate-300 dark:text-primary opacity-20"
                style={{
                  left: `${Math.random() * 100}%`,
                  fontSize: `${Math.random() * 20 + 15}px`,
                  animation: `float ${Math.random() * 10 + 15}s infinite linear`,
                  animationDelay: `${Math.random() * 10}s`,
                }}
              >
                <i className="fas fa-hexagon"></i>
              </div>
            ))}
          </div>
        );
      };

      const CourseCard = ({ course, isDone, onToggleDone }) => {
        return (
          <motion.div
            layout
            initial={{ opacity: 0, scale: 0.95 }}
            animate={{ opacity: 1, scale: 1 }}
            exit={{ opacity: 0, scale: 0.95 }}
            whileHover={{ y: -5 }}
            transition={{ duration: 0.2 }}
            className="group relative h-full"
          >
            <div
              className={`
                relative h-full flex flex-col p-6 rounded-2xl border transition-all duration-300 shadow-sm hover:shadow-xl cursor-pointer
                bg-white/70 border-slate-200 
                dark:bg-cardDark/90 dark:border-white/10 dark:backdrop-blur-xl
                ${isDone ? "border-success/50 ring-1 ring-success/30" : ""}
              `}
              onClick={() => (window.location.href = course.link)}
            >
              {/* Checkbox */}
              <button
                onClick={(e) => {
                  e.stopPropagation();
                  onToggleDone(course.id);
                }}
                className={`absolute top-4 right-4 z-20 w-8 h-8 rounded-full flex items-center justify-center border transition-all duration-300
                  ${
                    isDone
                      ? "bg-success text-black border-success shadow-[0_0_10px_rgba(10,255,96,0.4)]"
                      : "bg-slate-100 border-slate-300 text-slate-300 hover:border-accent hover:text-accent dark:bg-white/5 dark:border-white/20 dark:text-white/20"
                  }
                `}
              >
                <i className="fas fa-check text-xs"></i>
              </button>

              {/* Icon */}
              <div className="flex justify-between items-start mb-4">
                <div
                  className={`w-12 h-12 rounded-xl bg-gradient-to-br ${course.color} flex items-center justify-center text-white text-xl shadow-lg group-hover:rotate-12 transition-transform duration-300`}
                >
                  <i className={`fas ${course.icon}`}></i>
                </div>
                <span className="mt-1 px-2.5 py-0.5 rounded-full bg-slate-100 dark:bg-white/5 border border-slate-200 dark:border-white/10 text-[10px] font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider">
                  Lớp {course.grade}
                </span>
              </div>

              {/* Title */}
              <h3
                className={`text-lg font-bold mb-2 leading-tight transition-colors ${
                  isDone
                    ? "text-success"
                    : "text-slate-800 dark:text-white group-hover:text-accent"
                }`}
              >
                {course.title}
              </h3>

              <div className="flex-grow"></div>

              {/* Footer */}
              <div className="mt-4 pt-4 border-t border-slate-100 dark:border-white/5 flex items-center justify-between">
                <span
                  className={`text-xs font-semibold ${
                    isDone
                      ? "text-success"
                      : "text-slate-500 dark:text-gray-400"
                  }`}
                >
                  {isDone ? "Hoàn thành" : "Bắt đầu học"}
                </span>
                <i
                  className={`fas fa-arrow-right text-xs transform group-hover:translate-x-1 transition-transform ${
                    isDone
                      ? "text-success"
                      : "text-slate-300 dark:text-white/30"
                  }`}
                ></i>
              </div>
            </div>
          </motion.div>
        );
      };

      const ProgressBar = ({ percent }) => (
        <div className="w-full max-w-md mx-auto mb-10 px-4">
          <div className="flex justify-between text-xs font-tech text-slate-500 dark:text-slate-400 mb-2 uppercase tracking-widest">
            <span>Tiến độ học tập</span>
            <span className={percent === 100 ? "text-success" : "text-accent"}>
              {percent}%
            </span>
          </div>
          <div className="h-2 w-full bg-slate-200 dark:bg-white/10 rounded-full overflow-hidden relative">
            <motion.div
              initial={{ width: 0 }}
              animate={{ width: `${percent}%` }}
              transition={{ duration: 1, ease: "easeOut" }}
              className={`h-full absolute top-0 left-0 rounded-full ${
                percent === 100
                  ? "bg-success shadow-[0_0_10px_#0aff60]"
                  : "bg-gradient-to-r from-primary to-accent"
              }`}
            ></motion.div>
          </div>
        </div>
      );

      // --- MAIN REACT APP ---
      const App = () => {
        const [activeTab, setActiveTab] = useState("all");
        const [completed, setCompleted] = useState([]);

        // Progress Persistence
        useEffect(() => {
          const saved = JSON.parse(
            localStorage.getItem("chemstudy_thpt_progress") || "[]",
          );
          setCompleted(saved);
        }, []);

        useEffect(() => {
          localStorage.setItem(
            "chemstudy_thpt_progress",
            JSON.stringify(completed),
          );
        }, [completed]);

        const toggleDone = (id) => {
          setCompleted((prev) =>
            prev.includes(id)
              ? prev.filter((item) => item !== id)
              : [...prev, id],
          );
        };

        const filteredCourses = useMemo(() => {
          if (activeTab === "all") return coursesData;
          return coursesData.filter((c) => c.grade === parseInt(activeTab));
        }, [activeTab]);

        const progressPercent = Math.round(
          (completed.length / coursesData.length) * 100,
        );

        const tabs = [
          { id: "all", label: "Tổng quan" },
          { id: "10", label: "Lớp 10" },
          { id: "11", label: "Lớp 11" },
          { id: "12", label: "Lớp 12" },
        ];

        return (
          <>
            <Background />

            <div className="max-w-7xl mx-auto w-full px-4">
              {/* Intro & Title */}
              <div className="text-center mb-10 relative">
                <motion.div
                  initial={{ opacity: 0, y: 20 }}
                  animate={{ opacity: 1, y: 0 }}
                  transition={{ duration: 0.8 }}
                >
                  <h2 className="text-4xl md:text-6xl font-tech font-bold text-slate-800 dark:text-white mb-4 leading-tight">
                    ChemStudy{" "}
                    <span className="text-transparent bg-clip-text bg-gradient-to-r from-accent via-primary to-secondary">
                      Expert
                    </span>
                  </h2>
                  <p className="text-slate-500 dark:text-gray-400 text-base md:text-lg max-w-2xl mx-auto font-light mb-8">
                    Hệ thống kiến thức Hóa học THPT toàn diện (Lớp 10 - 12).
                  </p>
                </motion.div>
                <ProgressBar percent={progressPercent} />
              </div>

              {/* Tabs */}
              <div className="flex justify-center mb-12">
                <div className="bg-slate-200/50 dark:bg-white/5 p-1.5 rounded-full border border-slate-300 dark:border-white/10 backdrop-blur-md flex flex-wrap justify-center gap-1 shadow-inner">
                  {tabs.map((tab) => (
                    <button
                      key={tab.id}
                      onClick={() => setActiveTab(tab.id)}
                      className={`relative px-4 md:px-6 py-2 rounded-full text-xs md:text-sm font-bold transition-all duration-300 z-10 ${
                        activeTab === tab.id
                          ? "text-white"
                          : "text-slate-500 dark:text-gray-400 hover:text-primary dark:hover:text-white"
                      }`}
                    >
                      {activeTab === tab.id && (
                        <motion.div
                          layoutId="activeTab"
                          className="absolute inset-0 bg-gradient-to-r from-primary to-secondary rounded-full -z-10 shadow-lg"
                        ></motion.div>
                      )}
                      {tab.label}
                    </button>
                  ))}
                </div>
              </div>

              {/* Grid */}
              <motion.div
                layout
                className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"
              >
                <AnimatePresence mode="popLayout">
                  {filteredCourses.map((course) => (
                    <CourseCard
                      key={course.id}
                      course={course}
                      isDone={completed.includes(course.id)}
                      onToggleDone={toggleDone}
                    />
                  ))}
                </AnimatePresence>
              </motion.div>

              {filteredCourses.length === 0 && (
                <div className="text-center py-20 text-slate-400">
                  <p>Không tìm thấy bài học nào.</p>
                </div>
              )}
            </div>
          </>
        );
      };

      const root = ReactDOM.createRoot(document.getElementById("root"));
      root.render(<App />);
    </script>
  </body>
</html>
