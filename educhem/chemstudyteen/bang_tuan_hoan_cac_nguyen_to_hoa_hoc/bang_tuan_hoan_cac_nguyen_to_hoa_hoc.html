<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Ch·ªß ƒê·ªÅ 2: B·∫£ng Tu·∫ßn Ho√†n C√°c Nguy√™n T·ªë H√≥a H·ªçc</title>
    <!-- Fonts -->
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&family=Merriweather:ital,wght@0,400;0,700;1,400&display=swap"
      rel="stylesheet"
    />
    <!-- MathJax for formulas -->
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script
      id="MathJax-script"
      async
      src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"
    ></script>
    <!-- Chart.js for Trend Visualization -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <style>
      :root {
        --primary: #2563eb; /* Royal Blue */
        --secondary: #7c3aed; /* Violet */
        --accent: #f59e0b; /* Amber */
        --bg: #0f172a; /* Slate 900 */
        --card: #1e293b; /* Slate 800 */
        --text: #f1f5f9; /* Slate 100 */
        --text-muted: #94a3b8; /* Slate 400 */
        --metal: #fca5a5; /* Light Red */
        --nonmetal: #86efac; /* Light Green */
        --gas: #7dd3fc; /* Light Blue */
        --metalloid: #fde047; /* Yellow */
      }

      * {
        box-sizing: border-box;
      }

      body {
        font-family: "Inter", sans-serif;
        background-color: var(--bg);
        color: var(--text);
        margin: 0;
        display: flex;
        flex-direction: column;
        min-height: 100vh;
        line-height: 1.6;
      }

      /* Header Style */
      header {
        background: linear-gradient(135deg, var(--primary), var(--secondary));
        padding: 2rem 1rem;
        text-align: center;
        border-bottom: 4px solid var(--accent);
        box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.3);
      }
      header h1 {
        margin: 0;
        font-size: 2.2rem;
        font-weight: 800;
        letter-spacing: -1px;
      }
      header p {
        color: rgba(255, 255, 255, 0.9);
        margin-top: 0.5rem;
        font-family: "Merriweather", serif;
        font-style: italic;
      }

      /* Navigation */
      .nav-bar {
        display: flex;
        justify-content: center;
        gap: 1rem;
        padding: 1rem;
        background: rgba(30, 41, 59, 0.8);
        backdrop-filter: blur(10px);
        position: sticky;
        top: 0;
        z-index: 100;
        border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        flex-wrap: wrap;
      }
      .nav-btn {
        background: transparent;
        border: 2px solid var(--text-muted);
        color: var(--text-muted);
        padding: 0.5rem 1.2rem;
        border-radius: 99px;
        font-weight: 600;
        cursor: pointer;
        transition: all 0.3s ease;
      }
      .nav-btn:hover {
        border-color: var(--text);
        color: var(--text);
      }
      .nav-btn.active {
        background: var(--accent);
        border-color: var(--accent);
        color: #0f172a; /* Dark text on bright button */
        box-shadow: 0 0 15px rgba(245, 158, 11, 0.4);
      }

      /* Main Content */
      main {
        flex: 1;
        max-width: 1200px;
        width: 100%;
        margin: 0 auto;
        padding: 2rem 1rem;
      }

      .tab-content {
        display: none;
        animation: fadeIn 0.4s ease-out;
      }
      .tab-content.active {
        display: block;
      }
      @keyframes fadeIn {
        from {
          opacity: 0;
          transform: translateY(10px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      /* Cards & Layout */
      .card {
        background: var(--card);
        border-radius: 16px;
        padding: 2rem;
        margin-bottom: 2rem;
        border: 1px solid rgba(255, 255, 255, 0.05);
      }
      .card h2 {
        color: var(--accent);
        margin-top: 0;
        border-bottom: 2px solid rgba(255, 255, 255, 0.1);
        padding-bottom: 0.5rem;
      }
      .card h3 {
        color: var(--primary);
        margin-top: 1.5rem;
      }

      /* Theory Styles */
      details {
        background: rgba(0, 0, 0, 0.2);
        border-radius: 8px;
        margin-bottom: 1rem;
        overflow: hidden;
      }
      summary {
        padding: 1rem;
        cursor: pointer;
        font-weight: 600;
        display: flex;
        justify-content: space-between;
        align-items: center;
        background: rgba(255, 255, 255, 0.05);
        transition: background 0.2s;
      }
      summary:hover {
        background: rgba(255, 255, 255, 0.1);
      }
      summary::after {
        content: "+";
        font-size: 1.5rem;
        color: var(--text-muted);
      }
      details[open] summary::after {
        content: "-";
        color: var(--accent);
      }
      .details-content {
        padding: 1.5rem;
        border-top: 1px solid rgba(255, 255, 255, 0.05);
      }

      .concept-box {
        border-left: 4px solid var(--secondary);
        background: rgba(124, 58, 237, 0.1);
        padding: 1rem;
        margin: 1rem 0;
        border-radius: 0 8px 8px 0;
      }

      /* Periodic Table Grid */
      .periodic-table-wrapper {
        overflow-x: auto;
        padding-bottom: 1rem;
      }
      .periodic-grid {
        display: grid;
        grid-template-columns: repeat(18, minmax(45px, 1fr));
        gap: 4px;
        min-width: 900px; /* Ensure table doesn't squash too much */
      }
      .element-cell {
        aspect-ratio: 1;
        background: #334155;
        border-radius: 4px;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        cursor: pointer;
        transition: transform 0.2s, box-shadow 0.2s;
        position: relative;
        font-size: 0.8rem;
        color: #0f172a; /* Dark text for legibility on colored cells */
      }
      .element-cell:hover {
        transform: scale(1.2);
        z-index: 10;
        box-shadow: 0 0 10px rgba(255, 255, 255, 0.5);
        border: 2px solid white;
      }
      .element-cell .symbol {
        font-weight: 800;
        font-size: 1.1rem;
      }
      .element-cell .z-num {
        position: absolute;
        top: 2px;
        left: 4px;
        font-size: 0.6rem;
        opacity: 0.7;
      }

      /* Types */
      .type-metal {
        background-color: var(--metal);
      }
      .type-nonmetal {
        background-color: var(--nonmetal);
      }
      .type-gas {
        background-color: var(--gas);
      }
      .type-metalloid {
        background-color: var(--metalloid);
      }
      .type-empty {
        background: transparent;
        pointer-events: none;
      }

      /* Element Detail Modal/Panel */
      .element-detail-panel {
        background: rgba(255, 255, 255, 0.05);
        border: 1px solid var(--accent);
        border-radius: 12px;
        padding: 1.5rem;
        margin-top: 1.5rem;
        display: none;
        grid-template-columns: 1fr 2fr;
        gap: 2rem;
        animation: fadeIn 0.3s;
      }
      .big-symbol {
        font-size: 4rem;
        font-weight: 900;
        color: var(--accent);
        text-align: center;
        border: 4px solid var(--accent);
        border-radius: 12px;
        display: flex;
        align-items: center;
        justify-content: center;
        background: rgba(0, 0, 0, 0.3);
      }

      /* Trends Chart Section */
      .chart-container {
        position: relative;
        height: 400px;
        width: 100%;
        background: rgba(255, 255, 255, 0.02);
        border-radius: 12px;
        padding: 1rem;
      }
      .chart-controls {
        display: flex;
        gap: 1rem;
        margin-bottom: 1rem;
        justify-content: center;
      }
      select {
        background: var(--card);
        color: var(--text);
        padding: 0.5rem;
        border: 1px solid var(--text-muted);
        border-radius: 6px;
      }

      /* Quiz */
      .quiz-option {
        display: block;
        padding: 1rem;
        margin: 0.5rem 0;
        background: rgba(255, 255, 255, 0.05);
        border-radius: 8px;
        cursor: pointer;
        border: 1px solid transparent;
        transition: 0.2s;
      }
      .quiz-option:hover {
        border-color: var(--primary);
        background: rgba(37, 99, 235, 0.1);
      }
      .quiz-option.correct {
        background: rgba(34, 197, 94, 0.2);
        border-color: #22c55e;
        color: #22c55e;
        font-weight: bold;
      }
      .quiz-option.wrong {
        background: rgba(239, 68, 68, 0.2);
        border-color: #ef4444;
        color: #ef4444;
      }

      /* Footer */
      footer {
        text-align: center;
        padding: 2rem;
        color: var(--text-muted);
        font-size: 0.9rem;
        border-top: 1px solid rgba(255, 255, 255, 0.1);
      }

      /* Responsive */
      @media (max-width: 768px) {
        .element-detail-panel {
          grid-template-columns: 1fr;
        }
        .periodic-grid {
          min-width: 600px;
        } /* Allow scrolling */
      }
    </style>
  </head>
  <body>
    <header>
      <h1>B·∫¢NG TU·∫¶N HO√ÄN C√ÅC NGUY√äN T·ªê H√ìA H·ªåC</h1>
      <p>Ch·ªß ƒë·ªÅ 2 - H√≥a H·ªçc 10</p>
    </header>

    <div class="nav-bar">
      <button class="nav-btn active" onclick="switchTab('lythuyet')">
        üìñ L√Ω Thuy·∫øt
      </button>
      <button class="nav-btn" onclick="switchTab('bangtuanhoan')">
        üß™ B·∫£ng T∆∞∆°ng T√°c
      </button>
      <button class="nav-btn" onclick="switchTab('xuhuong')">
        üìà Xu H∆∞·ªõng Bi·∫øn ƒê·ªïi
      </button>
      <button class="nav-btn" onclick="switchTab('tracnghiem')">
        üìù Tr·∫Øc Nghi·ªám
      </button>
    </div>

    <main>
      <!-- TAB 1: L√ù THUY·∫æT -->
      <div id="lythuyet" class="tab-content active">
        <!-- I. C·∫§U T·∫†O -->
        <div class="card">
          <h2>I. C·∫•u T·∫°o B·∫£ng Tu·∫ßn Ho√†n</h2>

          <details open>
            <summary>1. L·ªãch s·ª≠ h√¨nh th√†nh (Mendeleev)</summary>
            <div class="details-content">
              <p>
                <strong>Dmitri Mendeleev (1869):</strong> S·∫Øp x·∫øp theo chi·ªÅu
                tƒÉng d·∫ßn c·ªßa <em>kh·ªëi l∆∞·ª£ng nguy√™n t·ª≠</em>.
              </p>
              <div class="concept-box">
                <strong>ƒêi·ªÉm thi√™n t√†i:</strong> √îng ƒë√£ ƒë·ªÉ tr·ªëng c√°c √¥ cho nh·ªØng
                nguy√™n t·ªë ch∆∞a t√¨m th·∫•y (nh∆∞ Gallium, Germanium) v√† d·ª± ƒëo√°n
                ch√≠nh x√°c t√≠nh ch·∫•t c·ªßa ch√∫ng.
              </div>
              <p>
                <strong>Ng√†y nay:</strong> B·∫£ng tu·∫ßn ho√†n s·∫Øp x·∫øp theo chi·ªÅu
                tƒÉng d·∫ßn c·ªßa <strong>ƒëi·ªán t√≠ch h·∫°t nh√¢n (Z)</strong>.
              </p>
            </div>
          </details>

          <details>
            <summary>2. √î Nguy√™n t·ªë - Chu k√¨ - Nh√≥m</summary>
            <div class="details-content">
              <h3>√î Nguy√™n t·ªë</h3>
              <p>
                M·ªói √¥ ch·ª©a th√¥ng tin: S·ªë hi·ªáu nguy√™n t·ª≠ (Z), K√≠ hi·ªáu, T√™n,
                Nguy√™n t·ª≠ kh·ªëi, C·∫•u h√¨nh e.
              </p>

              <h3>Chu k√¨ (H√†ng ngang)</h3>
              <ul>
                <li>C√≥ 7 chu k√¨.</li>
                <li>
                  Nguy√™n t·ªë c√πng chu k√¨ c√≥
                  <strong>c√πng s·ªë l·ªõp electron</strong>.
                </li>
                <li>
                  Chu k√¨ 1 (2 nguy√™n t·ªë), Chu k√¨ 2,3 (8 nguy√™n t·ªë), Chu k√¨ 4+
                  (18+ nguy√™n t·ªë).
                </li>
              </ul>

              <h3>Nh√≥m (C·ªôt d·ªçc)</h3>
              <ul>
                <li>
                  C√≥ 18 nh√≥m. Nguy√™n t·ªë c√πng nh√≥m c√≥ t√≠nh ch·∫•t h√≥a h·ªçc t∆∞∆°ng t·ª±.
                </li>
                <li><strong>Nh√≥m A:</strong> Nguy√™n t·ªë s v√† p (ƒêi·ªÉn h√¨nh).</li>
                <li>
                  <strong>Nh√≥m B:</strong> Nguy√™n t·ªë d v√† f (Kim lo·∫°i chuy·ªÉn
                  ti·∫øp).
                </li>
              </ul>
            </div>
          </details>

          <details>
            <summary>3. Ph√¢n lo·∫°i nguy√™n t·ªë</summary>
            <div class="details-content">
              <ul>
                <li>
                  <span style="color: var(--metal)">‚ñ†</span>
                  <strong>Kim lo·∫°i:</strong> G√≥c d∆∞·ªõi b√™n tr√°i. D·ªÖ nh∆∞·ªùng e.
                </li>
                <li>
                  <span style="color: var(--nonmetal)">‚ñ†</span>
                  <strong>Phi kim:</strong> G√≥c tr√™n b√™n ph·∫£i. D·ªÖ nh·∫≠n e.
                </li>
                <li>
                  <span style="color: var(--gas)">‚ñ†</span>
                  <strong>Kh√≠ hi·∫øm:</strong> Nh√≥m VIIIA (18). R·∫•t b·ªÅn v·ªØng.
                </li>
              </ul>
            </div>
          </details>
        </div>

        <!-- II. XU H∆Ø·ªöNG -->
        <div class="card">
          <h2>II. Xu H∆∞·ªõng Bi·∫øn ƒê·ªïi T√≠nh Ch·∫•t</h2>
          <p>
            Quy lu·∫≠t bi·∫øn ƒë·ªïi trong m·ªôt chu k√¨ (tr√°i sang ph·∫£i) v√† m·ªôt nh√≥m A
            (tr√™n xu·ªëng d∆∞·ªõi).
          </p>

          <div style="overflow-x: auto">
            <table
              style="
                width: 100%;
                border-collapse: collapse;
                text-align: center;
                margin-top: 1rem;
              "
            >
              <tr
                style="
                  background: rgba(255, 255, 255, 0.1);
                  color: var(--accent);
                "
              >
                <th style="padding: 10px; border: 1px solid #334155">
                  T√≠nh ch·∫•t
                </th>
                <th style="padding: 10px; border: 1px solid #334155">
                  Chu k√¨ (‚Üí)
                </th>
                <th style="padding: 10px; border: 1px solid #334155">
                  Nh√≥m (‚Üì)
                </th>
                <th style="padding: 10px; border: 1px solid #334155">
                  Gi·∫£i th√≠ch ng·∫Øn
                </th>
              </tr>
              <tr>
                <td style="padding: 10px; border: 1px solid #334155">
                  <strong>B√°n k√≠nh (R)</strong>
                </td>
                <td style="color: #fca5a5">GI·∫¢M</td>
                <td style="color: #86efac">TƒÇNG</td>
                <td
                  style="
                    text-align: left;
                    padding: 10px;
                    border: 1px solid #334155;
                  "
                >
                  Chu k√¨: H√∫t e m·∫°nh h∆°n ‚Üí co l·∫°i.<br />Nh√≥m: Th√™m l·ªõp e ‚Üí ph√¨nh
                  ra.
                </td>
              </tr>
              <tr>
                <td style="padding: 10px; border: 1px solid #334155">
                  <strong>ƒê·ªô √¢m ƒëi·ªán ($\chi$)</strong>
                </td>
                <td style="color: #86efac">TƒÇNG</td>
                <td style="color: #fca5a5">GI·∫¢M</td>
                <td
                  style="
                    text-align: left;
                    padding: 10px;
                    border: 1px solid #334155;
                  "
                >
                  ƒê·∫∑c tr∆∞ng cho kh·∫£ nƒÉng h√∫t e. F m·∫°nh nh·∫•t.
                </td>
              </tr>
              <tr>
                <td style="padding: 10px; border: 1px solid #334155">
                  <strong>T√≠nh Kim lo·∫°i</strong>
                </td>
                <td style="color: #fca5a5">GI·∫¢M</td>
                <td style="color: #86efac">TƒÇNG</td>
                <td
                  style="
                    text-align: left;
                    padding: 10px;
                    border: 1px solid #334155;
                  "
                >
                  D·ªÖ m·∫•t e th√¨ t√≠nh kim lo·∫°i m·∫°nh.
                </td>
              </tr>
              <tr>
                <td style="padding: 10px; border: 1px solid #334155">
                  <strong>T√≠nh Phi kim</strong>
                </td>
                <td style="color: #86efac">TƒÇNG</td>
                <td style="color: #fca5a5">GI·∫¢M</td>
                <td
                  style="
                    text-align: left;
                    padding: 10px;
                    border: 1px solid #334155;
                  "
                >
                  D·ªÖ nh·∫≠n e th√¨ t√≠nh phi kim m·∫°nh.
                </td>
              </tr>
              <tr>
                <td style="padding: 10px; border: 1px solid #334155">
                  <strong>T√≠nh Acid (Oxide)</strong>
                </td>
                <td style="color: #86efac">TƒÇNG</td>
                <td style="color: #fca5a5">GI·∫¢M</td>
                <td
                  style="
                    text-align: left;
                    padding: 10px;
                    border: 1px solid #334155;
                  "
                >
                  $Na_2O$ (Base) $\rightarrow$ $Cl_2O_7$ (Acid)
                </td>
              </tr>
            </table>
          </div>
        </div>

        <!-- III. ƒê·ªäNH LU·∫¨T -->
        <div class="card">
          <h2>III. ƒê·ªãnh Lu·∫≠t Tu·∫ßn Ho√†n & √ù Nghƒ©a</h2>
          <div class="concept-box">
            <strong>Ph√°t bi·ªÉu:</strong> T√≠nh ch·∫•t c·ªßa c√°c nguy√™n t·ªë v√† ƒë∆°n ch·∫•t,
            c≈©ng nh∆∞ th√†nh ph·∫ßn v√† t√≠nh ch·∫•t c·ªßa c√°c h·ª£p ch·∫•t t·∫°o n√™n t·ª´ ch√∫ng
            bi·∫øn ƒë·ªïi tu·∫ßn ho√†n theo chi·ªÅu tƒÉng c·ªßa ƒëi·ªán t√≠ch h·∫°t nh√¢n nguy√™n t·ª≠.
          </div>
          <h3>√ù nghƒ©a th·ª±c t·∫ø:</h3>
          <ul>
            <li>
              Bi·∫øt v·ªã tr√≠ $\rightarrow$ Suy ra t√≠nh ch·∫•t (Kim lo·∫°i/Phi kim, H√≥a
              tr·ªã, C√¥ng th·ª©c oxide...).
            </li>
            <li>Bi·∫øt t√≠nh ch·∫•t $\rightarrow$ D·ª± ƒëo√°n v·ªã tr√≠.</li>
            <li>So s√°nh t√≠nh ch·∫•t v·ªõi c√°c nguy√™n t·ªë l√¢n c·∫≠n.</li>
          </ul>
        </div>
      </div>

      <!-- TAB 2: B·∫¢NG T∆Ø∆†NG T√ÅC -->
      <div id="bangtuanhoan" class="tab-content">
        <div class="card">
          <h2>B·∫£ng Tu·∫ßn Ho√†n T∆∞∆°ng T√°c</h2>
          <p>
            Click v√†o nguy√™n t·ªë ƒë·ªÉ xem "h·ªì s∆°" chi ti·∫øt. (Hi·ªÉn th·ªã c√°c nguy√™n t·ªë
            nh√≥m A ƒëi·ªÉn h√¨nh).
          </p>

          <div class="periodic-table-wrapper">
            <div class="periodic-grid" id="periodic-table">
              <!-- JS will fill this -->
            </div>
          </div>

          <!-- DETAIL PANEL -->
          <div id="el-detail" class="element-detail-panel">
            <div class="big-symbol">
              <div id="detail-symbol">H</div>
            </div>
            <div>
              <h3 id="detail-name" style="margin-top: 0; font-size: 2rem">
                Hydrogen
              </h3>
              <p
                id="detail-summary"
                style="font-style: italic; color: var(--accent)"
              >
                Phi kim - Chu k√¨ 1 - Nh√≥m IA
              </p>
              <div
                style="
                  display: grid;
                  grid-template-columns: 1fr 1fr;
                  gap: 1rem;
                  margin-top: 1rem;
                "
              >
                <div>
                  <small style="color: var(--text-muted)">S·ªë hi·ªáu (Z)</small>
                  <div
                    id="detail-z"
                    style="font-weight: bold; font-size: 1.2rem"
                  >
                    1
                  </div>
                </div>
                <div>
                  <small style="color: var(--text-muted)">Nguy√™n t·ª≠ kh·ªëi</small>
                  <div
                    id="detail-mass"
                    style="font-weight: bold; font-size: 1.2rem"
                  >
                    1.008
                  </div>
                </div>
                <div>
                  <small style="color: var(--text-muted)">ƒê·ªô √¢m ƒëi·ªán</small>
                  <div
                    id="detail-neg"
                    style="font-weight: bold; font-size: 1.2rem"
                  >
                    2.20
                  </div>
                </div>
                <div>
                  <small style="color: var(--text-muted)">C·∫•u h√¨nh e</small>
                  <div
                    id="detail-config"
                    style="font-weight: bold; font-size: 1.2rem"
                  >
                    1s¬π
                  </div>
                </div>
              </div>
              <p
                style="
                  margin-top: 1rem;
                  border-top: 1px solid rgba(255, 255, 255, 0.1);
                  padding-top: 0.5rem;
                "
              >
                <strong>Oxide cao nh·∫•t:</strong>
                <span id="detail-oxide">H‚ÇÇO (Trung t√≠nh)</span>
              </p>
            </div>
          </div>
        </div>
      </div>

      <!-- TAB 3: XU H∆Ø·ªöNG (CHART) -->
      <div id="xuhuong" class="tab-content">
        <div class="card">
          <h2>Bi·ªÉu ƒê·ªì Xu H∆∞·ªõng Bi·∫øn ƒê·ªïi</h2>
          <p>Ch·ªçn t√≠nh ch·∫•t ƒë·ªÉ quan s√°t s·ª± bi·∫øn ƒë·ªïi tr·ª±c quan.</p>

          <div class="chart-controls">
            <select id="trend-period" onchange="updateChart()">
              <option value="2">Chu k√¨ 2 (Li - Ne)</option>
              <option value="3">Chu k√¨ 3 (Na - Ar)</option>
            </select>
            <select id="trend-property" onchange="updateChart()">
              <option value="radius">B√°n k√≠nh nguy√™n t·ª≠ (pm)</option>
              <option value="electronegativity">ƒê·ªô √¢m ƒëi·ªán (Pauling)</option>
            </select>
          </div>

          <div class="chart-container">
            <canvas id="trendChart"></canvas>
          </div>

          <div
            id="trend-explanation"
            class="concept-box"
            style="margin-top: 1rem"
          >
            <!-- JS will update this -->
          </div>
        </div>
      </div>

      <!-- TAB 4: TR·∫ÆC NGHI·ªÜM -->
      <div id="tracnghiem" class="tab-content">
        <div class="card">
          <h2>Ki·ªÉm Tra Ki·∫øn Th·ª©c</h2>
          <div id="quiz-container"></div>
          <button
            class="nav-btn active"
            style="margin-top: 2rem; width: 100%; text-align: center"
            onclick="resetQuiz()"
          >
            L√†m l·∫°i
          </button>
        </div>
      </div>
    </main>

    <footer>H√≥a H·ªçc 10 - Ch∆∞∆°ng 2 | Thi·∫øt k·∫ø h·ªó tr·ª£ h·ªçc t·∫≠p tr·ª±c quan</footer>

    <script>
      // --- DATA ---
      // D·ªØ li·ªáu cho 20 nguy√™n t·ªë ƒë·∫ßu + m·ªôt s·ªë nguy√™n t·ªë nh√≥m 7A, 1A ƒë·ªÉ minh h·ªça nh√≥m
      const elementsData = [
        {
          z: 1,
          s: "H",
          n: "Hydrogen",
          m: 1.008,
          neg: 2.2,
          r: 53,
          gr: 1,
          pr: 1,
          type: "nonmetal",
          conf: "1s¬π",
          oxide: "H‚ÇÇO",
        },
        {
          z: 2,
          s: "He",
          n: "Helium",
          m: 4.003,
          neg: null,
          r: 31,
          gr: 18,
          pr: 1,
          type: "gas",
          conf: "1s¬≤",
          oxide: "-",
        },

        {
          z: 3,
          s: "Li",
          n: "Lithium",
          m: 6.94,
          neg: 0.98,
          r: 167,
          gr: 1,
          pr: 2,
          type: "metal",
          conf: "[He] 2s¬π",
          oxide: "Li‚ÇÇO (Base)",
        },
        {
          z: 4,
          s: "Be",
          n: "Beryllium",
          m: 9.01,
          neg: 1.57,
          r: 112,
          gr: 2,
          pr: 2,
          type: "metal",
          conf: "[He] 2s¬≤",
          oxide: "BeO (L∆∞·ª°ng t√≠nh)",
        },
        {
          z: 5,
          s: "B",
          n: "Boron",
          m: 10.81,
          neg: 2.04,
          r: 87,
          gr: 13,
          pr: 2,
          type: "metalloid",
          conf: "[He] 2s¬≤ 2p¬π",
          oxide: "B‚ÇÇO‚ÇÉ (Acid)",
        },
        {
          z: 6,
          s: "C",
          n: "Carbon",
          m: 12.01,
          neg: 2.55,
          r: 67,
          gr: 14,
          pr: 2,
          type: "nonmetal",
          conf: "[He] 2s¬≤ 2p¬≤",
          oxide: "CO‚ÇÇ (Acid)",
        },
        {
          z: 7,
          s: "N",
          n: "Nitrogen",
          m: 14.01,
          neg: 3.04,
          r: 56,
          gr: 15,
          pr: 2,
          type: "nonmetal",
          conf: "[He] 2s¬≤ 2p¬≥",
          oxide: "N‚ÇÇO‚ÇÖ (Acid)",
        },
        {
          z: 8,
          s: "O",
          n: "Oxygen",
          m: 16.0,
          neg: 3.44,
          r: 48,
          gr: 16,
          pr: 2,
          type: "nonmetal",
          conf: "[He] 2s¬≤ 2p‚Å¥",
          oxide: "-",
        },
        {
          z: 9,
          s: "F",
          n: "Fluorine",
          m: 19.0,
          neg: 3.98,
          r: 42,
          gr: 17,
          pr: 2,
          type: "nonmetal",
          conf: "[He] 2s¬≤ 2p‚Åµ",
          oxide: "OF‚ÇÇ",
        },
        {
          z: 10,
          s: "Ne",
          n: "Neon",
          m: 20.18,
          neg: null,
          r: 38,
          gr: 18,
          pr: 2,
          type: "gas",
          conf: "[He] 2s¬≤ 2p‚Å∂",
          oxide: "-",
        },

        {
          z: 11,
          s: "Na",
          n: "Sodium",
          m: 22.99,
          neg: 0.93,
          r: 190,
          gr: 1,
          pr: 3,
          type: "metal",
          conf: "[Ne] 3s¬π",
          oxide: "Na‚ÇÇO (Base m·∫°nh)",
        },
        {
          z: 12,
          s: "Mg",
          n: "Magnesium",
          m: 24.31,
          neg: 1.31,
          r: 145,
          gr: 2,
          pr: 3,
          type: "metal",
          conf: "[Ne] 3s¬≤",
          oxide: "MgO (Base)",
        },
        {
          z: 13,
          s: "Al",
          n: "Aluminium",
          m: 26.98,
          neg: 1.61,
          r: 118,
          gr: 13,
          pr: 3,
          type: "metal",
          conf: "[Ne] 3s¬≤ 3p¬π",
          oxide: "Al‚ÇÇO‚ÇÉ (L∆∞·ª°ng t√≠nh)",
        },
        {
          z: 14,
          s: "Si",
          n: "Silicon",
          m: 28.09,
          neg: 1.9,
          r: 111,
          gr: 14,
          pr: 3,
          type: "metalloid",
          conf: "[Ne] 3s¬≤ 3p¬≤",
          oxide: "SiO‚ÇÇ (Acid y·∫øu)",
        },
        {
          z: 15,
          s: "P",
          n: "Phosphorus",
          m: 30.97,
          neg: 2.19,
          r: 98,
          gr: 15,
          pr: 3,
          type: "nonmetal",
          conf: "[Ne] 3s¬≤ 3p¬≥",
          oxide: "P‚ÇÇO‚ÇÖ (Acid)",
        },
        {
          z: 16,
          s: "S",
          n: "Sulfur",
          m: 32.06,
          neg: 2.58,
          r: 88,
          gr: 16,
          pr: 3,
          type: "nonmetal",
          conf: "[Ne] 3s¬≤ 3p‚Å¥",
          oxide: "SO‚ÇÉ (Acid)",
        },
        {
          z: 17,
          s: "Cl",
          n: "Chlorine",
          m: 35.45,
          neg: 3.16,
          r: 79,
          gr: 17,
          pr: 3,
          type: "nonmetal",
          conf: "[Ne] 3s¬≤ 3p‚Åµ",
          oxide: "Cl‚ÇÇO‚Çá (Acid m·∫°nh)",
        },
        {
          z: 18,
          s: "Ar",
          n: "Argon",
          m: 39.95,
          neg: null,
          r: 71,
          gr: 18,
          pr: 3,
          type: "gas",
          conf: "[Ne] 3s¬≤ 3p‚Å∂",
          oxide: "-",
        },

        {
          z: 19,
          s: "K",
          n: "Potassium",
          m: 39.1,
          neg: 0.82,
          r: 243,
          gr: 1,
          pr: 4,
          type: "metal",
          conf: "[Ar] 4s¬π",
          oxide: "K‚ÇÇO (Base m·∫°nh)",
        },
        {
          z: 20,
          s: "Ca",
          n: "Calcium",
          m: 40.08,
          neg: 1.0,
          r: 194,
          gr: 2,
          pr: 4,
          type: "metal",
          conf: "[Ar] 4s¬≤",
          oxide: "CaO (Base m·∫°nh)",
        },
      ];

      const quizData = [
        {
          q: "Nguy√™n t·ªë n√†o sau ƒë√¢y c√≥ ƒë·ªô √¢m ƒëi·ªán l·ªõn nh·∫•t?",
          a: ["Na", "Al", "Cl", "F"],
          correct: 3,
        },
        {
          q: "Trong m·ªôt chu k√¨, ƒëi t·ª´ tr√°i sang ph·∫£i, b√°n k√≠nh nguy√™n t·ª≠ bi·∫øn ƒë·ªïi th·∫ø n√†o?",
          a: ["TƒÉng d·∫ßn", "Gi·∫£m d·∫ßn", "Kh√¥ng ƒë·ªïi", "Bi·∫øn ƒë·ªïi kh√¥ng quy lu·∫≠t"],
          correct: 1,
        },
        {
          q: "Nguy√™n t·ªë X thu·ªôc chu k√¨ 3, nh√≥m VIA. C√¥ng th·ª©c oxide cao nh·∫•t c·ªßa X l√†?",
          a: ["XO‚ÇÇ", "XO‚ÇÉ", "X‚ÇÇO‚ÇÉ", "X‚ÇÇO"],
          correct: 1,
        }, // S -> SO3
        {
          q: "T√≠nh ch·∫•t n√†o sau ƒë√¢y tƒÉng d·∫ßn khi ƒëi t·ª´ tr√™n xu·ªëng d∆∞·ªõi trong m·ªôt nh√≥m A?",
          a: [
            "ƒê·ªô √¢m ƒëi·ªán",
            "T√≠nh phi kim",
            "B√°n k√≠nh nguy√™n t·ª≠",
            "NƒÉng l∆∞·ª£ng ion h√≥a",
          ],
          correct: 2,
        },
        {
          q: "Nguy√™n t·ªë Z=11 (Na) thu·ªôc lo·∫°i nguy√™n t·ªë n√†o?",
          a: ["s", "p", "d", "f"],
          correct: 0,
        },
      ];

      // --- TAB LOGIC ---
      function switchTab(tabId) {
        document
          .querySelectorAll(".tab-content")
          .forEach((el) => el.classList.remove("active"));
        document
          .querySelectorAll(".nav-btn")
          .forEach((el) => el.classList.remove("active"));

        document.getElementById(tabId).classList.add("active");

        // Active button
        const btns = document.querySelectorAll(".nav-btn");
        if (tabId === "lythuyet") btns[0].classList.add("active");
        if (tabId === "bangtuanhoan") btns[1].classList.add("active");
        if (tabId === "xuhuong") {
          btns[2].classList.add("active");
          updateChart(); // Render chart when visible
        }
        if (tabId === "tracnghiem") btns[3].classList.add("active");
      }

      // --- PERIODIC TABLE RENDER ---
      function renderTable() {
        const grid = document.getElementById("periodic-table");
        grid.innerHTML = "";

        // Helper to find element by row/col
        // Simplifying layout: Rows 1-4.
        // Row 1: H(1), gap(16), He(18)
        // Row 2: Li(1), Be(2), gap(10), B(13)...Ne(18)
        // Row 3: Na(1)...Ar(18)

        // Let's create a map for easy placement
        const map = {};
        elementsData.forEach((e) => (map[`${e.pr}-${e.gr}`] = e));

        for (let row = 1; row <= 4; row++) {
          for (let col = 1; col <= 18; col++) {
            const el = map[`${row}-${col}`];
            const div = document.createElement("div");

            if (el) {
              div.className = `element-cell type-${el.type}`;
              div.innerHTML = `<span class="z-num">${el.z}</span><span class="symbol">${el.s}</span>`;
              div.onclick = () => showDetail(el);
            } else {
              div.className = "element-cell type-empty";
            }
            grid.appendChild(div);
          }
        }
      }

      function showDetail(el) {
        const panel = document.getElementById("el-detail");
        panel.style.display = "grid";

        document.getElementById("detail-symbol").innerText = el.s;
        document.getElementById(
          "detail-symbol"
        ).style.borderColor = `var(--${el.type})`;
        document.getElementById("detail-name").innerText = el.n;

        let typeName =
          el.type === "metal"
            ? "Kim lo·∫°i"
            : el.type === "nonmetal"
            ? "Phi kim"
            : el.type === "gas"
            ? "Kh√≠ hi·∫øm"
            : "√Å kim";
        document.getElementById(
          "detail-summary"
        ).innerText = `${typeName} - Chu k√¨ ${el.pr} - Nh√≥m ${el.gr}A`;

        document.getElementById("detail-z").innerText = el.z;
        document.getElementById("detail-mass").innerText = el.m;
        document.getElementById("detail-neg").innerText = el.neg || "N/A";
        document.getElementById("detail-config").innerText = el.conf;
        document.getElementById("detail-oxide").innerText = el.oxide;
      }

      // --- CHART LOGIC (Chart.js) ---
      let myChart = null;

      function updateChart() {
        const period = parseInt(document.getElementById("trend-period").value);
        const prop = document.getElementById("trend-property").value;
        const explanationDiv = document.getElementById("trend-explanation");

        // Filter elements in the selected period
        const periodEls = elementsData.filter(
          (e) => e.pr === period && e.gr <= 18
        ); // Main group only ideally
        // Sort by group
        periodEls.sort((a, b) => a.gr - b.gr);

        const labels = periodEls.map((e) => e.s);
        const data = periodEls.map((e) =>
          prop === "radius" ? e.r : e.neg || 0
        );

        const labelStr =
          prop === "radius" ? "B√°n k√≠nh nguy√™n t·ª≠ (pm)" : "ƒê·ªô √¢m ƒëi·ªán";
        const color = prop === "radius" ? "#fca5a5" : "#86efac";

        // Update Explanation
        if (prop === "radius") {
          explanationDiv.innerHTML = `<strong>Gi·∫£i th√≠ch:</strong> Trong chu k√¨ ${period}, khi ƒëi t·ª´ tr√°i sang ph·∫£i (${
            labels[0]
          } $\\rightarrow$ ${
            labels[labels.length - 1]
          }), ƒëi·ªán t√≠ch h·∫°t nh√¢n tƒÉng d·∫ßn, l·ª±c h√∫t gi·ªØa h·∫°t nh√¢n v√† l·ªõp v·ªè tƒÉng, l√†m co l·ªõp v·ªè electron $\\rightarrow$ <strong>B√°n k√≠nh gi·∫£m</strong>.`;
        } else {
          explanationDiv.innerHTML = `<strong>Gi·∫£i th√≠ch:</strong> Trong chu k√¨ ${period}, ƒëi·ªán t√≠ch h·∫°t nh√¢n tƒÉng nh∆∞ng s·ªë l·ªõp e kh√¥ng ƒë·ªïi, kh·∫£ nƒÉng h√∫t e c·ªßa h·∫°t nh√¢n tƒÉng l√™n $\\rightarrow$ <strong>ƒê·ªô √¢m ƒëi·ªán tƒÉng</strong>.`;
        }
        if (window.MathJax) MathJax.typesetPromise();

        const ctx = document.getElementById("trendChart").getContext("2d");

        if (myChart) myChart.destroy();

        myChart = new Chart(ctx, {
          type: "bar",
          data: {
            labels: labels,
            datasets: [
              {
                label: labelStr,
                data: data,
                backgroundColor: color,
                borderColor: color,
                borderWidth: 1,
                borderRadius: 4,
              },
            ],
          },
          options: {
            responsive: true,
            maintainAspectRatio: false,
            scales: {
              y: {
                beginAtZero: false,
                grid: { color: "rgba(255,255,255,0.1)" },
                ticks: { color: "#94a3b8" },
              },
              x: { grid: { display: false }, ticks: { color: "#94a3b8" } },
            },
            plugins: {
              legend: { labels: { color: "#f1f5f9" } },
            },
          },
        });
      }

      // --- QUIZ LOGIC ---
      function initQuiz() {
        const container = document.getElementById("quiz-container");
        container.innerHTML = "";

        quizData.forEach((q, idx) => {
          const div = document.createElement("div");
          div.innerHTML = `<p style="font-weight:bold; margin-bottom:0.5rem;">C√¢u ${
            idx + 1
          }: ${q.q}</p>`;

          q.a.forEach((opt, optIdx) => {
            const btn = document.createElement("div");
            btn.className = "quiz-option";
            btn.innerText = opt;
            btn.onclick = function () {
              // Check answer
              if (
                this.parentElement.querySelector(".correct") ||
                this.parentElement.querySelector(".wrong")
              )
                return; // Block multiple clicks

              if (optIdx === q.correct) {
                this.classList.add("correct");
              } else {
                this.classList.add("wrong");
                // Highlight correct one
                this.parentElement.children[q.correct + 1].classList.add(
                  "correct"
                );
              }
            };
            div.appendChild(btn);
          });

          container.appendChild(div);
        });
      }

      function resetQuiz() {
        initQuiz();
      }

      // --- INIT ---
      window.onload = function () {
        renderTable();
        initQuiz();
        // Pre-select H detail
        showDetail(elementsData[0]);
      };
    </script>
  </body>
</html>
