<!doctype html>
<html lang="vi" class="scroll-smooth">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ƒê·∫°i C∆∞∆°ng H√≥a H·ªçc H·ªØu C∆° ‚Äì ChemStudy Expert</title>
    <link rel="icon" href="../../../favicon/educhem.avg" type="image/x-icon" />

    <!-- External Libraries (CDN) -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Be+Vietnam+Pro:wght@300;400;500;600;700&family=Space+Grotesk:wght@500;700&display=swap"
      rel="stylesheet"
    />

    <!-- Tailwind Configuration -->
    <script>
      tailwind.config = {
        darkMode: "class",
        theme: {
          extend: {
            fontFamily: {
              sans: ['"Be Vietnam Pro"', "sans-serif"],
              display: ['"Space Grotesk"', "sans-serif"],
            },
            colors: {
              chem: {
                blue: "#3b82f6",
                purple: "#8b5cf6",
                pink: "#ec4899",
                dark: "#0f172a",
                light: "#f8fafc",
                glass: "rgba(255, 255, 255, 0.1)",
                glassDark: "rgba(15, 23, 42, 0.6)",
              },
            },
            animation: {
              blob: "blob 7s infinite",
              float: "float 6s ease-in-out infinite",
              "spin-slow": "spin 12s linear infinite",
              "pulse-glow":
                "pulse-glow 2s cubic-bezier(0.4, 0, 0.6, 1) infinite",
            },
            keyframes: {
              blob: {
                "0%": { transform: "translate(0px, 0px) scale(1)" },
                "33%": { transform: "translate(30px, -50px) scale(1.1)" },
                "66%": { transform: "translate(-20px, 20px) scale(0.9)" },
                "100%": { transform: "translate(0px, 0px) scale(1)" },
              },
              float: {
                "0%, 100%": { transform: "translateY(0)" },
                "50%": { transform: "translateY(-20px)" },
              },
              "pulse-glow": {
                "0%, 100%": {
                  opacity: 1,
                  boxShadow: "0 0 20px rgba(59, 130, 246, 0.5)",
                },
                "50%": {
                  opacity: 0.5,
                  boxShadow: "0 0 10px rgba(59, 130, 246, 0.2)",
                },
              },
            },
          },
        },
      };
    </script>

    <!-- Custom CSS -->
    <style>
      /* Base Variables */
      :root {
        --footer-bg: #0f172a;
        --footer-text: #e2e8f0;
        --p-primary: #3b82f6;
      }
      html.dark :root {
        --footer-bg: #020617;
      }

      /* Glassmorphism Classes */
      .glass-card {
        background: rgba(255, 255, 255, 0.7);
        backdrop-filter: blur(12px);
        -webkit-backdrop-filter: blur(12px);
        border: 1px solid rgba(255, 255, 255, 0.5);
        transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
      }
      .dark .glass-card {
        background: rgba(30, 41, 59, 0.6);
        border: 1px solid rgba(255, 255, 255, 0.1);
      }
      .glass-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 20px 40px -5px rgba(0, 0, 0, 0.15);
        border-color: rgba(59, 130, 246, 0.5);
      }

      /* Text Gradients */
      .text-gradient {
        background-clip: text;
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-image: linear-gradient(to right, #3b82f6, #8b5cf6, #ec4899);
      }

      /* Custom Scrollbar */
      ::-webkit-scrollbar {
        width: 10px;
      }
      ::-webkit-scrollbar-track {
        background: #f1f1f1;
      }
      .dark ::-webkit-scrollbar-track {
        background: #1e293b;
      }
      ::-webkit-scrollbar-thumb {
        background: #3b82f6;
        border-radius: 5px;
      }
      ::-webkit-scrollbar-thumb:hover {
        background: #2563eb;
      }

      /* Simulation Specific Styles */
      .beaker-container {
        position: relative;
        width: 200px;
        height: 250px;
        margin: 0 auto;
      }
      .beaker {
        width: 100%;
        height: 100%;
        border-left: 4px solid rgba(200, 200, 200, 0.5);
        border-right: 4px solid rgba(200, 200, 200, 0.5);
        border-bottom: 4px solid rgba(200, 200, 200, 0.5);
        border-radius: 0 0 20px 20px;
        position: relative;
        overflow: hidden;
        background: rgba(255, 255, 255, 0.05);
      }
      .liquid {
        position: absolute;
        bottom: 0;
        left: 0;
        width: 100%;
        height: 50%; /* Dynamic */
        background: linear-gradient(
          to top,
          rgba(59, 130, 246, 0.4),
          rgba(59, 130, 246, 0.2)
        );
        transition:
          height 0.5s,
          background 0.5s;
      }
      .bubbles {
        position: absolute;
        bottom: 0;
        left: 0;
        width: 100%;
        height: 100%;
        pointer-events: none;
      }
      .bubble-particle {
        position: absolute;
        background: rgba(255, 255, 255, 0.6);
        border-radius: 50%;
        bottom: 0;
        animation: rise 2s infinite ease-in;
      }
      @keyframes rise {
        0% {
          bottom: 0;
          opacity: 0;
          transform: translateX(0);
        }
        50% {
          opacity: 1;
        }
        100% {
          bottom: 100%;
          opacity: 0;
          transform: translateX(10px);
        }
      }

      /* Footer Styles (Preserved) */
      footer {
        background: var(--footer-bg);
        color: var(--footer-text);
        padding: 100px 5% 40px;
        position: relative;
        overflow: hidden;
        transition:
          background-color 0.8s ease,
          color 0.8s ease;
      }
      .footer-waves {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 60px;
        background: var(--footer-bg);
        clip-path: polygon(
          0% 45%,
          16% 44%,
          33% 50%,
          54% 60%,
          70% 61%,
          84% 59%,
          100% 52%,
          100% 100%,
          0% 100%
        );
        transition: background-color 0.8s;
      }
      .footer-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        gap: 60px;
        max-width: 1200px;
        margin: 0 auto;
      }
      .footer-brand h2 {
        font-family: "Space Grotesk", sans-serif;
        font-size: 2rem;
        margin-bottom: 20px;
      }
      .icon-btn {
        color: #94a3b8;
        font-size: 1.2rem;
        transition: 0.3s;
      }
      .icon-btn:hover {
        color: white;
        transform: scale(1.1);
      }
      .footer-links h4,
      .footer-links h3 {
        margin-bottom: 25px;
        text-transform: uppercase;
        letter-spacing: 2px;
        color: var(--p-primary);
      }
      .contact-item {
        margin-bottom: 15px;
        display: flex;
        align-items: center;
        gap: 15px;
        color: #94a3b8;
        transition: 0.3s;
      }
      .contact-item i {
        color: var(--p-primary);
      }
      .contact-item:hover {
        color: white;
        transform: translateX(5px);
      }
      .copyright {
        margin-top: 80px;
        text-align: center;
        padding-top: 30px;
        border-top: 1px solid rgba(255, 255, 255, 0.05);
        color: #475569;
        font-size: 0.9rem;
      }

      /* Utility for Ranges */
      input[type="range"] {
        -webkit-appearance: none;
        width: 100%;
        background: transparent;
      }
      input[type="range"]::-webkit-slider-thumb {
        -webkit-appearance: none;
        height: 20px;
        width: 20px;
        border-radius: 50%;
        background: #3b82f6;
        cursor: pointer;
        margin-top: -8px;
        box-shadow: 0 0 10px rgba(59, 130, 246, 0.5);
      }
      input[type="range"]::-webkit-slider-runnable-track {
        width: 100%;
        height: 4px;
        cursor: pointer;
        background: rgba(148, 163, 184, 0.3);
        border-radius: 2px;
      }
    </style>
  </head>

  <body
    class="bg-chem-light dark:bg-chem-dark text-slate-800 dark:text-slate-100 transition-colors duration-500 font-sans"
  >
    <!-- Background Decorative Blobs -->
    <div class="fixed inset-0 pointer-events-none overflow-hidden -z-10">
      <div
        class="absolute top-0 left-1/4 w-96 h-96 bg-blue-500/20 rounded-full mix-blend-multiply filter blur-3xl opacity-70 animate-blob"
      ></div>
      <div
        class="absolute top-0 right-1/4 w-96 h-96 bg-purple-500/20 rounded-full mix-blend-multiply filter blur-3xl opacity-70 animate-blob animation-delay-2000"
      ></div>
      <div
        class="absolute -bottom-32 left-1/3 w-96 h-96 bg-pink-500/20 rounded-full mix-blend-multiply filter blur-3xl opacity-70 animate-blob animation-delay-4000"
      ></div>
    </div>

    <!-- ================= HEADER ================= -->
    <header
      class="fixed top-0 w-full z-50 glass-card border-b-0 rounded-none px-6 py-3"
    >
      <div class="max-w-7xl mx-auto flex justify-between items-center">
        <!-- Logo -->
        <div
          class="flex items-center gap-3 cursor-pointer group"
          onclick="window.scrollTo(0, 0)"
        >
          <div
            class="w-10 h-10 rounded-full bg-gradient-to-br from-blue-500 to-green-500 flex items-center justify-center text-white font-bold text-xl group-hover:scale-110 transition-transform"
          >
            <i class="fas fa-atom text-xl group-hover:animate-spin"></i>
          </div>
          <span
            class="font-display font-bold text-xl md:text-2xl tracking-tight bg-clip-text text-transparent bg-gradient-to-r from-blue-600 to-green-500 dark:from-blue-400 dark:to-green-400"
          >
            ChemStudy Expert
          </span>
        </div>

        <!-- Nav (Desktop) -->
        <nav
          class="hidden md:flex gap-6 text-sm font-medium text-slate-600 dark:text-slate-300"
        >
          <a href="#section-1" class="hover:text-blue-500 transition-colors"
            >H·ª£p ch·∫•t HC</a
          >
          <a href="#section-2" class="hover:text-blue-500 transition-colors"
            >Ph√¢n lo·∫°i & IR</a
          >
          <a href="#section-3" class="hover:text-blue-500 transition-colors"
            >T√°ch bi·ªát</a
          >
          <a href="#section-4" class="hover:text-blue-500 transition-colors"
            >CTPT</a
          >
          <a href="#section-5" class="hover:text-blue-500 transition-colors"
            >C·∫•u t·∫°o</a
          >
          <a href="#section-6" class="hover:text-blue-500 transition-colors"
            >Game</a
          >
        </nav>

        <!-- Controls -->
        <div class="flex items-center gap-4">
          <button
            id="theme-toggle"
            class="w-10 h-10 rounded-full bg-slate-200 dark:bg-slate-700 flex items-center justify-center hover:bg-slate-300 dark:hover:bg-slate-600 transition-colors text-slate-800 dark:text-yellow-400"
          >
            <i class="fas fa-moon dark:hidden"></i>
            <i class="fas fa-sun hidden dark:block"></i>
          </button>
        </div>
      </div>
    </header>

    <!-- ================= HERO SECTION ================= -->
    <section class="pt-32 pb-20 px-6 text-center">
      <div class="max-w-4xl mx-auto" data-aos="fade-up">
        <span
          class="inline-block py-1 px-3 rounded-full bg-blue-100 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400 text-sm font-semibold mb-6"
        >
          CH∆Ø∆†NG 3: H√ìA H·ªåC 11
        </span>
        <h1
          class="font-display text-5xl md:text-7xl font-bold mb-6 text-slate-800 dark:text-white leading-tight"
        >
          ƒê·∫°i C∆∞∆°ng <br />
          <span class="text-gradient">H√≥a H·ªçc H·ªØu C∆°</span>
        </h1>
        <p
          class="text-lg md:text-xl text-slate-600 dark:text-slate-300 mb-10 max-w-2xl mx-auto leading-relaxed"
        >
          Kh√°m ph√° th·∫ø gi·ªõi c·ªßa Carbon - n∆°i s·ª± s·ªëng b·∫Øt ƒë·∫ßu. T·ª´ c·∫•u tr√∫c ph√¢n
          t·ª≠ ƒë·∫øn ph·∫£n ·ª©ng h√≥a h·ªçc, tr·∫£i nghi·ªám ki·∫øn th·ª©c qua m√¥ ph·ªèng t∆∞∆°ng t√°c
          ƒë·ªânh cao.
        </p>
        <div class="flex flex-col sm:flex-row gap-4 justify-center">
          <a
            href="#section-1"
            class="px-8 py-4 rounded-full bg-blue-600 hover:bg-blue-700 text-white font-bold shadow-lg shadow-blue-500/30 transition-all hover:-translate-y-1 flex items-center justify-center gap-2"
          >
            <i class="fas fa-play-circle"></i> V√†o b√†i h·ªçc
          </a>
          <a
            href="#section-6"
            class="px-8 py-4 rounded-full glass-card hover:bg-slate-100 dark:hover:bg-slate-800 font-bold transition-all hover:-translate-y-1 flex items-center justify-center gap-2"
          >
            <i class="fas fa-gamepad text-purple-500"></i> B√†i t·∫≠p Game
          </a>
        </div>
      </div>

      <!-- Animated Scroll Indicator -->
      <div class="mt-16 animate-bounce">
        <i class="fas fa-chevron-down text-2xl text-slate-400"></i>
      </div>
    </section>

    <main class="max-w-7xl mx-auto px-4 md:px-6 pb-20 space-y-32">
      <!-- ================= SECTION 1: KH√ÅI NI·ªÜM & H·ª¢P CH·∫§T H·ªÆU C∆† ================= -->
      <section id="section-1" class="scroll-mt-28">
        <div class="flex items-center gap-4 mb-8">
          <div
            class="w-12 h-12 rounded-2xl bg-blue-500 flex items-center justify-center text-white text-xl shadow-lg shadow-blue-500/40"
          >
            I
          </div>
          <h2 class="text-3xl md:text-4xl font-display font-bold">
            H·ª£p ch·∫•t H·ªØu c∆° & H√≥a h·ªçc H·ªØu c∆°
          </h2>
        </div>

        <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
          <!-- A. L√Ω thuy·∫øt -->
          <div class="space-y-6">
            <div class="glass-card p-6 rounded-3xl border-l-4 border-blue-500">
              <h3
                class="text-xl font-bold mb-4 flex items-center gap-2 text-blue-500"
              >
                <i class="fas fa-book-open"></i> L√Ω thuy·∫øt tr·ªçng t√¢m
              </h3>
              <ul
                class="space-y-3 text-slate-700 dark:text-slate-300 list-disc pl-5"
              >
                <li>
                  <strong class="text-blue-500">ƒê·ªãnh nghƒ©a:</strong> H·ª£p ch·∫•t
                  c·ªßa carbon (tr·ª´ CO, CO‚ÇÇ, CO‚ÇÉ¬≤‚Åª, CN‚Åª, carbide...).
                </li>
                <li>
                  <strong class="text-blue-500">Th√†nh ph·∫ßn:</strong> B·∫Øt bu·ªôc c√≥
                  Carbon. Th∆∞·ªùng c√≥ H, O, N, S, P...
                </li>
                <li>
                  <strong class="text-blue-500">Li√™n k·∫øt:</strong> Ch·ªß y·∫øu l√†
                  C·ªông h√≥a tr·ªã.
                </li>
                <li>
                  <strong class="text-blue-500">T√≠nh ch·∫•t:</strong> t¬∞nc, t¬∞s
                  th·∫•p, d·ªÖ bay h∆°i, k√©m b·ªÅn nhi·ªát, d·ªÖ ch√°y. Ph·∫£n ·ª©ng ch·∫≠m, theo
                  nhi·ªÅu h∆∞·ªõng.
                </li>
              </ul>
            </div>

            <div class="glass-card p-6 rounded-3xl">
              <h3
                class="text-xl font-bold mb-4 flex items-center gap-2 text-purple-500"
              >
                <i class="fas fa-flask"></i> Th√≠ nghi·ªám ·∫£o: Nh·∫≠n bi·∫øt C v√† H
              </h3>
              <p class="text-sm mb-4">
                ƒê·ªët ch√°y Saccharose (C‚ÇÅ‚ÇÇH‚ÇÇ‚ÇÇO‚ÇÅ‚ÇÅ) qua CuO nung n√≥ng.
              </p>
              <div
                class="bg-slate-900 rounded-xl p-4 relative h-64 overflow-hidden flex items-center justify-center"
              >
                <!-- Simplified Animation representation -->
                <div class="relative">
                  <div
                    class="w-32 h-8 bg-slate-700 rounded-b-xl border-t-2 border-white/20 relative mx-auto mb-2 flex justify-center items-center text-xs text-white"
                  >
                    ƒê∆∞·ªùng + CuO
                  </div>
                  <div class="flex justify-center gap-8">
                    <div class="text-center">
                      <div
                        id="sim-1-cuso4"
                        class="w-16 h-16 rounded-lg bg-white border-2 border-slate-500 flex items-center justify-center transition-colors duration-1000"
                      >
                        CuSO‚ÇÑ
                      </div>
                      <span class="text-xs mt-1 block">B√¥ng CuSO‚ÇÑ</span>
                    </div>
                    <div class="text-center">
                      <div
                        id="sim-1-caoh2"
                        class="w-16 h-16 rounded-full bg-blue-100/30 border-2 border-slate-500 flex items-center justify-center transition-all duration-1000"
                      >
                        N∆∞·ªõc v√¥i
                      </div>
                      <span class="text-xs mt-1 block">Ca(OH)‚ÇÇ</span>
                    </div>
                  </div>
                  <button
                    onclick="runExperiment1()"
                    class="mt-6 px-6 py-2 bg-red-500 hover:bg-red-600 text-white rounded-full w-full font-bold shadow-lg shadow-red-500/30"
                  >
                    <i class="fas fa-fire"></i> ƒê·ªët n√≥ng
                  </button>
                </div>
              </div>
              <div
                id="sim-1-result"
                class="mt-4 text-sm text-green-500 font-semibold h-6 opacity-0 transition-opacity"
              ></div>
            </div>
          </div>

          <!-- B. M√¥ ph·ªèng & T∆∞∆°ng t√°c -->
          <div class="space-y-6">
            <!-- Interactive 1: Methane Model -->
            <div class="glass-card p-6 rounded-3xl">
              <div class="flex justify-between items-center mb-4">
                <h3 class="text-xl font-bold text-green-500">
                  <i class="fas fa-cube"></i> M√¥ h√¨nh ph√¢n t·ª≠ CH‚ÇÑ
                </h3>
                <span
                  class="text-xs bg-green-100 dark:bg-green-900 text-green-600 dark:text-green-300 px-2 py-1 rounded"
                  >Interactive 3D</span
                >
              </div>
              <div
                class="bg-slate-100 dark:bg-slate-800 rounded-2xl h-64 flex flex-col items-center justify-center relative overflow-hidden group cursor-move"
                id="methane-container"
              >
                <svg
                  width="200"
                  height="200"
                  viewBox="0 0 200 200"
                  id="methane-svg"
                  class="transition-transform duration-100"
                >
                  <!-- Carbon -->
                  <circle cx="100" cy="100" r="20" fill="#333" />
                  <!-- Bonds and Hydrogens (Simplified 2D projection of tetrahedron) -->
                  <line
                    x1="100"
                    y1="100"
                    x2="100"
                    y2="40"
                    stroke="#999"
                    stroke-width="4"
                  />
                  <circle cx="100" cy="40" r="10" fill="#fff" stroke="#ccc" />
                  <!-- H Top -->

                  <line
                    x1="100"
                    y1="100"
                    x2="40"
                    y2="150"
                    stroke="#999"
                    stroke-width="4"
                  />
                  <circle cx="40" cy="150" r="10" fill="#fff" stroke="#ccc" />
                  <!-- H Left -->

                  <line
                    x1="100"
                    y1="100"
                    x2="160"
                    y2="150"
                    stroke="#999"
                    stroke-width="4"
                  />
                  <circle cx="160" cy="150" r="10" fill="#fff" stroke="#ccc" />
                  <!-- H Right -->

                  <line
                    x1="100"
                    y1="100"
                    x2="130"
                    y2="80"
                    stroke="#999"
                    stroke-width="4"
                    opacity="0.5"
                    stroke-dasharray="4"
                  />
                  <circle
                    cx="130"
                    cy="80"
                    r="8"
                    fill="#eee"
                    stroke="#ccc"
                    opacity="0.5"
                  />
                  <!-- H Back -->
                </svg>
                <div
                  class="absolute bottom-2 left-0 w-full text-center text-xs text-slate-400"
                >
                  Di chuy·ªÉn chu·ªôt ƒë·ªÉ xoay (Gi·∫£ l·∫≠p)
                </div>
              </div>
              <div class="mt-4 flex gap-2">
                <input
                  type="range"
                  min="0"
                  max="360"
                  value="0"
                  class="w-full"
                  oninput="rotateMethane(this.value)"
                />
              </div>
            </div>

            <!-- Interactive 2: Classification Game -->
            <div
              class="glass-card p-6 rounded-3xl border-t-4 border-yellow-500"
            >
              <h3 class="text-xl font-bold mb-4 text-yellow-500">
                <i class="fas fa-sort"></i> Ph√¢n lo·∫°i H·ªØu c∆° / V√¥ c∆°
              </h3>
              <p class="text-sm mb-4 text-slate-500">
                Click v√†o ch·∫•t ƒë·ªÉ ƒë∆∞a n√≥ v√†o ƒë√∫ng gi·ªè.
              </p>

              <div class="flex justify-between gap-4 mb-4">
                <div
                  class="w-1/2 p-4 border-2 border-dashed border-green-500 rounded-xl bg-green-500/10 min-h-[100px] flex flex-col items-center justify-center relative"
                  id="organic-bin"
                >
                  <span class="font-bold text-green-600">H·ªÆU C∆†</span>
                  <div
                    id="organic-count"
                    class="absolute top-1 right-2 text-xs font-bold"
                  >
                    0
                  </div>
                </div>
                <div
                  class="w-1/2 p-4 border-2 border-dashed border-slate-500 rounded-xl bg-slate-500/10 min-h-[100px] flex flex-col items-center justify-center relative"
                  id="inorganic-bin"
                >
                  <span class="font-bold text-slate-600">V√î C∆†</span>
                  <div
                    id="inorganic-count"
                    class="absolute top-1 right-2 text-xs font-bold"
                  >
                    0
                  </div>
                </div>
              </div>

              <div
                class="flex flex-wrap gap-2 justify-center"
                id="chemical-pool"
              >
                <!-- Items generated by JS -->
              </div>
              <div
                id="sort-feedback"
                class="h-6 text-center text-sm font-bold mt-2"
              ></div>
            </div>
          </div>
        </div>
      </section>

      <!-- ================= SECTION 2: PH√ÇN LO·∫†I & NH√ìM CH·ª®C (IR) ================= -->
      <section id="section-2" class="scroll-mt-28">
        <div class="flex items-center gap-4 mb-8">
          <div
            class="w-12 h-12 rounded-2xl bg-purple-500 flex items-center justify-center text-white text-xl shadow-lg shadow-purple-500/40"
          >
            II
          </div>
          <h2 class="text-3xl md:text-4xl font-display font-bold">
            Ph√¢n lo·∫°i & Nh√≥m ch·ª©c (Ph·ªï IR)
          </h2>
        </div>

        <!-- IR Simulator -->
        <div class="glass-card p-1 rounded-3xl overflow-hidden mb-8">
          <div class="bg-slate-900 p-6 md:p-8">
            <div
              class="flex flex-col md:flex-row justify-between items-start mb-6"
            >
              <div>
                <h3 class="text-2xl font-bold text-white mb-2">
                  <i class="fas fa-wave-square text-pink-500"></i> Ph√≤ng th√≠
                  nghi·ªám Ph·ªï h·ªìng ngo·∫°i (IR)
                </h3>
                <p class="text-slate-400 text-sm">
                  Ch·ªçn h·ª£p ch·∫•t ƒë·ªÉ xem ph·ªï IR v√† x√°c ƒë·ªãnh nh√≥m ch·ª©c ƒë·∫∑c tr∆∞ng.
                </p>
              </div>
              <div class="flex gap-2 mt-4 md:mt-0">
                <button
                  onclick="loadIR('ethanol')"
                  class="px-4 py-2 bg-slate-700 hover:bg-slate-600 rounded-lg text-white text-sm transition"
                >
                  Ethanol (Alcohol)
                </button>
                <button
                  onclick="loadIR('butanal')"
                  class="px-4 py-2 bg-slate-700 hover:bg-slate-600 rounded-lg text-white text-sm transition"
                >
                  Butanal (Aldehyde)
                </button>
                <button
                  onclick="loadIR('acid')"
                  class="px-4 py-2 bg-slate-700 hover:bg-slate-600 rounded-lg text-white text-sm transition"
                >
                  Acetic Acid
                </button>
              </div>
            </div>

            <!-- Canvas/SVG Graph -->
            <div
              class="relative w-full h-64 bg-slate-800 rounded-xl border border-slate-700 overflow-hidden"
            >
              <!-- Grid Lines -->
              <div
                class="absolute inset-0 grid grid-cols-6 grid-rows-4 opacity-20"
              >
                <div class="border-r border-b border-white"></div>
                <div class="border-r border-b border-white"></div>
                <div class="border-r border-b border-white"></div>
                <div class="border-r border-b border-white"></div>
                <div class="border-r border-b border-white"></div>
                <div class="border-b border-white"></div>
                <div class="border-r border-b border-white"></div>
                <div class="border-r border-b border-white"></div>
                <div class="border-r border-b border-white"></div>
                <div class="border-r border-b border-white"></div>
                <div class="border-r border-b border-white"></div>
                <div class="border-b border-white"></div>
                <div class="border-r border-b border-white"></div>
                <div class="border-r border-b border-white"></div>
                <div class="border-r border-b border-white"></div>
                <div class="border-r border-b border-white"></div>
                <div class="border-r border-b border-white"></div>
                <div class="border-b border-white"></div>
                <div class="border-r border-white"></div>
                <div class="border-r border-white"></div>
                <div class="border-r border-white"></div>
                <div class="border-r border-white"></div>
                <div class="border-r border-white"></div>
                <div></div>
              </div>

              <!-- Axis Labels -->
              <div class="absolute bottom-2 left-2 text-xs text-slate-500">
                4000
              </div>
              <div class="absolute bottom-2 right-2 text-xs text-slate-500">
                400 cm‚Åª¬π
              </div>
              <div class="absolute top-2 left-2 text-xs text-slate-500">%T</div>

              <!-- Dynamic Path -->
              <svg
                class="absolute inset-0 w-full h-full p-4"
                viewBox="0 0 1000 400"
                preserveAspectRatio="none"
              >
                <path
                  id="ir-path"
                  d="M0 50 L1000 50"
                  fill="none"
                  stroke="#ec4899"
                  stroke-width="3"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  class="transition-all duration-700 ease-in-out"
                />
              </svg>

              <!-- Highlight Box (Hidden by default) -->
              <div
                id="ir-highlight"
                class="absolute top-10 w-20 h-40 bg-yellow-500/20 border border-yellow-500 hidden animate-pulse"
              >
                <span
                  class="absolute -top-6 left-0 text-xs text-yellow-400 font-bold whitespace-nowrap bg-slate-900 px-1 rounded"
                  id="ir-label"
                  >O-H Stretch</span
                >
              </div>
            </div>

            <div
              id="ir-explanation"
              class="mt-4 p-4 bg-slate-800 rounded-lg text-slate-300 text-sm border-l-4 border-pink-500"
            >
              Ch·ªçn m·ªôt ch·∫•t ƒë·ªÉ b·∫Øt ƒë·∫ßu ph√¢n t√≠ch.
            </div>
          </div>
        </div>

        <!-- Theory Grid -->
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
          <div class="glass-card p-6 rounded-2xl">
            <h4 class="font-bold text-blue-500 mb-2">Hydrocarbon</h4>
            <p class="text-sm text-slate-600 dark:text-slate-400">
              Ch·ªâ ch·ª©a C v√† H.
            </p>
            <ul class="mt-2 text-sm space-y-1 list-disc pl-4">
              <li>Alkane (No)</li>
              <li>Alkene/Alkyne (Kh√¥ng no)</li>
              <li>Arene (Th∆°m)</li>
            </ul>
          </div>
          <div class="glass-card p-6 rounded-2xl">
            <h4 class="font-bold text-red-500 mb-2">D·∫´n xu·∫•t Oxygen</h4>
            <p class="text-sm text-slate-600 dark:text-slate-400">
              Ch·ª©a C, H, O.
            </p>
            <ul class="mt-2 text-sm space-y-1 list-disc pl-4">
              <li>Alcohol (-OH)</li>
              <li>Aldehyde (-CHO)</li>
              <li>Carboxylic Acid (-COOH)</li>
            </ul>
          </div>
          <div class="glass-card p-6 rounded-2xl">
            <h4 class="font-bold text-purple-500 mb-2">·ª®ng d·ª•ng Ph·ªï IR</h4>
            <p class="text-sm text-slate-600 dark:text-slate-400">
              X√°c ƒë·ªãnh nh√≥m ch·ª©c.
            </p>
            <ul class="mt-2 text-sm space-y-1 list-disc pl-4">
              <li>C=O: 1750 - 1680 cm‚Åª¬π (M·∫°nh)</li>
              <li>O-H (alcohol): 3650 - 3200 cm‚Åª¬π (R·ªông)</li>
            </ul>
          </div>
        </div>
      </section>

      <!-- ================= SECTION 3: T√ÅCH BI·ªÜT & TINH CH·∫æ ================= -->
      <section id="section-3" class="scroll-mt-28">
        <div class="flex items-center gap-4 mb-8">
          <div
            class="w-12 h-12 rounded-2xl bg-orange-500 flex items-center justify-center text-white text-xl shadow-lg shadow-orange-500/40"
          >
            III
          </div>
          <h2 class="text-3xl md:text-4xl font-display font-bold">
            T√°ch bi·ªát & Tinh ch·∫ø
          </h2>
        </div>

        <!-- Distillation Simulation -->
        <div class="glass-card p-1 rounded-3xl overflow-hidden shadow-2xl">
          <div
            class="bg-gradient-to-b from-slate-800 to-slate-900 p-8 relative"
          >
            <div class="flex justify-between items-center mb-6 z-10 relative">
              <h3 class="text-2xl font-bold text-white">
                <i class="fas fa-temperature-high text-orange-500"></i> M√¥ ph·ªèng
                Ch∆∞ng c·∫•t (Distillation)
              </h3>
              <div class="text-right">
                <div
                  class="text-4xl font-mono text-orange-400 font-bold"
                  id="temp-display"
                >
                  25¬∞C
                </div>
                <div class="text-xs text-slate-400">Nhi·ªát ƒë·ªô dung d·ªãch</div>
              </div>
            </div>

            <div
              class="flex flex-col md:flex-row gap-8 items-center justify-center"
            >
              <!-- Apparatus Visual -->
              <div class="relative w-64 h-80">
                <!-- Flask -->
                <div
                  class="absolute bottom-10 left-10 w-24 h-24 rounded-full bg-slate-700/50 border-2 border-white/30 overflow-hidden"
                >
                  <!-- Liquid -->
                  <div
                    id="distill-liquid"
                    class="absolute bottom-0 w-full h-3/4 bg-blue-500/60 transition-all duration-300"
                  >
                    <!-- Particles -->
                    <div
                      class="absolute w-2 h-2 bg-red-400 rounded-full top-4 left-4 animate-bounce"
                      title="Ethanol"
                    ></div>
                    <div
                      class="absolute w-2 h-2 bg-blue-300 rounded-full top-8 left-8 animate-bounce"
                      style="animation-delay: 0.5s"
                      title="Water"
                    ></div>
                    <div
                      class="absolute w-2 h-2 bg-red-400 rounded-full top-6 left-12 animate-bounce"
                      style="animation-delay: 0.2s"
                    ></div>
                  </div>
                </div>
                <!-- Neck -->
                <div
                  class="absolute bottom-32 left-[78px] w-6 h-20 bg-slate-700/50 border-x-2 border-white/30"
                ></div>
                <!-- Condenser (Simple Visual) -->
                <div
                  class="absolute bottom-[200px] left-[78px] w-40 h-6 bg-slate-700/50 border-2 border-white/30 transform rotate-12 origin-left"
                >
                  <div
                    id="condenser-flow"
                    class="w-2 h-2 bg-red-400 rounded-full absolute left-0 top-1 opacity-0"
                  ></div>
                </div>
                <!-- Collection Flask -->
                <div
                  class="absolute bottom-20 right-0 w-16 h-20 border-2 border-white/30 rounded-lg bg-slate-700/30 overflow-hidden flex items-end justify-center"
                >
                  <div
                    id="collected-liquid"
                    class="w-full bg-red-400/80 transition-all duration-500 h-0"
                  ></div>
                </div>

                <!-- Heater -->
                <div
                  class="absolute bottom-0 left-6 w-32 h-8 bg-slate-600 rounded-t-lg flex justify-center items-center"
                >
                  <div
                    id="heater-glow"
                    class="w-20 h-4 bg-orange-600 rounded-full blur-md opacity-0 transition-opacity duration-300"
                  ></div>
                </div>
              </div>

              <!-- Controls -->
              <div class="w-full md:w-1/2 space-y-6">
                <div>
                  <label class="block text-white mb-2 text-sm font-bold"
                    >ƒêi·ªÅu ch·ªânh nhi·ªát ƒë·ªô</label
                  >
                  <input
                    type="range"
                    id="heat-slider"
                    min="25"
                    max="120"
                    value="25"
                    class="w-full accent-orange-500"
                    oninput="updateDistillation(this.value)"
                  />
                  <div class="flex justify-between text-xs text-slate-400 mt-2">
                    <span>25¬∞C</span>
                    <span>78¬∞C (Ethanol s√¥i)</span>
                    <span>100¬∞C (N∆∞·ªõc s√¥i)</span>
                  </div>
                </div>

                <div
                  class="p-4 bg-slate-800/50 rounded-xl border border-slate-700"
                >
                  <h4 class="text-orange-400 font-bold text-sm mb-2">
                    Tr·∫°ng th√°i:
                  </h4>
                  <p id="distill-status" class="text-slate-300 text-sm">
                    ƒêang ·ªü nhi·ªát ƒë·ªô ph√≤ng. Ch∆∞a c√≥ hi·ªán t∆∞·ª£ng.
                  </p>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Separation Methods Cards -->
        <div class="grid grid-cols-2 md:grid-cols-4 gap-4 mt-6">
          <div
            class="glass-card p-4 rounded-xl text-center hover:bg-blue-50 dark:hover:bg-slate-800 cursor-pointer group"
            onclick="
              alert(
                'Ph∆∞∆°ng ph√°p d√πng ƒë·ªÉ t√°ch ch·∫•t l·ªèng c√≥ nhi·ªát ƒë·ªô s√¥i kh√°c nhau!',
              )
            "
          >
            <div
              class="w-12 h-12 mx-auto bg-blue-100 rounded-full flex items-center justify-center text-blue-600 mb-3 group-hover:scale-110 transition"
            >
              <i class="fas fa-fill-drip"></i>
            </div>
            <h4 class="font-bold">Ch∆∞ng c·∫•t</h4>
            <span class="text-xs text-slate-500">Kh√°c nhau v·ªÅ t¬∞ s√¥i</span>
          </div>
          <div
            class="glass-card p-4 rounded-xl text-center hover:bg-green-50 dark:hover:bg-slate-800 cursor-pointer group"
          >
            <div
              class="w-12 h-12 mx-auto bg-green-100 rounded-full flex items-center justify-center text-green-600 mb-3 group-hover:scale-110 transition"
            >
              <i class="fas fa-layer-group"></i>
            </div>
            <h4 class="font-bold">Chi·∫øt</h4>
            <span class="text-xs text-slate-500">ƒê·ªô tan kh√°c nhau</span>
          </div>
          <div
            class="glass-card p-4 rounded-xl text-center hover:bg-purple-50 dark:hover:bg-slate-800 cursor-pointer group"
          >
            <div
              class="w-12 h-12 mx-auto bg-purple-100 rounded-full flex items-center justify-center text-purple-600 mb-3 group-hover:scale-110 transition"
            >
              <i class="fas fa-snowflake"></i>
            </div>
            <h4 class="font-bold">K·∫øt tinh</h4>
            <span class="text-xs text-slate-500">ƒê·ªô tan theo nhi·ªát ƒë·ªô</span>
          </div>
          <div
            class="glass-card p-4 rounded-xl text-center hover:bg-pink-50 dark:hover:bg-slate-800 cursor-pointer group"
          >
            <div
              class="w-12 h-12 mx-auto bg-pink-100 rounded-full flex items-center justify-center text-pink-600 mb-3 group-hover:scale-110 transition"
            >
              <i class="fas fa-rainbow"></i>
            </div>
            <h4 class="font-bold">S·∫Øc k√Ω</h4>
            <span class="text-xs text-slate-500">Kh·∫£ nƒÉng h·∫•p ph·ª•</span>
          </div>
        </div>
      </section>

      <!-- ================= SECTION 4: C√îNG TH·ª®C PH√ÇN T·ª¨ ================= -->
      <section id="section-4" class="scroll-mt-28">
        <div class="flex items-center gap-4 mb-8">
          <div
            class="w-12 h-12 rounded-2xl bg-teal-500 flex items-center justify-center text-white text-xl shadow-lg shadow-teal-500/40"
          >
            IV
          </div>
          <h2 class="text-3xl md:text-4xl font-display font-bold">
            C√¥ng th·ª©c Ph√¢n t·ª≠
          </h2>
        </div>

        <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
          <!-- Theory -->
          <div class="space-y-4">
            <div class="glass-card p-6 rounded-2xl border-l-4 border-teal-500">
              <h3 class="font-bold text-lg mb-2">C√°c lo·∫°i c√¥ng th·ª©c</h3>
              <ul class="space-y-3 text-sm">
                <li class="flex items-start gap-2">
                  <span
                    class="bg-teal-100 text-teal-800 px-2 py-0.5 rounded text-xs font-bold mt-1"
                    >CTƒêGN</span
                  >
                  <span>T·ªâ l·ªá t·ªëi gi·∫£n s·ªë nguy√™n t·ª≠ (VD: CH‚ÇÇO)</span>
                </li>
                <li class="flex items-start gap-2">
                  <span
                    class="bg-blue-100 text-blue-800 px-2 py-0.5 rounded text-xs font-bold mt-1"
                    >CTPT</span
                  >
                  <span>S·ªë l∆∞·ª£ng nguy√™n t·ª≠ th·ª±c t·∫ø (VD: C‚ÇÜH‚ÇÅ‚ÇÇO‚ÇÜ)</span>
                </li>
                <li class="flex items-start gap-2">
                  <span
                    class="bg-purple-100 text-purple-800 px-2 py-0.5 rounded text-xs font-bold mt-1"
                    >Ph·ªï MS</span
                  >
                  <span>Peak [M‚Å∫] l·ªõn nh·∫•t = Ph√¢n t·ª≠ kh·ªëi (M)</span>
                </li>
              </ul>
            </div>

            <div class="glass-card p-6 rounded-2xl">
              <h3 class="font-bold text-lg mb-2">C√¥ng th·ª©c t√≠nh nhanh</h3>
              <div
                class="bg-slate-100 dark:bg-slate-800 p-4 rounded-xl font-mono text-sm"
              >
                x : y : z = %C/12 : %H/1 : %O/16
              </div>
            </div>
          </div>

          <!-- Calculator Tool -->
          <div class="glass-card p-6 rounded-3xl border-2 border-teal-500/20">
            <h3 class="text-xl font-bold text-teal-600 mb-4">
              <i class="fas fa-calculator"></i> T√¨m c√¥ng th·ª©c ƒë∆°n gi·∫£n nh·∫•t
            </h3>

            <div class="grid grid-cols-3 gap-4 mb-4">
              <div>
                <label class="block text-xs font-bold mb-1">%C</label>
                <input
                  type="number"
                  id="calc-c"
                  class="w-full p-2 rounded-lg border dark:bg-slate-800 dark:border-slate-600"
                  placeholder="e.g 40"
                />
              </div>
              <div>
                <label class="block text-xs font-bold mb-1">%H</label>
                <input
                  type="number"
                  id="calc-h"
                  class="w-full p-2 rounded-lg border dark:bg-slate-800 dark:border-slate-600"
                  placeholder="e.g 6.67"
                />
              </div>
              <div>
                <label class="block text-xs font-bold mb-1">%O</label>
                <input
                  type="number"
                  id="calc-o"
                  class="w-full p-2 rounded-lg border dark:bg-slate-800 dark:border-slate-600"
                  placeholder="e.g 53.33"
                />
              </div>
            </div>

            <button
              onclick="calculateEmpirical()"
              class="w-full py-3 rounded-xl bg-teal-500 hover:bg-teal-600 text-white font-bold shadow-lg shadow-teal-500/30 transition"
            >
              T√≠nh to√°n
            </button>

            <div
              id="calc-result"
              class="mt-4 p-4 bg-teal-50 dark:bg-teal-900/30 rounded-xl text-center hidden"
            >
              <span class="text-sm text-slate-500">K·∫øt qu·∫£:</span>
              <div
                class="text-2xl font-bold text-teal-600 dark:text-teal-400"
                id="result-text"
              >
                CH‚ÇÇO
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- ================= SECTION 5: C·∫§U T·∫†O H√ìA H·ªåC ================= -->
      <section id="section-5" class="scroll-mt-28">
        <div class="flex items-center gap-4 mb-8">
          <div
            class="w-12 h-12 rounded-2xl bg-indigo-500 flex items-center justify-center text-white text-xl shadow-lg shadow-indigo-500/40"
          >
            V
          </div>
          <h2 class="text-3xl md:text-4xl font-display font-bold">
            C·∫•u t·∫°o H√≥a h·ªçc & ƒê·ªìng ph√¢n
          </h2>
        </div>

        <div class="glass-card p-6 rounded-3xl">
          <h3 class="text-xl font-bold mb-6 text-indigo-500">
            <i class="fas fa-project-diagram"></i> Thuy·∫øt c·∫•u t·∫°o & ƒê·ªìng ph√¢n
          </h3>

          <div class="flex flex-col md:flex-row gap-8">
            <div class="w-full md:w-1/3 space-y-4">
              <button
                onclick="showIsomer('butane')"
                class="w-full text-left p-4 rounded-xl bg-indigo-50 dark:bg-slate-800 hover:bg-indigo-100 dark:hover:bg-slate-700 transition border border-transparent hover:border-indigo-300"
              >
                <span class="font-bold block">Butane (C‚ÇÑH‚ÇÅ‚ÇÄ)</span>
                <span class="text-xs text-slate-500">M·∫°ch th·∫≥ng</span>
              </button>
              <button
                onclick="showIsomer('isobutane')"
                class="w-full text-left p-4 rounded-xl bg-indigo-50 dark:bg-slate-800 hover:bg-indigo-100 dark:hover:bg-slate-700 transition border border-transparent hover:border-indigo-300"
              >
                <span class="font-bold block">Isobutane (C‚ÇÑH‚ÇÅ‚ÇÄ)</span>
                <span class="text-xs text-slate-500">M·∫°ch nh√°nh</span>
              </button>
              <button
                onclick="showIsomer('ethanol')"
                class="w-full text-left p-4 rounded-xl bg-indigo-50 dark:bg-slate-800 hover:bg-indigo-100 dark:hover:bg-slate-700 transition border border-transparent hover:border-indigo-300"
              >
                <span class="font-bold block">Ethanol (C‚ÇÇH‚ÇÜO)</span>
                <span class="text-xs text-slate-500">Nh√≥m -OH (Alcohol)</span>
              </button>
              <button
                onclick="showIsomer('dimethylether')"
                class="w-full text-left p-4 rounded-xl bg-indigo-50 dark:bg-slate-800 hover:bg-indigo-100 dark:hover:bg-slate-700 transition border border-transparent hover:border-indigo-300"
              >
                <span class="font-bold block">Dimethyl Ether (C‚ÇÇH‚ÇÜO)</span>
                <span class="text-xs text-slate-500">Nh√≥m -O- (Ether)</span>
              </button>
            </div>

            <div
              class="w-full md:w-2/3 bg-slate-100 dark:bg-slate-900 rounded-2xl border-2 border-dashed border-indigo-200 dark:border-slate-700 flex items-center justify-center min-h-[300px] relative p-4"
            >
              <div id="isomer-display" class="text-center w-full">
                <div class="text-slate-400">
                  Ch·ªçn m·ªôt ch·∫•t b√™n tr√°i ƒë·ªÉ xem c·∫•u tr√∫c
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- ================= SECTION 6: GAME QUIZ ================= -->
      <section id="section-6" class="scroll-mt-28">
        <div
          class="glass-card p-1 rounded-[2rem] bg-gradient-to-br from-indigo-500 to-purple-600 text-white overflow-hidden"
        >
          <div
            class="bg-slate-900/90 backdrop-blur-md p-8 md:p-12 h-full rounded-[1.9rem]"
          >
            <div class="text-center mb-10">
              <span
                class="bg-yellow-400 text-yellow-900 px-3 py-1 rounded-full text-xs font-bold uppercase tracking-wider mb-4 inline-block"
                >Challenge</span
              >
              <h2 class="text-4xl font-display font-bold mb-4">
                B√†i t·∫≠p C·ªßng c·ªë Game h√≥a
              </h2>
              <p class="text-slate-300">
                Tr·∫£ l·ªùi ƒë√∫ng ƒë·ªÉ n·∫°p nƒÉng l∆∞·ª£ng cho l√≤ ph·∫£n ·ª©ng!
              </p>
            </div>

            <!-- Progress Bar -->
            <div
              class="w-full h-4 bg-slate-700 rounded-full mb-8 overflow-hidden"
            >
              <div
                id="quiz-progress"
                class="h-full bg-gradient-to-r from-blue-400 to-purple-500 w-0 transition-all duration-500"
              ></div>
            </div>

            <!-- Question Container -->
            <div id="quiz-container" class="max-w-2xl mx-auto">
              <!-- Questions injected via JS -->
            </div>

            <!-- Results Screen (Hidden initially) -->
            <div id="quiz-result" class="hidden text-center animate-bounce-in">
              <div class="text-6xl mb-4">üéâ</div>
              <h3 class="text-2xl font-bold mb-2">Ho√†n th√†nh xu·∫•t s·∫Øc!</h3>
              <p class="text-slate-300 mb-6">
                B·∫°n ƒë√£ n·∫Øm v·ªØng ki·∫øn th·ª©c ch∆∞∆°ng n√†y.
              </p>
              <button
                onclick="resetQuiz()"
                class="px-8 py-3 bg-white text-indigo-900 rounded-full font-bold hover:scale-105 transition"
              >
                L√†m l·∫°i
              </button>
            </div>
          </div>
        </div>
      </section>

      <!-- ================= NAVIGATION BUTTONS ================= -->
      <section
        class="text-center space-x-4 mb-20 flex flex-col md:flex-row gap-4 md:gap-0 items-center justify-center"
      >
        <button
          onclick="
            document
              .getElementById('section-6')
              .scrollIntoView({ behavior: 'smooth' })
          "
          style="
            display: inline-flex;
            align-items: center;
            gap: 10px;
            padding: 14px 30px;
            font-size: 1rem;
            font-weight: 600;
            border-radius: 999px;
            border: none;
            cursor: pointer;
            color: #fff;
            background: linear-gradient(135deg, #3b82f6, #6366f1);
            box-shadow: 0 10px 30px rgba(59, 130, 246, 0.35);
            transition: 0.3s ease;
          "
          onmouseover="
            this.style.transform = 'translateY(-3px) scale(1.03)';
            this.style.boxShadow = '0 18px 45px rgba(99,102,241,.55)';
          "
          onmouseout="
            this.style.transform = 'translateY(0) scale(1)';
            this.style.boxShadow = '0 10px 30px rgba(59,130,246,.35)';
          "
        >
          <i class="fas fa-pen-to-square"></i>
          B√†i t·∫≠p c·ªßng c·ªë
        </button>

        <button
          onclick="window.scrollTo({ top: 0, behavior: 'smooth' })"
          style="
            display: inline-flex;
            align-items: center;
            gap: 10px;
            padding: 14px 30px;
            font-size: 1rem;
            font-weight: 600;
            border-radius: 999px;
            border: none;
            cursor: pointer;
            color: #fff;
            background: linear-gradient(135deg, #22c55e, #16a34a);
            box-shadow: 0 10px 30px rgba(34, 197, 94, 0.35);
            transition: 0.3s ease;
          "
          onmouseover="
            this.style.transform = 'translateY(-3px)';
            this.style.boxShadow = '0 18px 45px rgba(22,163,74,.55)';
          "
          onmouseout="
            this.style.transform = 'translateY(0)';
            this.style.boxShadow = '0 10px 30px rgba(34,197,94,.35)';
          "
        >
          <i class="fas fa-arrow-up"></i>
          V·ªÅ ƒë·∫ßu trang
        </button>
      </section>
    </main>

    <!-- ================= FOOTER ================= -->
    <footer>
      <div class="footer-waves"></div>
      <div class="footer-grid">
        <div class="footer-brand" data-aos="fade-right">
          <h2>EDUMATTER</h2>
          <p style="color: #94a3b8; line-height: 1.8">
            Ki·∫øn t·∫°o m√¥i tr∆∞·ªùng h·ªçc t·∫≠p c·∫£m x√∫c, n∆°i tri th·ª©c ƒë∆∞·ª£c s·ªë h√≥a v√†
            truy·ªÅn t·∫£i ƒë·∫ßy c·∫£m h·ª©ng.
          </p>
          <div style="display: flex; gap: 15px; margin-top: 30px">
            <a href="https://www.facebook.com/ducnt214" class="icon-btn"
              ><i class="fab fa-facebook" alt="facebook"></i
            ></a>
            <a href="https://github.com/ducnt2104" class="icon-btn" alt="github"
              ><i class="fab fa-github"></i
            ></a>
            <a
              href="https://www.tiktok.com/@ktbtcthm210"
              class="icon-btn"
              alt="tiktok"
              ><i class="fab fa-tiktok"></i
            ></a>
          </div>
        </div>
        <div class="footer-links" data-aos="fade-up">
          <h3>Li√™n h·ªá nhanh</h3>
          <div class="contact-item">
            <i class="fas fa-envelope"></i>
            <span>ducnt21042010@gmail.com</span>
          </div>
          <div class="contact-item">
            <i class="fas fa-phone"></i>
            <span>034 226 6204</span>
          </div>
          <div class="contact-item">
            <i class="fas fa-location-dot"></i>
            <span>THPT T√¥n ƒê·ª©c Th·∫Øng, ƒê·ªìng Nai</span>
          </div>
        </div>
        <div class="footer-links" data-aos="fade-left">
          <h4>ƒê·ªôi ng≈© DNT</h4>
          <p style="color: #94a3b8">
            "S√°ng t·∫°o kh√¥ng ng·ª´ng - V∆∞∆°n t·∫ßm tri th·ª©c"
          </p>
          <div
            style="
              margin-top: 20px;
              padding: 15px;
              background: rgba(255, 255, 255, 0.05);
              border-radius: 15px;
            "
          >
            <p style="font-size: 0.8rem; color: #fff">
              D·ª± √°n ƒë∆∞·ª£c ph√°t tri·ªÉn b·ªüi c√°c th√†nh vi√™n ƒëam m√™ c√¥ng ngh·ªá t·∫°i Vi·ªát
              Nam.
            </p>
          </div>
        </div>
      </div>
      <div class="copyright">
        <p>
          ¬© 2024 EDUMATTER Educational Ecosystem. Designed with
          <i class="fas fa-heart" style="color: #ef4444"></i> by DNT Team.
        </p>
      </div>
    </footer>

    <!-- ================= JAVASCRIPT LOGIC ================= -->
    <script>
      // ================= THEME TOGGLE =================
      const themeToggle = document.getElementById("theme-toggle");
      const html = document.documentElement;

      // Check local storage or system preference
      if (
        localStorage.theme === "dark" ||
        (!("theme" in localStorage) &&
          window.matchMedia("(prefers-color-scheme: dark)").matches)
      ) {
        html.classList.add("dark");
      } else {
        html.classList.remove("dark");
      }

      themeToggle.addEventListener("click", () => {
        html.classList.toggle("dark");
        localStorage.theme = html.classList.contains("dark") ? "dark" : "light";
      });

      // ================= SIMULATION 1: EXPERIMENT (ƒê∆∞·ªùng + CuO) =================
      function runExperiment1() {
        const resultEl = document.getElementById("sim-1-result");
        const cuso4 = document.getElementById("sim-1-cuso4");
        const caoh2 = document.getElementById("sim-1-caoh2");

        // Reset
        cuso4.className =
          "w-16 h-16 rounded-lg bg-white border-2 border-slate-500 flex items-center justify-center transition-colors duration-1000";
        caoh2.className =
          "w-16 h-16 rounded-full bg-blue-100/30 border-2 border-slate-500 flex items-center justify-center transition-all duration-1000";

        resultEl.style.opacity = 0;

        setTimeout(() => {
          // Change CuSO4 to Blue (Hydrated)
          cuso4.className =
            "w-16 h-16 rounded-lg bg-blue-500 text-white border-2 border-blue-600 flex items-center justify-center transition-colors duration-1000";
          cuso4.innerHTML = "CuSO‚ÇÑ<br>.5H‚ÇÇO";

          // Change Ca(OH)2 to Milky (Precipitate)
          caoh2.className =
            "w-16 h-16 rounded-full bg-white border-4 border-slate-300 flex items-center justify-center transition-all duration-1000";
          caoh2.innerHTML = "CaCO‚ÇÉ‚Üì";

          // Show Result Text
          resultEl.innerText =
            "K·∫øt lu·∫≠n: C√≥ H‚ÇÇO (H√≥a xanh CuSO‚ÇÑ) v√† CO‚ÇÇ (K·∫øt t·ªßa tr·∫Øng)";
          resultEl.style.opacity = 1;
        }, 1000);
      }

      // ================= SIMULATION 2: METHANE ROTATION =================
      function rotateMethane(deg) {
        const svg = document.getElementById("methane-svg");
        svg.style.transform = `rotate(${deg}deg)`;
      }

      // ================= SIMULATION 3: SORTING GAME =================
      const items = [
        { name: "C‚ÇÜH‚ÇÅ‚ÇÇO‚ÇÜ", type: "organic", label: "Glucose" },
        { name: "CaCO‚ÇÉ", type: "inorganic", label: "ƒê√° v√¥i" },
        { name: "C‚ÇÇH‚ÇÖOH", type: "organic", label: "C·ªìn" },
        { name: "CO‚ÇÇ", type: "inorganic", label: "Kh√≠ CO2" },
        { name: "CH‚ÇÉCOOH", type: "organic", label: "Gi·∫•m" },
        { name: "NaCl", type: "inorganic", label: "Mu·ªëi ƒÉn" },
      ];

      const pool = document.getElementById("chemical-pool");
      const feedback = document.getElementById("sort-feedback");
      let orgCount = 0;
      let inorgCount = 0;

      function initSortingGame() {
        pool.innerHTML = "";
        orgCount = 0;
        inorgCount = 0;
        document.getElementById("organic-count").innerText = 0;
        document.getElementById("inorganic-count").innerText = 0;
        feedback.innerText = "";

        items.forEach((item) => {
          const el = document.createElement("div");
          el.className =
            "px-3 py-2 bg-white dark:bg-slate-700 rounded-lg shadow cursor-pointer border hover:border-blue-500 transition select-none text-sm font-bold";
          el.innerHTML = `${item.name} <br> <span class="text-[10px] font-normal text-slate-500">${item.label}</span>`;

          el.onclick = () => {
            // Simple logic: Left click -> Organic, Right click (or shift click) -> Inorganic?
            // Better: Show modal or use simple Confirm
            // Let's use a two-step click for mobile friendliness

            if (
              confirm(
                `B·∫°n mu·ªën ƒë∆∞a ${item.name} v√†o gi·ªè n√†o?\nOK = H·ªØu C∆° (Xanh)\nCancel = V√¥ C∆° (X√°m)`,
              )
            ) {
              checkSort(item, "organic", el);
            } else {
              checkSort(item, "inorganic", el);
            }
          };
          pool.appendChild(el);
        });
      }

      function checkSort(item, selectedType, element) {
        if (item.type === selectedType) {
          element.style.display = "none";
          if (selectedType === "organic") {
            orgCount++;
            document.getElementById("organic-count").innerText = orgCount;
            animateBin("organic-bin", "border-green-600");
          } else {
            inorgCount++;
            document.getElementById("inorganic-count").innerText = inorgCount;
            animateBin("inorganic-bin", "border-slate-600");
          }
          feedback.innerText = "Ch√≠nh x√°c!";
          feedback.className = "text-green-500 font-bold mt-2 h-6";

          if (orgCount + inorgCount === items.length) {
            feedback.innerText = "Ho√†n th√†nh xu·∫•t s·∫Øc!";
          }
        } else {
          feedback.innerText = "Sai r·ªìi! Th·ª≠ l·∫°i xem.";
          feedback.className = "text-red-500 font-bold mt-2 h-6";
          element.classList.add("animate-shake");
          setTimeout(() => element.classList.remove("animate-shake"), 500);
        }
      }

      function animateBin(id, colorClass) {
        const bin = document.getElementById(id);
        bin.classList.add("scale-110", "bg-opacity-20");
        setTimeout(
          () => bin.classList.remove("scale-110", "bg-opacity-20"),
          200,
        );
      }

      initSortingGame();

      // ================= SIMULATION 4: IR SPECTRUM =================
      const irData = {
        ethanol: {
          label: "O-H (Alcohol)",
          path: "M0 350 L50 350 L100 350 C120 100, 150 100, 180 350 L300 350 L500 350 L600 200 L610 350 L1000 350",
          highlight: { left: "10%", top: "20px", width: "10%", height: "80%" },
          text: "Ethanol (C‚ÇÇH‚ÇÖOH): Peak O-H r·∫•t r·ªông v√† t√π ·ªü v√πng 3300 cm‚Åª¬π do li√™n k·∫øt hydro.",
        },
        butanal: {
          label: "C=O (Aldehyde)",
          path: "M0 350 L400 350 L500 350 L550 50 L560 350 L600 350 L1000 350",
          highlight: { left: "53%", top: "20px", width: "5%", height: "80%" },
          text: "Butanal: Peak C=O nh·ªçn, m·∫°nh ·ªü 1720-1740 cm‚Åª¬π. Ngo√†i ra c√≥ peak C-H c·ªßa aldehyde ·ªü 2700-2800.",
        },
        acid: {
          label: "O-H (Acid) & C=O",
          path: "M0 350 L50 350 C100 150, 200 250, 300 350 L550 50 L560 350 L1000 350",
          highlight: { left: "10%", top: "20px", width: "25%", height: "80%" },
          text: "Acetic Acid: Peak O-H r·∫•t r·ªông (do dimer h√≥a) tr√πm l√™n c·∫£ v√πng C-H, k√®m peak C=O m·∫°nh ·ªü 1710.",
        },
      };

      function loadIR(type) {
        const data = irData[type];
        const path = document.getElementById("ir-path");
        const highlight = document.getElementById("ir-highlight");
        const label = document.getElementById("ir-label");
        const explanation = document.getElementById("ir-explanation");

        path.setAttribute("d", data.path);

        highlight.style.display = "block";
        highlight.style.left = data.highlight.left;
        highlight.style.width = data.highlight.width;

        label.innerText = data.label;
        explanation.innerText = data.text;
      }

      // ================= SIMULATION 5: DISTILLATION =================
      function updateDistillation(temp) {
        const display = document.getElementById("temp-display");
        const liquid = document.getElementById("distill-liquid");
        const status = document.getElementById("distill-status");
        const collected = document.getElementById("collected-liquid");
        const condenserFlow = document.getElementById("condenser-flow");
        const heaterGlow = document.getElementById("heater-glow");

        display.innerText = temp + "¬∞C";

        // Heater visual
        heaterGlow.style.opacity = (temp - 25) / 100;

        if (temp < 78) {
          status.innerText = "Nhi·ªát ƒë·ªô ch∆∞a ƒë·ªß ƒë·ªÉ Ethanol s√¥i.";
          liquid.className =
            "absolute bottom-0 w-full h-3/4 bg-blue-500/60 transition-all duration-300";
          condenserFlow.style.opacity = 0;
          condenserFlow.style.animation = "none";
        } else if (temp >= 78 && temp < 100) {
          status.innerText =
            "Ethanol (78.3¬∞C) ƒëang s√¥i v√† bay h∆°i! N∆∞·ªõc v·∫´n ·ªü l·∫°i.";
          liquid.className =
            "absolute bottom-0 w-full h-3/4 bg-blue-500/60 animate-pulse transition-all duration-300"; // Boiling effect
          liquid.style.height = "60%"; // Level drops slightly

          // Flow animation
          condenserFlow.style.opacity = 1;
          condenserFlow.style.animation =
            "ping 1s cubic-bezier(0, 0, 0.2, 1) infinite";
          collected.style.height = "20px";
          collected.style.backgroundColor = "rgba(248, 113, 113, 0.8)"; // Reddish for ethanol model
        } else {
          status.innerText =
            "Nhi·ªát ƒë·ªô qu√° cao! C·∫£ n∆∞·ªõc (100¬∞C) c≈©ng ƒëang s√¥i -> Kh√¥ng tinh khi·∫øt.";
          liquid.style.height = "20%"; // Level drops a lot
          condenserFlow.style.opacity = 1;
          condenserFlow.style.animation =
            "ping 0.2s cubic-bezier(0, 0, 0.2, 1) infinite"; // Fast flow
          collected.style.height = "60px";
          collected.style.backgroundColor = "rgba(100, 116, 139, 0.8)"; // Mixed color
        }
      }

      // ================= CALCULATOR =================
      function calculateEmpirical() {
        const c = parseFloat(document.getElementById("calc-c").value) || 0;
        const h = parseFloat(document.getElementById("calc-h").value) || 0;
        const o = parseFloat(document.getElementById("calc-o").value) || 0;

        if (c === 0) {
          alert("Vui l√≤ng nh·∫≠p %C");
          return;
        }

        // Simple logic: divide by atomic mass
        let molC = c / 12;
        let molH = h / 1;
        let molO = o / 16;

        // Find smallest
        let minMol = molC;
        if (molO > 0 && molO < minMol) minMol = molO;
        // (Assuming only C,H,O for simplicity in this demo)

        let ratioC = Math.round(molC / minMol);
        let ratioH = Math.round(molH / minMol);
        let ratioO = molO > 0 ? Math.round(molO / minMol) : 0;

        let formula = `C${ratioC > 1 ? ratioC : ""}H${ratioH > 1 ? ratioH : ""}`;
        if (ratioO > 0) formula += `O${ratioO > 1 ? ratioO : ""}`;

        document.getElementById("calc-result").classList.remove("hidden");
        document.getElementById("result-text").innerText = formula;
      }

      // ================= ISOMER VISUALIZER =================
      function showIsomer(type) {
        const display = document.getElementById("isomer-display");
        let content = "";

        switch (type) {
          case "butane":
            content = `
                        <div class="flex items-center justify-center gap-1 animate-float">
                            <div class="w-10 h-10 rounded-full bg-slate-800 text-white flex items-center justify-center border-2 border-white">C</div>
                            <div class="h-1 w-8 bg-slate-400"></div>
                            <div class="w-10 h-10 rounded-full bg-slate-800 text-white flex items-center justify-center border-2 border-white">C</div>
                            <div class="h-1 w-8 bg-slate-400"></div>
                            <div class="w-10 h-10 rounded-full bg-slate-800 text-white flex items-center justify-center border-2 border-white">C</div>
                            <div class="h-1 w-8 bg-slate-400"></div>
                            <div class="w-10 h-10 rounded-full bg-slate-800 text-white flex items-center justify-center border-2 border-white">C</div>
                        </div>
                        <p class="mt-4 font-bold text-slate-700 dark:text-slate-300">n-Butane (M·∫°ch th·∫≥ng)</p>
                    `;
            break;
          case "isobutane":
            content = `
                        <div class="relative w-40 h-40 mx-auto animate-float">
                            <div class="absolute top-0 left-1/2 -translate-x-1/2 w-10 h-10 rounded-full bg-slate-800 text-white flex items-center justify-center border-2 border-white">C</div>
                            <div class="absolute top-10 left-1/2 -translate-x-1/2 h-8 w-1 bg-slate-400"></div>
                            <div class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-10 h-10 rounded-full bg-slate-800 text-white flex items-center justify-center border-2 border-white">C</div>
                            
                            <div class="absolute top-1/2 left-4 h-1 w-10 bg-slate-400"></div>
                            <div class="absolute top-1/2 left-0 w-10 h-10 rounded-full bg-slate-800 text-white flex items-center justify-center border-2 border-white">C</div>
                            
                            <div class="absolute top-1/2 right-4 h-1 w-10 bg-slate-400"></div>
                            <div class="absolute top-1/2 right-0 w-10 h-10 rounded-full bg-slate-800 text-white flex items-center justify-center border-2 border-white">C</div>
                        </div>
                        <p class="mt-4 font-bold text-slate-700 dark:text-slate-300">Isobutane (M·∫°ch nh√°nh)</p>
                    `;
            break;
          case "ethanol":
            content = `
                        <div class="flex items-center justify-center gap-1 animate-float">
                            <div class="w-10 h-10 rounded-full bg-slate-800 text-white flex items-center justify-center border-2 border-white">C</div>
                            <div class="h-1 w-8 bg-slate-400"></div>
                            <div class="w-10 h-10 rounded-full bg-slate-800 text-white flex items-center justify-center border-2 border-white">C</div>
                            <div class="h-1 w-8 bg-slate-400"></div>
                            <div class="w-10 h-10 rounded-full bg-red-500 text-white flex items-center justify-center border-2 border-white shadow-lg shadow-red-500/50">O</div>
                            <div class="h-1 w-4 bg-slate-400"></div>
                            <div class="w-6 h-6 rounded-full bg-white text-black text-xs flex items-center justify-center border border-slate-300">H</div>
                        </div>
                        <p class="mt-4 font-bold text-slate-700 dark:text-slate-300">Ethanol (Ch·∫•t l·ªèng, tan v√¥ h·∫°n trong n∆∞·ªõc)</p>
                    `;
            break;
          case "dimethylether":
            content = `
                        <div class="flex items-center justify-center gap-1 animate-float">
                            <div class="w-10 h-10 rounded-full bg-slate-800 text-white flex items-center justify-center border-2 border-white">C</div>
                            <div class="h-1 w-8 bg-slate-400"></div>
                            <div class="w-10 h-10 rounded-full bg-red-500 text-white flex items-center justify-center border-2 border-white shadow-lg shadow-red-500/50">O</div>
                            <div class="h-1 w-8 bg-slate-400"></div>
                            <div class="w-10 h-10 rounded-full bg-slate-800 text-white flex items-center justify-center border-2 border-white">C</div>
                        </div>
                        <p class="mt-4 font-bold text-slate-700 dark:text-slate-300">Dimethyl Ether (Ch·∫•t kh√≠, √≠t tan)</p>
                    `;
            break;
        }
        display.innerHTML = content;
      }

      // ================= QUIZ SYSTEM =================
      const questions = [
        {
          q: "Ch·∫•t n√†o sau ƒë√¢y l√† ch·∫•t H·ªÆU C∆†?",
          options: ["CO‚ÇÇ", "CaCO‚ÇÉ", "C‚ÇÇH‚ÇÖOH", "NaCN"],
          correct: 2,
          explain:
            "CO‚ÇÇ, CaCO‚ÇÉ, NaCN l√† h·ª£p ch·∫•t v√¥ c∆° c·ªßa Carbon. C‚ÇÇH‚ÇÖOH (Ethanol) l√† h·ªØu c∆°.",
        },
        {
          q: "Nh√≥m ch·ª©c ƒë·∫∑c tr∆∞ng c·ªßa Alcohol l√† g√¨?",
          options: ["-COOH", "-OH", "-CHO", "-NH‚ÇÇ"],
          correct: 1,
          explain: "-OH li√™n k·∫øt v·ªõi C no l√† nh√≥m ch·ª©c Alcohol.",
        },
        {
          q: "Ph∆∞∆°ng ph√°p n√†o d√πng ƒë·ªÉ t√°ch c√°c ch·∫•t l·ªèng c√≥ nhi·ªát ƒë·ªô s√¥i kh√°c nhau?",
          options: ["Ch∆∞ng c·∫•t", "Chi·∫øt", "K·∫øt tinh", "S·∫Øc k√Ω"],
          correct: 0,
          explain: "Ch∆∞ng c·∫•t d·ª±a v√†o s·ª± kh√°c bi·ªát v·ªÅ nhi·ªát ƒë·ªô s√¥i.",
        },
        {
          q: "Tr√™n ph·ªï IR, peak ·ªü v√πng 1700-1750 cm‚Åª¬π th∆∞·ªùng ƒë·∫∑c tr∆∞ng cho li√™n k·∫øt n√†o?",
          options: ["O-H", "C-H", "C=O", "N-H"],
          correct: 2,
          explain: "Li√™n k·∫øt ƒë√¥i C=O h·∫•p th·ª• m·∫°nh ·ªü v√πng 1700 cm‚Åª¬π.",
        },
        {
          q: "C√¥ng th·ª©c ƒë∆°n gi·∫£n nh·∫•t c·ªßa Glucose (C‚ÇÜH‚ÇÅ‚ÇÇO‚ÇÜ) l√†?",
          options: ["CH‚ÇÇO", "C‚ÇÜH‚ÇÅ‚ÇÇO‚ÇÜ", "C‚ÇÇH‚ÇÑO‚ÇÇ", "CHO"],
          correct: 0,
          explain: "T·ªâ l·ªá C:H:O = 6:12:6 = 1:2:1 => CH‚ÇÇO.",
        },
      ];

      let currentQ = 0;
      let score = 0;

      function renderQuiz() {
        const container = document.getElementById("quiz-container");
        const progress = document.getElementById("quiz-progress");

        // Update Progress
        progress.style.width = `${(currentQ / questions.length) * 100}%`;

        if (currentQ >= questions.length) {
          container.style.display = "none";
          document.getElementById("quiz-result").classList.remove("hidden");
          return;
        }

        const q = questions[currentQ];

        let html = `
                <div class="glass-card bg-white/10 p-6 rounded-2xl animate-fade-in">
                    <h3 class="text-xl font-bold mb-6">${currentQ + 1}. ${q.q}</h3>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
            `;

        q.options.forEach((opt, idx) => {
          html += `
                    <button onclick="checkAnswer(${idx})" class="p-4 rounded-xl bg-slate-800/50 hover:bg-slate-700 border border-slate-600 transition text-left">
                        ${opt}
                    </button>
                `;
        });

        html += `</div>
                <div id="quiz-feedback-${currentQ}" class="mt-4 hidden p-4 rounded-xl text-sm"></div>
            </div>`;

        container.innerHTML = html;
      }

      function checkAnswer(selectedIdx) {
        const q = questions[currentQ];
        const feedback = document.getElementById(`quiz-feedback-${currentQ}`);
        const buttons = document.querySelectorAll("#quiz-container button");

        // Disable buttons
        buttons.forEach((btn) => (btn.disabled = true));

        if (selectedIdx === q.correct) {
          score++;
          feedback.className =
            "mt-4 p-4 rounded-xl text-sm bg-green-500/20 border border-green-500 text-green-200 block";
          feedback.innerHTML = `<i class="fas fa-check-circle"></i> <strong>Ch√≠nh x√°c!</strong> ${q.explain}`;
        } else {
          buttons[selectedIdx].classList.add("bg-red-500/50");
          feedback.className =
            "mt-4 p-4 rounded-xl text-sm bg-red-500/20 border border-red-500 text-red-200 block";
          feedback.innerHTML = `<i class="fas fa-times-circle"></i> <strong>Sai r·ªìi!</strong> ${q.explain}`;
        }

        // Highlight correct
        buttons[q.correct].classList.add("bg-green-500/50", "border-green-400");

        // Next question timeout
        setTimeout(() => {
          currentQ++;
          renderQuiz();
        }, 2500);
      }

      function resetQuiz() {
        currentQ = 0;
        score = 0;
        document.getElementById("quiz-result").classList.add("hidden");
        document.getElementById("quiz-container").style.display = "block";
        renderQuiz();
      }

      // Initialize
      renderQuiz();
    </script>
  </body>
</html>
