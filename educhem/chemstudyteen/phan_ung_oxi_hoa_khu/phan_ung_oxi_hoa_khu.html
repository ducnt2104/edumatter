<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Ch∆∞∆°ng 4: Ph·∫£n ·ª®ng Oxi Ho√° ‚Äì Kh·ª≠ (N√¢ng C·∫•p)</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
      rel="stylesheet"
    />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/3.2.2/es5/tex-mml-chtml.js"></script>
    <style>
      @import url("https://fonts.googleapis.com/css2?family=Be+Vietnam+Pro:wght@300;400;500;600;700&display=swap");

      body {
        font-family: "Be Vietnam Pro", sans-serif;
        scroll-behavior: smooth;
      }

      /* 3D Atom Animation */
      .atom-container {
        position: relative;
        width: 200px;
        height: 200px;
        perspective: 1000px;
        margin: 0 auto;
      }
      .nucleus {
        position: absolute;
        top: 50%;
        left: 50%;
        width: 40px;
        height: 40px;
        background: radial-gradient(circle at 30% 30%, #ff6b6b, #c92a2a);
        border-radius: 50%;
        transform: translate(-50%, -50%);
        box-shadow: 0 0 20px rgba(255, 107, 107, 0.6);
        z-index: 10;
      }
      .orbit {
        position: absolute;
        top: 50%;
        left: 50%;
        border: 2px solid rgba(74, 144, 226, 0.3);
        border-radius: 50%;
        transform-style: preserve-3d;
      }
      .orbit-1 {
        width: 100px;
        height: 100px;
        margin-left: -50px;
        margin-top: -50px;
        animation: spin 3s linear infinite;
      }
      .orbit-2 {
        width: 160px;
        height: 160px;
        margin-left: -80px;
        margin-top: -80px;
        animation: spin 5s linear infinite reverse;
      }
      .orbit-3 {
        width: 160px;
        height: 160px;
        margin-left: -80px;
        margin-top: -80px;
        transform: rotateX(70deg) rotateY(20deg);
        animation: spin3d 6s linear infinite;
      }
      .electron {
        position: absolute;
        top: -6px;
        left: 50%;
        width: 12px;
        height: 12px;
        background: #4dabf7;
        border-radius: 50%;
        box-shadow: 0 0 10px #4dabf7;
        margin-left: -6px;
      }

      @keyframes spin {
        0% {
          transform: rotateZ(0deg) rotateX(60deg);
        }
        100% {
          transform: rotateZ(360deg) rotateX(60deg);
        }
      }
      @keyframes spin3d {
        0% {
          transform: rotateX(70deg) rotateY(20deg) rotateZ(0deg);
        }
        100% {
          transform: rotateX(70deg) rotateY(20deg) rotateZ(360deg);
        }
      }

      /* Animation */
      .transfer-scene {
        display: flex;
        justify-content: space-around;
        align-items: center;
        height: 200px;
      }
      .atom-box {
        position: relative;
        width: 90px;
        height: 90px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-weight: bold;
        color: white;
        transition: all 0.5s ease;
        font-size: 1.5rem;
      }
      .reducer {
        background: linear-gradient(135deg, #38d9a9, #12b886);
        box-shadow: 0 0 20px rgba(56, 217, 169, 0.4);
      }
      .oxidizer {
        background: linear-gradient(135deg, #ff6b6b, #e03131);
        box-shadow: 0 0 20px rgba(255, 107, 107, 0.4);
      }
      .e-dot {
        position: absolute;
        width: 20px;
        height: 20px;
        background: #ffd43b;
        border: 2px solid #fff;
        border-radius: 50%;
        z-index: 20;
        box-shadow: 0 0 15px #ffd43b;
      }

      /* Modal & UI */
      .glass-panel {
        background: rgba(255, 255, 255, 0.95);
        backdrop-filter: blur(12px);
        border-bottom: 1px solid rgba(0, 0, 0, 0.05);
      }
      .dark .glass-panel {
        background: rgba(15, 23, 42, 0.9);
        border-bottom: 1px solid rgba(255, 255, 255, 0.05);
      }

      .quiz-option:hover {
        transform: translateX(5px);
      }

      /* Custom Scrollbar */
      ::-webkit-scrollbar {
        width: 8px;
      }
      ::-webkit-scrollbar-track {
        background: transparent;
      }
      ::-webkit-scrollbar-thumb {
        background: #cbd5e1;
        border-radius: 4px;
      }
      .dark ::-webkit-scrollbar-thumb {
        background: #475569;
      }

      .tab-btn.active {
        background-color: #3b82f6;
        color: white;
        border-color: #3b82f6;
      }
    </style>
  </head>
  <body
    class="bg-slate-50 text-slate-800 dark:bg-slate-900 dark:text-slate-100 transition-colors duration-300"
  >
    <!-- Navigation -->
    <nav
      class="fixed top-0 w-full glass-panel z-50 transition-all duration-300"
    >
      <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="flex justify-between h-16 items-center">
          <div class="flex items-center gap-3">
            <div
              class="w-10 h-10 bg-blue-600 rounded-lg flex items-center justify-center text-white shadow-lg"
            >
              <i class="fas fa-atom fa-spin"></i>
            </div>
            <span class="font-bold text-xl tracking-tight hidden sm:block"
              >Ho√° H·ªçc 10 - Redox Master</span
            >
          </div>
          <div class="hidden md:flex space-x-6">
            <button
              onclick="scrollToSection('so-oxh')"
              class="hover:text-blue-600 dark:hover:text-blue-400 font-medium transition py-2 border-b-2 border-transparent hover:border-blue-500"
            >
              S·ªë Oxi Ho√°
            </button>
            <button
              onclick="scrollToSection('phan-ung')"
              class="hover:text-blue-600 dark:hover:text-blue-400 font-medium transition py-2 border-b-2 border-transparent hover:border-blue-500"
            >
              Ph·∫£n ·ª®ng
            </button>
            <button
              onclick="scrollToSection('can-bang')"
              class="hover:text-blue-600 dark:hover:text-blue-400 font-medium transition py-2 border-b-2 border-transparent hover:border-blue-500"
            >
              C√¢n B·∫±ng
            </button>
            <button
              onclick="scrollToSection('ung-dung')"
              class="hover:text-blue-600 dark:hover:text-blue-400 font-medium transition py-2 border-b-2 border-transparent hover:border-blue-500"
            >
              Th·ª±c Ti·ªÖn
            </button>
          </div>
          <div class="flex items-center gap-3">
            <button
              onclick="openQuiz()"
              class="bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-4 py-2 rounded-full text-sm font-bold shadow hover:shadow-lg transition transform hover:-translate-y-0.5"
            >
              <i class="fas fa-gamepad mr-2"></i>Thi Th·ª≠
            </button>
            <button
              onclick="toggleDarkMode()"
              class="w-10 h-10 rounded-full bg-slate-200 dark:bg-slate-800 flex items-center justify-center hover:bg-slate-300 dark:hover:bg-slate-700 transition"
            >
              <i class="fas fa-moon dark:text-yellow-400 text-slate-600"></i>
            </button>
          </div>
        </div>
      </div>
    </nav>

    <!-- Hero -->
    <header
      class="pt-32 pb-20 bg-[url('https://www.transparenttextures.com/patterns/cubes.png')] bg-fixed bg-indigo-50 dark:bg-slate-900"
    >
      <div
        class="max-w-7xl mx-auto px-4 grid lg:grid-cols-2 gap-12 items-center"
      >
        <div class="animate-fade-in-up">
          <div
            class="inline-block px-4 py-1.5 mb-6 bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 rounded-full text-sm font-bold tracking-wide uppercase border border-blue-200 dark:border-blue-800"
          >
            Ch∆∞∆°ng 4 ‚Ä¢ H√≥a H·ªçc V√¥ C∆°
          </div>
          <h1
            class="text-5xl lg:text-6xl font-extrabold mb-6 leading-tight tracking-tight text-slate-900 dark:text-white"
          >
            Ph·∫£n ·ª®ng <br />
            <span
              class="text-transparent bg-clip-text bg-gradient-to-r from-blue-600 to-violet-600"
              >Oxi Ho√° ‚Äì Kh·ª≠</span
            >
          </h1>
          <p
            class="text-xl text-slate-600 dark:text-slate-400 mb-8 leading-relaxed max-w-lg"
          >
            Ch√¨a kh√≥a gi·∫£i m√£ th·∫ø gi·ªõi v·∫≠t ch·∫•t: T·ª´ vi·ªác pin ƒëi·ªán tho·∫°i ho·∫°t
            ƒë·ªông cho ƒë·∫øn s·ª± h√¥ h·∫•p c·ªßa t·∫ø b√†o. N·∫Øm v·ªØng b·∫£n ch·∫•t s·ª± chuy·ªÉn d·ªãch
            Electron.
          </p>
          <div class="flex flex-wrap gap-4">
            <button
              onclick="scrollToSection('phan-ung')"
              class="px-8 py-4 bg-blue-600 hover:bg-blue-700 text-white rounded-xl shadow-xl shadow-blue-500/20 transition transform hover:-translate-y-1 font-bold text-lg"
            >
              Kh√°m Ph√° Ngay
            </button>
            <button
              onclick="scrollToSection('can-bang')"
              class="px-8 py-4 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 hover:border-blue-500 rounded-xl shadow-md transition font-bold text-lg text-slate-700 dark:text-slate-200"
            >
              H·ªçc C√¢n B·∫±ng
            </button>
          </div>
        </div>
        <div class="flex justify-center lg:justify-end relative">
          <div
            class="absolute -inset-4 bg-gradient-to-r from-blue-500 to-purple-500 opacity-20 blur-3xl rounded-full"
          ></div>
          <div class="atom-container relative z-10">
            <div class="nucleus"></div>
            <div class="orbit orbit-1"><div class="electron"></div></div>
            <div class="orbit orbit-2"><div class="electron"></div></div>
            <div class="orbit orbit-3"><div class="electron"></div></div>
          </div>
        </div>
      </div>
    </header>

    <main class="max-w-7xl mx-auto px-4 py-16 space-y-32">
      <!-- I. S·ªê OXI HO√Å -->
      <section id="so-oxh" class="scroll-mt-28">
        <div class="flex flex-col md:flex-row gap-8 items-start mb-10">
          <div class="flex-1">
            <h2 class="text-3xl font-bold mb-4 flex items-center gap-3">
              <span
                class="bg-blue-600 text-white w-10 h-10 rounded-lg flex items-center justify-center text-xl"
                >1</span
              >
              S·ªë Oxi Ho√° (S·ªë OXH)
            </h2>
            <p class="text-lg text-slate-600 dark:text-slate-400">
              C√¥ng c·ª• "k·∫ø to√°n" electron gi√∫p theo d√µi s·ª± cho - nh·∫≠n e trong
              ph·∫£n ·ª©ng.
            </p>
          </div>
        </div>

        <div class="grid lg:grid-cols-3 gap-8">
          <!-- Quy t·∫Øc c∆° b·∫£n -->
          <div
            class="lg:col-span-2 bg-white dark:bg-slate-800 rounded-2xl p-8 shadow-lg border border-slate-100 dark:border-slate-700"
          >
            <h3
              class="text-xl font-bold mb-6 text-blue-600 dark:text-blue-400 border-b pb-2 dark:border-slate-700"
            >
              <i class="fas fa-check-circle mr-2"></i>Quy T·∫Øc X√°c ƒê·ªãnh (C∆° B·∫£n)
            </h3>
            <div class="grid sm:grid-cols-2 gap-6">
              <div class="bg-slate-50 dark:bg-slate-700/50 p-4 rounded-xl">
                <div class="font-bold text-slate-900 dark:text-white mb-1">
                  1. ƒê∆°n ch·∫•t = 0
                </div>
                <div class="text-sm text-slate-500 dark:text-slate-400">
                  \(H_2, O_2, Na, Fe, Cl_2 \rightarrow 0\)
                </div>
              </div>
              <div class="bg-slate-50 dark:bg-slate-700/50 p-4 rounded-xl">
                <div class="font-bold text-slate-900 dark:text-white mb-1">
                  2. Ion ƒë∆°n = ƒêi·ªán t√≠ch
                </div>
                <div class="text-sm text-slate-500 dark:text-slate-400">
                  \(Na^+ \rightarrow +1, \ S^{2-} \rightarrow -2\)
                </div>
              </div>
              <div class="bg-slate-50 dark:bg-slate-700/50 p-4 rounded-xl">
                <div class="font-bold text-slate-900 dark:text-white mb-1">
                  3. H·ª£p ch·∫•t: H=+1, O=-2
                </div>
                <div class="text-sm text-slate-500 dark:text-slate-400">
                  ƒê√∫ng trong ƒëa s·ªë tr∆∞·ªùng h·ª£p.
                </div>
              </div>
              <div class="bg-slate-50 dark:bg-slate-700/50 p-4 rounded-xl">
                <div class="font-bold text-slate-900 dark:text-white mb-1">
                  4. T·ªïng ƒë·∫°i s·ªë = 0
                </div>
                <div class="text-sm text-slate-500 dark:text-slate-400">
                  T·ªïng s·ªë OXH trong ph√¢n t·ª≠ = 0.
                </div>
              </div>
            </div>

            <!-- Ngo·∫°i l·ªá -->
            <div
              class="mt-8 bg-amber-50 dark:bg-amber-900/20 border-l-4 border-amber-500 p-4 rounded-r-xl"
            >
              <h4 class="font-bold text-amber-700 dark:text-amber-400 mb-2">
                <i class="fas fa-exclamation-triangle mr-2"></i>L∆∞u √Ω ngo·∫°i l·ªá
                (Quan tr·ªçng khi thi)
              </h4>
              <ul
                class="list-disc list-inside space-y-1 text-sm text-slate-700 dark:text-slate-300"
              >
                <li>
                  <span class="font-bold"
                    >Oxi trong Peroxit (VD: \(H_2O_2\)):</span
                  >
                  S·ªë OXH l√†
                  <span class="font-bold text-red-500">-1</span> (kh√¥ng ph·∫£i
                  -2).
                </li>
                <li>
                  <span class="font-bold">Oxi trong \(OF_2\):</span> S·ªë OXH l√†
                  <span class="font-bold text-red-500">+2</span>.
                </li>
                <li>
                  <span class="font-bold"
                    >Hidro trong Hidrua kim lo·∫°i (VD: NaH, CaH‚ÇÇ):</span
                  >
                  S·ªë OXH l√† <span class="font-bold text-red-500">-1</span>.
                </li>
              </ul>
            </div>
          </div>

          <!-- Practice Mini-Game -->
          <div
            class="bg-gradient-to-br from-indigo-600 to-purple-700 rounded-2xl p-6 text-white shadow-xl flex flex-col"
          >
            <h3 class="text-xl font-bold mb-2 flex items-center gap-2">
              <i class="fas fa-brain"></i> Luy·ªán T·∫≠p Nhanh
            </h3>
            <p class="text-indigo-100 text-sm mb-6">
              ƒêi·ªÅn s·ªë oxi ho√° c·ªßa nguy√™n t·ªë ƒë∆∞·ª£c h·ªèi.
            </p>

            <div
              class="flex-1 space-y-4 overflow-y-auto pr-2"
              id="practice-container"
            >
              <!-- Questions injected via JS -->
            </div>
            <div
              id="practice-feedback"
              class="mt-4 h-8 text-sm font-bold text-center bg-white/20 rounded flex items-center justify-center backdrop-blur-sm"
            >
              S·∫µn s√†ng?
            </div>
          </div>
        </div>
      </section>

      <!-- II. B·∫¢N CH·∫§T PH·∫¢N ·ª®NG -->
      <section id="phan-ung" class="scroll-mt-28">
        <div class="text-center mb-12">
          <h2 class="text-3xl font-bold mb-4">II. B·∫£n ch·∫•t Ph·∫£n ·ª®ng</h2>
          <div
            class="inline-block px-4 py-1 bg-red-100 dark:bg-red-900/30 text-red-600 dark:text-red-400 rounded font-mono font-bold text-sm"
          >
            KH·ª¨ CHO - O NH·∫¨N
          </div>
        </div>

        <!-- Animation Box -->
        <div
          class="bg-slate-900 rounded-3xl p-8 shadow-2xl mb-10 relative overflow-hidden border border-slate-700"
        >
          <div
            class="absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/carbon-fibre.png')] opacity-20"
          ></div>

          <div
            class="relative z-10 grid md:grid-cols-3 gap-8 items-center h-full min-h-[300px]"
          >
            <!-- Reducer -->
            <div class="flex flex-col items-center gap-4 order-1">
              <div class="atom-box reducer" id="atom-fe">Fe</div>
              <div class="text-center">
                <span class="text-emerald-400 font-bold block text-lg"
                  >Ch·∫•t Kh·ª≠</span
                >
                <span class="text-slate-400 text-sm"
                  >Nh∆∞·ªùng e &rarr; S·ªë OXH TƒÉng</span
                >
              </div>
            </div>

            <!-- Action Area -->
            <div
              class="flex flex-col items-center justify-center order-2 h-full"
            >
              <div
                id="electron-path"
                class="w-full h-1 bg-slate-700 rounded relative mb-8"
              >
                <div
                  id="electron-dot"
                  class="e-dot hidden top-1/2 -translate-y-1/2 left-0"
                ></div>
              </div>
              <button
                onclick="triggerTransfer()"
                class="bg-white text-slate-900 hover:bg-blue-50 px-8 py-3 rounded-full font-bold shadow-lg shadow-white/10 transition transform hover:scale-105 flex items-center gap-2"
              >
                <i class="fas fa-play"></i> Xem Qu√° Tr√¨nh
              </button>
            </div>

            <!-- Oxidizer -->
            <div class="flex flex-col items-center gap-4 order-3">
              <div class="atom-box oxidizer" id="atom-cu">Cu<sup>2+</sup></div>
              <div class="text-center">
                <span class="text-red-400 font-bold block text-lg"
                  >Ch·∫•t Oxi Ho√°</span
                >
                <span class="text-slate-400 text-sm"
                  >Nh·∫≠n e &rarr; S·ªë OXH Gi·∫£m</span
                >
              </div>
            </div>
          </div>
        </div>

        <div class="grid md:grid-cols-2 gap-8">
          <div
            class="p-6 bg-white dark:bg-slate-800 rounded-xl shadow-sm border-l-4 border-red-500"
          >
            <h3 class="font-bold text-lg mb-2 text-red-600 dark:text-red-400">
              QU√Å TR√åNH OXI HO√Å (S·ª± Oxi Ho√°)
            </h3>
            <p class="text-slate-600 dark:text-slate-300 text-sm mb-3">
              L√† qu√° tr√¨nh ch·∫•t kh·ª≠ nh∆∞·ªùng electron.
            </p>
            <div
              class="font-mono bg-slate-100 dark:bg-slate-900 p-3 rounded text-center border border-slate-200 dark:border-slate-700"
            >
              Fe \(\rightarrow\) Fe\(^{2+}\) + 2e
            </div>
          </div>
          <div
            class="p-6 bg-white dark:bg-slate-800 rounded-xl shadow-sm border-l-4 border-emerald-500"
          >
            <h3
              class="font-bold text-lg mb-2 text-emerald-600 dark:text-emerald-400"
            >
              QU√Å TR√åNH KH·ª¨ (S·ª± Kh·ª≠)
            </h3>
            <p class="text-slate-600 dark:text-slate-300 text-sm mb-3">
              L√† qu√° tr√¨nh ch·∫•t oxi ho√° nh·∫≠n electron.
            </p>
            <div
              class="font-mono bg-slate-100 dark:bg-slate-900 p-3 rounded text-center border border-slate-200 dark:border-slate-700"
            >
              Cu\(^{2+}\) + 2e \(\rightarrow\) Cu
            </div>
          </div>
        </div>
      </section>

      <!-- III. C√ÇN B·∫∞NG PH∆Ø∆†NG TR√åNH -->
      <section id="can-bang" class="scroll-mt-28">
        <h2 class="text-3xl font-bold mb-8 text-center">
          III. Ph∆∞∆°ng Ph√°p C√¢n B·∫±ng
        </h2>

        <div
          class="bg-white dark:bg-slate-800 rounded-2xl shadow-xl overflow-hidden border border-slate-200 dark:border-slate-700"
        >
          <!-- Tab Headers -->
          <div
            class="flex border-b border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-900/50"
          >
            <button
              onclick="switchTab('method-1')"
              id="tab-1"
              class="tab-btn active flex-1 py-4 font-bold text-center transition border-b-2"
            >
              1. ThƒÉng B·∫±ng Electron (C∆° b·∫£n)
            </button>
            <button
              onclick="switchTab('method-2')"
              id="tab-2"
              class="tab-btn flex-1 py-4 font-bold text-center transition border-b-2 border-transparent hover:bg-slate-100 dark:hover:bg-slate-800 text-slate-500"
            >
              2. Ion ‚Äì Electron (N√¢ng cao)
            </button>
          </div>

          <!-- Tab Content 1: Wizard -->
          <div id="method-1" class="tab-content p-6 md:p-10">
            <div class="flex justify-between items-center mb-6">
              <span class="font-bold text-lg dark:text-blue-300 text-blue-700"
                >V√≠ d·ª•: \(Fe^{2+} + MnO_4^- + H^+ \rightarrow Fe^{3+} + Mn^{2+}
                + H_2O\)</span
              >
              <div class="flex gap-2">
                <span
                  id="step-counter"
                  class="px-3 py-1 bg-slate-200 dark:bg-slate-700 rounded-full text-xs font-bold font-mono flex items-center"
                  >B∆Ø·ªöC 1/5</span
                >
              </div>
            </div>

            <div
              class="bg-slate-50 dark:bg-slate-900 rounded-2xl p-8 min-h-[250px] flex items-center justify-center border border-slate-200 dark:border-slate-700 relative"
            >
              <div id="step-content" class="w-full text-center"></div>

              <!-- Navigation Arrows -->
              <button
                onclick="prevStep()"
                class="absolute left-4 top-1/2 -translate-y-1/2 p-3 rounded-full bg-white dark:bg-slate-700 shadow hover:bg-slate-100 dark:hover:bg-slate-600 transition text-slate-400 hover:text-slate-800 dark:hover:text-white"
              >
                <i class="fas fa-chevron-left"></i>
              </button>
              <button
                onclick="nextStep()"
                class="absolute right-4 top-1/2 -translate-y-1/2 p-3 rounded-full bg-blue-600 text-white shadow hover:bg-blue-700 transition transform hover:scale-110"
              >
                <i class="fas fa-chevron-right"></i>
              </button>
            </div>
          </div>

          <!-- Tab Content 2: Ion-Electron -->
          <div id="method-2" class="tab-content hidden p-6 md:p-10">
            <div class="grid md:grid-cols-2 gap-8">
              <div>
                <h3 class="text-xl font-bold mb-4">
                  Ph∆∞∆°ng ph√°p Ion ‚Äì Electron
                </h3>
                <p class="text-slate-600 dark:text-slate-400 mb-4">
                  Th√≠ch h·ª£p cho ph·∫£n ·ª©ng x·∫£y ra trong dung d·ªãch. Kh√¥ng c·∫ßn bi·∫øt
                  ch√≠nh x√°c ch·∫•t t·∫°o th√†nh, ch·ªâ c·∫ßn bi·∫øt ion.
                </p>
                <ul class="space-y-4">
                  <li
                    class="bg-red-50 dark:bg-red-900/10 p-4 rounded-lg border-l-4 border-red-500"
                  >
                    <strong class="block text-red-700 dark:text-red-400"
                      >M√¥i tr∆∞·ªùng Axit ($H^+$)</strong
                    >
                    <span class="text-sm"
                      >V·∫ø thi·∫øu Oxi th√™m $H_2O$. V·∫ø kia th√™m $H^+$.</span
                    >
                    <div
                      class="mt-2 font-mono text-sm bg-white dark:bg-slate-900 p-2 rounded"
                    >
                      \(MnO_4^- + 8H^+ + 5e \rightarrow Mn^{2+} + 4H_2O\)
                    </div>
                  </li>
                  <li
                    class="bg-blue-50 dark:bg-blue-900/10 p-4 rounded-lg border-l-4 border-blue-500"
                  >
                    <strong class="block text-blue-700 dark:text-blue-400"
                      >M√¥i tr∆∞·ªùng Baz∆° ($OH^-$)</strong
                    >
                    <span class="text-sm"
                      >V·∫ø thi·∫øu Oxi th√™m $OH^-$. V·∫ø kia th√™m $H_2O$.</span
                    >
                    <div
                      class="mt-2 font-mono text-sm bg-white dark:bg-slate-900 p-2 rounded"
                    >
                      \(CrO_2^- + 4OH^- \rightarrow CrO_4^{2-} + 2H_2O + 3e\)
                    </div>
                  </li>
                </ul>
              </div>
              <div
                class="bg-slate-100 dark:bg-slate-900/50 p-6 rounded-xl flex items-center justify-center text-center"
              >
                <div>
                  <i class="fas fa-lightbulb text-4xl text-yellow-500 mb-4"></i>
                  <h4 class="font-bold mb-2">∆Øu ƒëi·ªÉm</h4>
                  <p class="text-sm text-slate-500">
                    T·ª± ƒë·ªông c√¢n b·∫±ng Oxi v√† Hiƒëro m√† kh√¥ng c·∫ßn ƒë·∫øm th·ªß c√¥ng ·ªü
                    b∆∞·ªõc cu·ªëi c√πng.
                  </p>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Common Mistakes -->
        <div
          class="mt-10 bg-orange-50 dark:bg-orange-900/10 border border-orange-200 dark:border-orange-800 rounded-xl p-6"
        >
          <h3
            class="text-lg font-bold text-orange-700 dark:text-orange-400 mb-4 flex items-center gap-2"
          >
            <i class="fas fa-exclamation-circle"></i> L·ªói Sai Th∆∞·ªùng G·∫∑p C·ªßa H·ªçc
            Sinh
          </h3>
          <div class="grid sm:grid-cols-3 gap-4">
            <div class="flex gap-3">
              <div class="text-red-500 font-bold">1.</div>
              <p class="text-sm text-slate-700 dark:text-slate-300">
                Qu√™n c√¢n b·∫±ng ƒëi·ªán t√≠ch 2 v·∫ø (ch·ªâ ƒë·∫øm nguy√™n t·ª≠).
              </p>
            </div>
            <div class="flex gap-3">
              <div class="text-red-500 font-bold">2.</div>
              <p class="text-sm text-slate-700 dark:text-slate-300">
                Nh·∫ßm l·∫´n ngo·∫°i l·ªá c·ªßa Oxi (-1 trong $H_2O_2$) v√† Hidro (-1 trong
                $NaH$).
              </p>
            </div>
            <div class="flex gap-3">
              <div class="text-red-500 font-bold">3.</div>
              <p class="text-sm text-slate-700 dark:text-slate-300">
                Qu√™n nh√¢n h·ªá s·ªë v√†o ph√¢n t·ª≠ kh√≠ (VD: $Cl_2$ ph·∫£i t√≠nh l√† 2
                nguy√™n t·ª≠).
              </p>
            </div>
          </div>
        </div>
      </section>

      <!-- IV. ·ª®NG D·ª§NG -->
      <section id="ung-dung" class="scroll-mt-28">
        <h2 class="text-3xl font-bold mb-8 text-center">
          IV. √ù Nghƒ©a Th·ª±c Ti·ªÖn
        </h2>
        <div class="grid md:grid-cols-3 gap-6">
          <!-- Card 1 -->
          <div class="group h-72 perspective">
            <div
              class="relative w-full h-full transition-all duration-700 [transform-style:preserve-3d] group-hover:[transform:rotateY(180deg)] cursor-pointer"
            >
              <!-- Front -->
              <div
                class="absolute inset-0 bg-gradient-to-br from-amber-400 to-orange-600 rounded-2xl shadow-xl flex flex-col items-center justify-center text-white p-6 [backface-visibility:hidden]"
              >
                <div
                  class="w-16 h-16 bg-white/20 rounded-full flex items-center justify-center mb-4 backdrop-blur-sm"
                >
                  <i class="fas fa-battery-full text-3xl"></i>
                </div>
                <h3 class="text-2xl font-bold">NƒÉng L∆∞·ª£ng</h3>
                <p class="mt-2 text-white/80">Pin & Acquy</p>
              </div>
              <!-- Back -->
              <div
                class="absolute inset-0 bg-white dark:bg-slate-800 rounded-2xl shadow-xl flex flex-col items-center justify-center p-8 [transform:rotateY(180deg)] [backface-visibility:hidden] border dark:border-slate-700"
              >
                <h4 class="font-bold text-orange-600 mb-2">
                  C∆° ch·∫ø Pin ƒêi·ªán Ho√°
                </h4>
                <p
                  class="text-center text-sm text-slate-600 dark:text-slate-300 leading-relaxed"
                >
                  D√≤ng ƒëi·ªán sinh ra nh·ªù s·ª± d·ªãch chuy·ªÉn electron t·ª´ c·ª±c √¢m (Anot
                  - qu√° tr√¨nh oxi ho√°) sang c·ª±c d∆∞∆°ng (Catot - qu√° tr√¨nh kh·ª≠)
                  qua d√¢y d·∫´n.
                </p>
              </div>
            </div>
          </div>

          <!-- Card 2 -->
          <div class="group h-72 perspective">
            <div
              class="relative w-full h-full transition-all duration-700 [transform-style:preserve-3d] group-hover:[transform:rotateY(180deg)] cursor-pointer"
            >
              <div
                class="absolute inset-0 bg-gradient-to-br from-slate-500 to-slate-700 rounded-2xl shadow-xl flex flex-col items-center justify-center text-white p-6 [backface-visibility:hidden]"
              >
                <div
                  class="w-16 h-16 bg-white/20 rounded-full flex items-center justify-center mb-4 backdrop-blur-sm"
                >
                  <i class="fas fa-rust text-3xl"></i>
                </div>
                <h3 class="text-2xl font-bold">ƒÇn M√≤n</h3>
                <p class="mt-2 text-white/80">Oxi ho√° kim lo·∫°i</p>
              </div>
              <div
                class="absolute inset-0 bg-white dark:bg-slate-800 rounded-2xl shadow-xl flex flex-col items-center justify-center p-8 [transform:rotateY(180deg)] [backface-visibility:hidden] border dark:border-slate-700"
              >
                <h4 class="font-bold text-slate-600 dark:text-slate-400 mb-2">
                  K·∫ª th√π c·ªßa c√¥ng tr√¨nh
                </h4>
                <p
                  class="text-center text-sm text-slate-600 dark:text-slate-300 leading-relaxed"
                >
                  Kim lo·∫°i b·ªã oxi ho√° b·ªüi m√¥i tr∆∞·ªùng. V√≠ d·ª•: S·∫Øt th√†nh r·ªâ s·∫Øt
                  (\(Fe_2O_3.nH_2O\)). Bi·ªán ph√°p ch·ªëng ƒÉn m√≤n (s∆°n, m·∫°) th·ª±c
                  ch·∫•t l√† ngƒÉn c·∫£n ph·∫£n ·ª©ng redox.
                </p>
              </div>
            </div>
          </div>

          <!-- Card 3 -->
          <div class="group h-72 perspective">
            <div
              class="relative w-full h-full transition-all duration-700 [transform-style:preserve-3d] group-hover:[transform:rotateY(180deg)] cursor-pointer"
            >
              <div
                class="absolute inset-0 bg-gradient-to-br from-emerald-500 to-teal-700 rounded-2xl shadow-xl flex flex-col items-center justify-center text-white p-6 [backface-visibility:hidden]"
              >
                <div
                  class="w-16 h-16 bg-white/20 rounded-full flex items-center justify-center mb-4 backdrop-blur-sm"
                >
                  <i class="fas fa-leaf text-3xl"></i>
                </div>
                <h3 class="text-2xl font-bold">S·ª± S·ªëng</h3>
                <p class="mt-2 text-white/80">Quang h·ª£p & H√¥ h·∫•p</p>
              </div>
              <div
                class="absolute inset-0 bg-white dark:bg-slate-800 rounded-2xl shadow-xl flex flex-col items-center justify-center p-8 [transform:rotateY(180deg)] [backface-visibility:hidden] border dark:border-slate-700"
              >
                <h4 class="font-bold text-emerald-600 mb-2">
                  B·∫£n ch·∫•t s·ª± s·ªëng
                </h4>
                <p
                  class="text-center text-sm text-slate-600 dark:text-slate-300 leading-relaxed"
                >
                  Quang h·ª£p: \(CO_2\) b·ªã kh·ª≠ ƒë·ªÉ t·∫°o ƒë∆∞·ªùng. <br />
                  H√¥ h·∫•p: ƒê∆∞·ªùng b·ªã oxi ho√° ƒë·ªÉ sinh nƒÉng l∆∞·ª£ng cho c∆° th·ªÉ ho·∫°t
                  ƒë·ªông. T·∫•t c·∫£ l√† chu·ªói ph·∫£n ·ª©ng oxi ho√° kh·ª≠ ph·ª©c t·∫°p.
                </p>
              </div>
            </div>
          </div>
        </div>
      </section>
    </main>

    <!-- Quiz Modal -->
    <div id="quiz-modal" class="fixed inset-0 z-[100] hidden">
      <div
        class="absolute inset-0 bg-black/60 backdrop-blur-sm"
        onclick="closeQuiz()"
      ></div>
      <div
        class="absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-full max-w-lg p-4"
      >
        <div
          class="bg-white dark:bg-slate-800 rounded-2xl shadow-2xl overflow-hidden flex flex-col max-h-[90vh]"
        >
          <div
            class="bg-gradient-to-r from-blue-600 to-indigo-600 p-6 text-white flex justify-between items-center"
          >
            <h3 class="text-xl font-bold">
              <i class="fas fa-clipboard-check mr-2"></i> Tr·∫Øc Nghi·ªám Nhanh
            </h3>
            <button
              onclick="closeQuiz()"
              class="hover:bg-white/20 p-2 rounded-full transition"
            >
              <i class="fas fa-times"></i>
            </button>
          </div>

          <div class="p-6 overflow-y-auto" id="quiz-content">
            <!-- Quiz Logic Here -->
            <div id="quiz-question-container">
              <div
                class="mb-4 flex justify-between text-sm font-bold text-slate-500"
              >
                <span id="quiz-progress">C√¢u 1/5</span>
                <span id="quiz-score">ƒêi·ªÉm: 0</span>
              </div>
              <h4
                id="question-text"
                class="text-lg font-bold mb-6 text-slate-800 dark:text-white leading-relaxed"
              >
                ...
              </h4>
              <div class="space-y-3" id="options-container">
                <!-- Options -->
              </div>
            </div>

            <div id="quiz-result" class="hidden text-center py-8">
              <div class="text-6xl mb-4">üèÜ</div>
              <h3 class="text-2xl font-bold mb-2">Ho√†n Th√†nh!</h3>
              <p class="text-slate-600 dark:text-slate-400 mb-6">
                B·∫°n ƒë√£ tr·∫£ l·ªùi ƒë√∫ng
                <span id="final-score" class="font-bold text-blue-600 text-xl"
                  >0</span
                >
                c√¢u.
              </p>
              <button
                onclick="restartQuiz()"
                class="bg-blue-600 text-white px-6 py-3 rounded-xl font-bold hover:bg-blue-700 transition"
              >
                L√†m l·∫°i
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <footer
      class="bg-slate-900 text-slate-400 py-12 mt-20 border-t border-slate-800"
    >
      <div class="max-w-7xl mx-auto px-4 text-center">
        <p class="mb-4 text-slate-500">
          N·ªôi dung ƒë∆∞·ª£c t·ªïng h·ª£p theo chu·∫©n ki·∫øn th·ª©c H√≥a H·ªçc 10 - Ch∆∞∆°ng tr√¨nh
          m·ªõi.
        </p>
        <p>&copy; 2025 AI Education. Learning made interactive.</p>
      </div>
    </footer>

    <!-- Scripts -->
    <script>
      // --- Dark Mode ---
      function toggleDarkMode() {
        document.documentElement.classList.toggle("dark");
      }
      if (
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches
      ) {
        document.documentElement.classList.add("dark");
      }

      function scrollToSection(id) {
        document
          .getElementById(id)
          .scrollIntoView({ behavior: "smooth", block: "start" });
      }

      // --- Practice Logic ---
      const practiceData = [
        { c: "H‚ÇÇS", t: "S", a: -2 },
        { c: "KMnO‚ÇÑ", t: "Mn", a: 7 },
        { c: "NH‚ÇÑ‚Å∫", t: "N", a: -3 },
        { c: "K‚ÇÇCr‚ÇÇO‚Çá", t: "Cr", a: 6 },
        { c: "H‚ÇÇO‚ÇÇ", t: "O", a: -1 },
        { c: "NaH", t: "H", a: -1 },
      ];

      function renderPractice() {
        const container = document.getElementById("practice-container");
        container.innerHTML = "";
        practiceData.forEach((item, index) => {
          const div = document.createElement("div");
          div.className =
            "flex items-center justify-between bg-white/10 p-3 rounded hover:bg-white/20 transition";
          div.innerHTML = `
                    <span class="font-mono font-bold">${item.c} (${item.t})</span>
                    <div class="flex gap-2">
                        <input type="number" id="ans-${index}" class="w-16 p-1 rounded text-center text-slate-800 font-bold focus:outline-none focus:ring-2 focus:ring-yellow-400" placeholder="?">
                        <button onclick="checkPractice(${index})" class="w-8 h-8 bg-white text-indigo-600 rounded flex items-center justify-center font-bold hover:bg-yellow-400 hover:text-white transition"><i class="fas fa-check"></i></button>
                    </div>
                `;
          container.appendChild(div);
        });
      }
      function checkPractice(i) {
        const input = document.getElementById(`ans-${i}`);
        const fb = document.getElementById("practice-feedback");
        const val = parseInt(input.value);
        if (val === practiceData[i].a) {
          input.classList.add("bg-green-100", "text-green-700");
          fb.innerHTML = `<span class="text-green-200"><i class="fas fa-check-circle"></i> Ch√≠nh x√°c! ${
            practiceData[i].c
          } c√≥ ${practiceData[i].t} = ${val > 0 ? "+" : ""}${val}</span>`;
        } else {
          input.classList.add("bg-red-100", "text-red-700");
          fb.innerHTML = `<span class="text-red-200"><i class="fas fa-times-circle"></i> Sai r·ªìi. ƒê√°p √°n l√† ${practiceData[i].a}</span>`;
        }
      }
      renderPractice();

      // --- Animation Logic ---
      function triggerTransfer() {
        const electron = document.getElementById("electron-dot");
        const atomFe = document.getElementById("atom-fe");
        const atomCu = document.getElementById("atom-cu");

        electron.style.display = "block";
        electron.style.transition = "none";
        electron.style.left = "10%"; // Start

        // Text reset
        atomFe.innerHTML = "Fe";
        atomCu.innerHTML = "Cu<sup>2+</sup>";
        atomFe.style.transform = "scale(1)";
        atomCu.style.transform = "scale(1)";

        setTimeout(() => {
          electron.style.transition = "all 1.5s cubic-bezier(0.45, 0, 0.55, 1)";
          electron.style.left = "90%"; // End

          // Atom effects timing
          setTimeout(() => {
            atomFe.style.transform = "scale(0.9)";
            atomFe.innerHTML = "Fe<sup>2+</sup>";
            atomFe.classList.add("ring-4", "ring-green-400");
            setTimeout(
              () => atomFe.classList.remove("ring-4", "ring-green-400"),
              500
            );
          }, 200);

          setTimeout(() => {
            atomCu.style.transform = "scale(1.1)";
            atomCu.innerHTML = "Cu";
            atomCu.classList.add("ring-4", "ring-red-400");
            electron.style.display = "none";
            setTimeout(
              () => atomCu.classList.remove("ring-4", "ring-red-400"),
              500
            );
          }, 1400);
        }, 100);
      }

      // --- Tab Logic ---
      function switchTab(tabId) {
        document
          .querySelectorAll(".tab-content")
          .forEach((el) => el.classList.add("hidden"));
        document.getElementById(tabId).classList.remove("hidden");

        document.querySelectorAll(".tab-btn").forEach((el) => {
          el.classList.remove("active", "border-blue-500", "text-blue-600");
          el.classList.add("border-transparent", "text-slate-500");
        });

        const activeBtn = document.getElementById(
          tabId === "method-1" ? "tab-1" : "tab-2"
        );
        activeBtn.classList.add("active"); // CSS class handles the rest
      }

      // --- Wizard Logic ---
      const steps = [
        {
          t: "B∆∞·ªõc 1: X√°c ƒë·ªãnh s·ªë OXH",
          h: `Fe \(\rightarrow\) Fe\(^{+3}\) v√† Mn\(^{+7}\) \(\rightarrow\) Mn\(^{+2}\)`,
        },
        {
          t: "B∆∞·ªõc 2: Vi·∫øt b√°n ph·∫£n ·ª©ng",
          h: `<div class="grid grid-cols-2 gap-4"><div class="text-red-600 font-bold">Oxi ho√°: \(Fe \rightarrow Fe^{+3} + 3e\) <br><span class="text-xs text-slate-400">(Sai! Fe l√™n +3 m·∫•t 1e t·ª´ Fe+2 ƒë·ªÅ b√†i)</span><br>Ch·ªânh l·∫°i: \(Fe^{+2} \rightarrow Fe^{+3} + 1e\)</div><div class="text-green-600 font-bold">Kh·ª≠: \(Mn^{+7} + 5e \rightarrow Mn^{+2}\)</div></div>`,
        },
        {
          t: "B∆∞·ªõc 3: ThƒÉng b·∫±ng e",
          h: `Nh√¢n ch√©o h·ªá s·ªë:<br>x5 cho qu√° tr√¨nh Fe<br>x1 cho qu√° tr√¨nh Mn<br>T·ªïng e cho = T·ªïng e nh·∫≠n = 5`,
        },
        {
          t: "B∆∞·ªõc 4: ƒê·∫∑t h·ªá s·ªë",
          h: `\(5Fe^{2+} + 1MnO_4^- + \dots \rightarrow 5Fe^{3+} + 1Mn^{2+} + \dots\)`,
        },
        {
          t: "B∆∞·ªõc 5: Ho√†n thi·ªán (H, O)",
          h: `C√¢n b·∫±ng Oxi: V·∫ø tr√°i 4 O \(\rightarrow\) V·∫ø ph·∫£i 4 \(H_2O\)<br>C√¢n b·∫±ng Hidro: V·∫ø ph·∫£i \(4 \times 2 = 8H\) \(\rightarrow\) V·∫ø tr√°i 8 \(H^+\)<br><strong class="text-blue-600">KQ: \(5Fe^{2+} + MnO_4^- + 8H^+ \rightarrow 5Fe^{3+} + Mn^{2+} + 4H_2O\)</strong>`,
        },
      ];
      let currentStep = 0;
      function renderStep() {
        document.getElementById("step-counter").innerText = `B∆Ø·ªöC ${
          currentStep + 1
        }/${steps.length}`;
        document.getElementById("step-content").innerHTML = `
                <h4 class="text-xl font-bold mb-4 text-slate-800 dark:text-white">${steps[currentStep].t}</h4>
                <div class="text-lg text-slate-600 dark:text-slate-300">${steps[currentStep].h}</div>
            `;
        if (window.MathJax) MathJax.typesetPromise();
      }
      function nextStep() {
        if (currentStep < steps.length - 1) {
          currentStep++;
          renderStep();
        }
      }
      function prevStep() {
        if (currentStep > 0) {
          currentStep--;
          renderStep();
        }
      }
      renderStep();

      // --- Quiz System ---
      const quizQuestions = [
        {
          q: "S·ªë oxi ho√° c·ªßa Oxi trong h·ª£p ch·∫•t H‚ÇÇO‚ÇÇ l√† bao nhi√™u?",
          o: ["-2", "-1", "+1", "0"],
          a: 1,
        },
        {
          q: "Qu√° tr√¨nh Oxi ho√° l√† qu√° tr√¨nh...?",
          o: [
            "Nh·∫≠n electron",
            "Nh∆∞·ªùng electron",
            "Gi·ªØ nguy√™n electron",
            "K·∫øt h·ª£p v·ªõi Hidro",
          ],
          a: 1,
        },
        {
          q: "Trong ph·∫£n ·ª©ng: Zn + Cu¬≤‚Å∫ ‚Üí Zn¬≤‚Å∫ + Cu. Ch·∫•t n√†o l√† ch·∫•t kh·ª≠?",
          o: ["Zn", "Cu¬≤‚Å∫", "Zn¬≤‚Å∫", "Cu"],
          a: 0,
        },
        {
          q: "Ph·∫£n ·ª©ng n√†o sau ƒë√¢y LU√îN l√† ph·∫£n ·ª©ng oxi ho√° - kh·ª≠?",
          o: ["Trao ƒë·ªïi", "Trung ho√†", "ƒêi·ªán ph√¢n", "Ph√¢n hu·ª∑"],
          a: 2,
        },
        {
          q: "S·ªë oxi ho√° c·ªßa Mn trong ion MnO‚ÇÑ‚Åª l√†?",
          o: ["+5", "+6", "+7", "+4"],
          a: 2,
        },
      ];
      let quizIndex = 0;
      let score = 0;

      function openQuiz() {
        document.getElementById("quiz-modal").classList.remove("hidden");
        restartQuiz();
      }
      function closeQuiz() {
        document.getElementById("quiz-modal").classList.add("hidden");
      }

      function restartQuiz() {
        quizIndex = 0;
        score = 0;
        document.getElementById("quiz-result").classList.add("hidden");
        document
          .getElementById("quiz-question-container")
          .classList.remove("hidden");
        showQuestion();
      }

      function showQuestion() {
        const q = quizQuestions[quizIndex];
        document.getElementById("quiz-progress").innerText = `C√¢u ${
          quizIndex + 1
        }/${quizQuestions.length}`;
        document.getElementById("quiz-score").innerText = `ƒêi·ªÉm: ${score}`;
        document.getElementById("question-text").innerText = q.q;

        const opts = document.getElementById("options-container");
        opts.innerHTML = "";
        q.o.forEach((opt, idx) => {
          const btn = document.createElement("button");
          btn.className =
            "quiz-option w-full text-left p-4 rounded-xl border border-slate-200 dark:border-slate-700 hover:bg-blue-50 dark:hover:bg-slate-700 hover:border-blue-500 transition flex items-center group";
          btn.innerHTML = `<span class="w-8 h-8 rounded-full bg-slate-100 dark:bg-slate-600 text-slate-500 dark:text-slate-300 flex items-center justify-center mr-3 font-bold group-hover:bg-blue-500 group-hover:text-white transition">${String.fromCharCode(
            65 + idx
          )}</span> ${opt}`;
          btn.onclick = () => handleAnswer(idx);
          opts.appendChild(btn);
        });
      }

      function handleAnswer(idx) {
        if (idx === quizQuestions[quizIndex].a) score++;
        quizIndex++;
        if (quizIndex < quizQuestions.length) {
          showQuestion();
        } else {
          showResult();
        }
      }

      function showResult() {
        document
          .getElementById("quiz-question-container")
          .classList.add("hidden");
        document.getElementById("quiz-result").classList.remove("hidden");
        document.getElementById(
          "final-score"
        ).innerText = `${score}/${quizQuestions.length}`;
      }
    </script>
  </body>
</html>
