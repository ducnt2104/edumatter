<!doctype html>
<html lang="vi" class="dark">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Chuy√™n ƒë·ªÅ: Ph·∫£n ·ª®ng Oxi H√≥a - Kh·ª≠ | ChemStudy Expert</title>

    <!-- FAVICON (As requested) -->
    <link rel="icon" type="image/svg+xml" href="../../../favicon/educhem.avg" />

    <!-- TAILWIND CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- FONT AWESOME -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />

    <!-- GOOGLE FONTS -->
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Space+Grotesk:wght@500;700&display=swap"
      rel="stylesheet"
    />

    <!-- CONFIG TAILWIND -->
    <script>
      tailwind.config = {
        darkMode: "class",
        theme: {
          extend: {
            fontFamily: {
              sans: ["Inter", "sans-serif"],
              display: ["Space Grotesk", "sans-serif"],
            },
            colors: {
              science: {
                50: "#f0f9ff",
                100: "#e0f2fe",
                500: "#0ea5e9",
                600: "#0284c7",
                900: "#0c4a6e",
              },
              atom: {
                nucleus: "#ef4444",
                electron: "#3b82f6",
                shell: "#94a3b8",
              },
            },
            animation: {
              float: "floating 3s ease-in-out infinite",
              "spin-slow": "spin 8s linear infinite",
              "pulse-glow":
                "pulseGlow 2s cubic-bezier(0.4, 0, 0.6, 1) infinite",
              "electron-orbit": "orbit 4s linear infinite",
            },
            keyframes: {
              floating: {
                "0%, 100%": { transform: "translateY(0)" },
                "50%": { transform: "translateY(-10px)" },
              },
              pulseGlow: {
                "0%, 100%": {
                  opacity: 1,
                  boxShadow: "0 0 20px rgba(59, 130, 246, 0.5)",
                },
                "50%": {
                  opacity: 0.7,
                  boxShadow: "0 0 10px rgba(59, 130, 246, 0.2)",
                },
              },
              orbit: {
                "0%": {
                  transform: "rotate(0deg) translateX(50px) rotate(0deg)",
                },
                "100%": {
                  transform: "rotate(360deg) translateX(50px) rotate(-360deg)",
                },
              },
            },
          },
        },
      };
    </script>

    <!-- CUSTOM CSS (Including Footer Styles provided) -->
    <style>
      /* BASE STYLES & VARIABLES */
      :root {
        --footer-bg: #0f172a;
        --footer-text: #e2e8f0;
        --p-primary: #3b82f6;
        --neon-blue: #00f3ff;
        --neon-purple: #bc13fe;
      }

      html.dark :root {
        --footer-bg: #020617;
      }

      body {
        scroll-behavior: smooth;
      }

      /* CUSTOM SCROLLBAR */
      ::-webkit-scrollbar {
        width: 10px;
      }
      ::-webkit-scrollbar-track {
        background: #1e293b;
      }
      ::-webkit-scrollbar-thumb {
        background: #3b82f6;
        border-radius: 5px;
      }
      ::-webkit-scrollbar-thumb:hover {
        background: #2563eb;
      }

      /* GLASSMORPHISM CARD */
      .glass-card {
        background: rgba(255, 255, 255, 0.7);
        -webkit-backdrop-filter: blur(12px);
        backdrop-filter: blur(12px);
        border: 1px solid rgba(255, 255, 255, 0.3);
        -webkit-transition: all 0.3s ease;
        -o-transition: all 0.3s ease;
        transition: all 0.3s ease;
      }
      .dark .glass-card {
        background: rgba(30, 41, 59, 0.6);
        border: 1px solid rgba(255, 255, 255, 0.05);
      }
      .glass-card:hover {
        -webkit-transform: translateY(-5px);
        -ms-transform: translateY(-5px);
        transform: translateY(-5px);
        -webkit-box-shadow: 0 10px 30px -10px rgba(0, 0, 0, 0.3);
        box-shadow: 0 10px 30px -10px rgba(0, 0, 0, 0.3);
      }

      /* TEXT GRADIENT */
      .text-gradient {
        background-clip: text;
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-image: linear-gradient(to right, #3b82f6, #8b5cf6, #ec4899);
      }

      /* SIMULATION CONTAINERS */
      .sim-container {
        position: relative;
        border-radius: 1rem;
        overflow: hidden;
        background: radial-gradient(circle at center, #1e293b 0%, #0f172a 100%);
        box-shadow: inset 0 0 50px rgba(0, 0, 0, 0.5);
      }

      .chem-btn {
        @apply px-4 py-2 rounded-lg font-bold transition-all duration-200 transform hover:scale-105 active:scale-95;
      }

      /* ANIMATION UTILS */
      .floating {
        animation: floating 3s ease-in-out infinite;
      }

      /* FOOTER & BUTTON STYLES (EXACTLY AS PROVIDED) */
      footer {
        background: var(--footer-bg);
        color: var(--footer-text);
        padding: 100px 5% 40px;
        position: relative;
        overflow: hidden;
        transition:
          background-color 0.8s ease,
          color 0.8s ease;
      }
      .footer-waves {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 60px;
        background: var(--footer-bg);
        clip-path: polygon(
          0% 45%,
          16% 44%,
          33% 50%,
          54% 60%,
          70% 61%,
          84% 59%,
          100% 52%,
          100% 100%,
          0% 100%
        );
        transition: background-color 0.8s;
      }
      .footer-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        gap: 60px;
        max-width: 1200px;
        margin: 0 auto;
      }
      .footer-brand h2 {
        font-family: "Space Grotesk", sans-serif;
        font-size: 2rem;
        margin-bottom: 20px;
      }
      .footer-links h4,
      h3 {
        margin-bottom: 25px;
        text-transform: uppercase;
        letter-spacing: 2px;
        color: var(--p-primary);
      }
      .contact-item {
        margin-bottom: 15px;
        display: flex;
        align-items: center;
        gap: 15px;
        color: #94a3b8;
        transition: 0.3s;
      }
      .contact-item i {
        color: var(--p-primary);
      }
      .contact-item:hover {
        color: white;
        transform: translateX(5px);
      }
      .icon-btn {
        color: #94a3b8;
        font-size: 1.2rem;
        transition: 0.3s;
      }
      .icon-btn:hover {
        color: white;
        transform: scale(1.1);
      }
      .copyright {
        margin-top: 80px;
        text-align: center;
        padding-top: 30px;
        border-top: 1px solid rgba(255, 255, 255, 0.05);
        color: #475569;
        font-size: 0.9rem;
      }

      /* Interactive Elements Highlighting */
      .highlight-element {
        border: 2px solid #ec4899;
        box-shadow: 0 0 15px #ec4899;
      }

      /* Draggable Items */
      .draggable {
        cursor: grab;
      }
      .draggable:active {
        cursor: grabbing;
      }

      /* Custom Quiz Styles */
      .quiz-option {
        transition: all 0.2s;
      }
      .quiz-option:hover {
        background-color: rgba(59, 130, 246, 0.1);
      }
      .quiz-option.selected {
        border-color: #3b82f6;
        background-color: rgba(59, 130, 246, 0.2);
      }
      .quiz-option.correct {
        border-color: #22c55e;
        background-color: rgba(34, 197, 94, 0.2);
      }
      .quiz-option.wrong {
        border-color: #ef4444;
        background-color: rgba(239, 68, 68, 0.2);
      }
    </style>
  </head>
  <body
    class="bg-gray-50 text-gray-800 dark:bg-slate-900 dark:text-gray-100 transition-colors duration-300"
  >
    <!-- üîπ HEADER -->
    <header
      class="fixed top-0 w-full z-50 bg-white/80 dark:bg-slate-900/80 backdrop-blur-md border-b border-gray-200 dark:border-slate-700 transition-all duration-300"
    >
      <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="flex justify-between items-center h-20">
          <!-- Logo -->
          <div
            class="flex items-center gap-3 cursor-pointer group"
            onclick="window.scrollTo(0, 0)"
          >
            <div
              class="w-10 h-10 rounded-full bg-gradient-to-br from-blue-500 to-green-500 flex items-center justify-center text-white font-bold text-xl shadow-lg group-hover:shadow-blue-500/50 transition-all"
            >
              <i class="fas fa-atom text-2xl group-hover:animate-spin"></i>
            </div>
            <span
              class="font-display font-bold text-2xl tracking-tight text-gray-900 dark:text-white"
            >
              ChemStudy <span class="text-blue-500">Expert</span>
            </span>
          </div>

          <!-- Desktop Menu -->
          <nav class="hidden md:flex space-x-8">
            <a
              href="#section-1"
              class="text-gray-600 dark:text-gray-300 hover:text-blue-500 dark:hover:text-blue-400 font-medium transition-colors"
              >S·ªë Oxi H√≥a</a
            >
            <a
              href="#section-2"
              class="text-gray-600 dark:text-gray-300 hover:text-blue-500 dark:hover:text-blue-400 font-medium transition-colors"
              >P∆Ø Oxi H√≥a - Kh·ª≠</a
            >
            <a
              href="#section-3"
              class="text-gray-600 dark:text-gray-300 hover:text-blue-500 dark:hover:text-blue-400 font-medium transition-colors"
              >C√¢n B·∫±ng</a
            >
            <a
              href="#section-4"
              class="text-gray-600 dark:text-gray-300 hover:text-blue-500 dark:hover:text-blue-400 font-medium transition-colors"
              >·ª®ng D·ª•ng</a
            >
            <a
              href="#section-quiz"
              class="text-gray-600 dark:text-gray-300 hover:text-blue-500 dark:hover:text-blue-400 font-medium transition-colors"
              >Luy·ªán T·∫≠p</a
            >
          </nav>

          <!-- Theme Toggle -->
          <button
            id="theme-toggle"
            class="p-2 rounded-full bg-gray-200 dark:bg-slate-700 text-gray-700 dark:text-yellow-400 hover:scale-110 transition-transform focus:outline-none"
          >
            <i class="fas fa-moon dark:hidden"></i>
            <i class="fas fa-sun hidden dark:block"></i>
          </button>
        </div>
      </div>
    </header>

    <!-- üîπ HERO SECTION -->
    <section class="relative pt-32 pb-20 lg:pt-40 lg:pb-28 overflow-hidden">
      <!-- Background Elements -->
      <div class="absolute top-0 left-0 w-full h-full overflow-hidden -z-10">
        <div
          class="absolute top-1/4 left-1/4 w-72 h-72 bg-blue-500/20 rounded-full blur-3xl mix-blend-screen animate-pulse"
        ></div>
        <div
          class="absolute bottom-1/4 right-1/4 w-96 h-96 bg-purple-500/20 rounded-full blur-3xl mix-blend-screen animate-pulse"
          style="animation-delay: 1s"
        ></div>
        <!-- Custom Particles (Generated by JS below) -->
        <canvas
          id="hero-particles"
          class="absolute inset-0 w-full h-full opacity-30"
        ></canvas>
      </div>

      <div class="max-w-7xl mx-auto px-4 text-center">
        <span
          class="inline-block py-1 px-3 rounded-full bg-blue-100 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400 text-sm font-bold mb-4 tracking-wider uppercase"
          >Ch∆∞∆°ng 4: H√≥a H·ªçc 10</span
        >
        <h1
          class="text-5xl md:text-7xl font-display font-bold mb-6 leading-tight"
        >
          Ph·∫£n ·ª®ng <br />
          <span class="text-gradient">Oxi H√≥a ‚Äì Kh·ª≠</span>
        </h1>
        <p
          class="text-xl text-gray-600 dark:text-gray-300 max-w-2xl mx-auto mb-10 leading-relaxed"
        >
          Kh√°m ph√° b·∫£n ch·∫•t c·ªßa s·ª± chuy·ªÉn d·ªãch electron. T·ª´ pin nƒÉng l∆∞·ª£ng ƒë·∫øn
          qu√° tr√¨nh g·ªâ s√©t, hi·ªÉu r√µ quy lu·∫≠t ƒë·ªÉ l√†m ch·ªß th·∫ø gi·ªõi v·∫≠t ch·∫•t.
        </p>
        <a
          href="#section-1"
          class="inline-flex items-center gap-2 px-8 py-4 bg-gradient-to-r from-blue-600 to-indigo-600 text-white rounded-full font-bold text-lg shadow-lg shadow-blue-500/30 hover:shadow-blue-500/50 transform hover:-translate-y-1 transition-all"
        >
          V√†o B√†i H·ªçc <i class="fas fa-arrow-right ml-2"></i>
        </a>
      </div>
    </section>

    <!-- MAIN CONTENT -->
    <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 space-y-24">
      <!-- ================= SECTION I: S·ªê OXI H√ìA ================= -->
      <section id="section-1" class="scroll-mt-24">
        <div class="flex items-center gap-4 mb-8">
          <div
            class="w-12 h-12 rounded-xl bg-blue-500 flex items-center justify-center text-white text-2xl font-bold shadow-lg"
          >
            I
          </div>
          <h2
            class="text-3xl md:text-4xl font-display font-bold text-gray-900 dark:text-white"
          >
            S·ªë Oxi H√≥a
          </h2>
        </div>

        <!-- A. L√ù THUY·∫æT -->
        <div class="grid md:grid-cols-2 gap-8 mb-12">
          <div
            class="glass-card p-8 rounded-2xl relative overflow-hidden group"
          >
            <div
              class="absolute top-0 right-0 p-4 opacity-10 group-hover:opacity-20 transition-opacity"
            >
              <i class="fas fa-book text-8xl"></i>
            </div>
            <h3
              class="text-xl font-bold mb-4 text-blue-500 flex items-center gap-2"
            >
              <i class="fas fa-star"></i> Kh√°i Ni·ªám & B·∫£n Ch·∫•t
            </h3>
            <ul class="space-y-3 text-gray-700 dark:text-gray-300">
              <li class="flex items-start gap-3">
                <i class="fas fa-check-circle mt-1 text-green-500"></i>
                <span
                  ><strong>ƒê·ªãnh nghƒ©a:</strong> ƒêi·ªán t√≠ch quy ∆∞·ªõc c·ªßa nguy√™n t·ª≠
                  khi gi·∫£ ƒë·ªãnh t·∫•t c·∫£ electron li√™n k·∫øt chuy·ªÉn v·ªÅ nguy√™n t·ª≠ c√≥
                  ƒë·ªô √¢m ƒëi·ªán l·ªõn h∆°n.</span
                >
              </li>
              <li class="flex items-start gap-3">
                <i class="fas fa-pen mt-1 text-purple-500"></i>
                <span
                  ><strong>C√°ch vi·∫øt:</strong> S·ªë ƒë·∫°i s·ªë, d·∫•u tr∆∞·ªõc s·ªë sau, vi·∫øt
                  tr√™n ƒë·∫ßu (v√≠ d·ª•:
                  <span
                    class="font-mono bg-gray-200 dark:bg-slate-700 px-1 rounded"
                    >N<sup>+5</sup></span
                  >).</span
                >
              </li>
              <li class="flex items-start gap-3">
                <i class="fas fa-atom mt-1 text-orange-500"></i>
                <span
                  ><strong>B·∫£n ch·∫•t:</strong> L√† c√¥ng c·ª• gi·∫£ ƒë·ªãnh ƒë·ªÉ thu·∫≠n ti·ªán
                  t√≠nh to√°n s·ª± cho nh·∫≠n electron.</span
                >
              </li>
            </ul>
          </div>

          <div class="glass-card p-8 rounded-2xl">
            <h3
              class="text-xl font-bold mb-4 text-green-500 flex items-center gap-2"
            >
              <i class="fas fa-list-ol"></i> 4 Quy T·∫Øc X√°c ƒê·ªãnh
            </h3>
            <div class="space-y-4">
              <div
                class="p-3 bg-white/50 dark:bg-slate-800/50 rounded-lg border-l-4 border-blue-500"
              >
                <strong>QT 1:</strong> ƒê∆°n ch·∫•t lu√¥n b·∫±ng 0 (Na‚Å∞, O‚ÇÇ‚Å∞).
              </div>
              <div
                class="p-3 bg-white/50 dark:bg-slate-800/50 rounded-lg border-l-4 border-green-500"
              >
                <strong>QT 2:</strong> H th∆∞·ªùng l√† +1, O th∆∞·ªùng l√† -2. Kim lo·∫°i
                nh√≥m IA (+1), IIA (+2).
              </div>
              <div
                class="p-3 bg-white/50 dark:bg-slate-800/50 rounded-lg border-l-4 border-purple-500"
              >
                <strong>QT 3:</strong> T·ªïng s·ªë oxi h√≥a trong ph√¢n t·ª≠ = 0.
              </div>
              <div
                class="p-3 bg-white/50 dark:bg-slate-800/50 rounded-lg border-l-4 border-orange-500"
              >
                <strong>QT 4:</strong> Ion ƒë∆°n = ƒëi·ªán t√≠ch. T·ªïng trong ion ƒëa =
                ƒëi·ªán t√≠ch ion.
              </div>
            </div>
          </div>
        </div>

        <!-- B. M√î PH·ªéNG T∆Ø∆†NG T√ÅC: CALCULATOR -->
        <div
          class="glass-card p-1 bg-gradient-to-r from-blue-500 via-purple-500 to-pink-500 rounded-2xl mb-12"
        >
          <div class="bg-white dark:bg-slate-900 rounded-xl p-6 md:p-8">
            <div class="flex items-center justify-between mb-6">
              <h3 class="text-2xl font-bold flex items-center gap-2">
                <i class="fas fa-calculator text-blue-500"></i> C√¥ng C·ª• T√≠nh S·ªë
                Oxi H√≥a
              </h3>
              <span
                class="text-xs font-mono px-2 py-1 bg-blue-100 dark:bg-blue-900 text-blue-600 rounded"
                >Interactive Tool v1.0</span
              >
            </div>

            <div class="grid md:grid-cols-2 gap-8 items-center">
              <div class="space-y-4">
                <p class="text-sm text-gray-500 dark:text-gray-400">
                  Ch·ªçn m·ªôt ch·∫•t ƒë·ªÉ xem c√°ch t√≠nh s·ªë oxi h√≥a c·ªßa nguy√™n t·ª≠ trung
                  t√¢m:
                </p>
                <div class="flex flex-wrap gap-2" id="calc-buttons">
                  <!-- Generated by JS -->
                </div>
                <div
                  class="mt-4 p-4 bg-gray-100 dark:bg-slate-800 rounded-lg min-h-[100px]"
                  id="calc-explanation"
                >
                  <p class="text-center text-gray-500 italic">
                    Ch·ªçn ch·∫•t ƒë·ªÉ xem ph√¢n t√≠ch...
                  </p>
                </div>
              </div>

              <!-- Visual Representation -->
              <div
                class="flex flex-col items-center justify-center p-6 bg-slate-100 dark:bg-slate-800 rounded-xl relative overflow-hidden"
                style="min-height: 250px"
              >
                <div
                  id="atom-visual"
                  class="relative w-full h-full flex items-center justify-center"
                >
                  <!-- SVG Atom will be injected here -->
                  <i
                    class="fas fa-atom text-6xl text-gray-300 animate-pulse"
                  ></i>
                </div>
                <div class="absolute bottom-2 right-2 text-xs text-gray-400">
                  M√¥ h√¨nh gi·∫£ ƒë·ªãnh
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- ================= SECTION II: PH·∫¢N ·ª®NG OXI H√ìA - KH·ª¨ ================= -->
      <section id="section-2" class="scroll-mt-24">
        <div class="flex items-center gap-4 mb-8">
          <div
            class="w-12 h-12 rounded-xl bg-purple-500 flex items-center justify-center text-white text-2xl font-bold shadow-lg"
          >
            II
          </div>
          <h2
            class="text-3xl md:text-4xl font-display font-bold text-gray-900 dark:text-white"
          >
            Ph·∫£n ·ª®ng Oxi H√≥a ‚Äì Kh·ª≠
          </h2>
        </div>

        <!-- A. L√ù THUY·∫æT -->
        <div class="glass-card p-8 rounded-2xl mb-8">
          <div class="grid md:grid-cols-2 gap-12">
            <div>
              <h3 class="text-xl font-bold mb-4 text-purple-400">
                ƒê·ªãnh Nghƒ©a C∆° B·∫£n
              </h3>
              <ul class="space-y-4">
                <li
                  class="flex items-center justify-between p-3 bg-red-50 dark:bg-red-900/20 rounded-lg border-l-4 border-red-500"
                >
                  <span
                    ><strong>Ch·∫•t Kh·ª≠ (B·ªã Oxi h√≥a):</strong> Nh∆∞·ªùng e ‚Üí S·ªë OXH
                    TƒÉng</span
                  >
                  <i class="fas fa-arrow-up text-red-500"></i>
                </li>
                <li
                  class="flex items-center justify-between p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg border-l-4 border-blue-500"
                >
                  <span
                    ><strong>Ch·∫•t Oxi h√≥a (B·ªã Kh·ª≠):</strong> Nh·∫≠n e ‚Üí S·ªë OXH
                    Gi·∫£m</span
                  >
                  <i class="fas fa-arrow-down text-blue-500"></i>
                </li>
              </ul>
              <div
                class="mt-6 p-4 bg-yellow-50 dark:bg-yellow-900/20 rounded-lg text-sm"
              >
                <p>
                  <strong>Th·∫ßn ch√∫:</strong> "Kh·ª≠ cho - O nh·∫≠n" (Ch·∫•t kh·ª≠ cho e,
                  ch·∫•t Oxi h√≥a nh·∫≠n e).
                </p>
              </div>
            </div>

            <div class="flex flex-col justify-center space-y-4">
              <h3 class="text-xl font-bold text-center">B·∫£n ch·∫•t ph·∫£n ·ª©ng</h3>
              <div
                class="relative h-40 bg-slate-200 dark:bg-slate-800 rounded-xl flex items-center justify-center gap-8 overflow-hidden"
              >
                <!-- Simple Animated Diagram -->
                <div class="flex flex-col items-center">
                  <div
                    class="w-12 h-12 rounded-full bg-red-500 flex items-center justify-center text-white font-bold border-4 border-red-300 z-10"
                  >
                    A
                  </div>
                  <span class="text-xs mt-2 font-bold text-red-500"
                    >Ch·∫•t Kh·ª≠</span
                  >
                </div>

                <!-- Electron moving -->
                <div
                  class="absolute w-4 h-4 rounded-full bg-yellow-400 shadow-[0_0_10px_#facc15] animate-[ping_1.5s_infinite]"
                  style="left: 45%"
                ></div>
                <i
                  class="fas fa-long-arrow-alt-right text-4xl text-gray-400"
                ></i>

                <div class="flex flex-col items-center">
                  <div
                    class="w-12 h-12 rounded-full bg-blue-500 flex items-center justify-center text-white font-bold border-4 border-blue-300 z-10"
                  >
                    B
                  </div>
                  <span class="text-xs mt-2 font-bold text-blue-500"
                    >Ch·∫•t OXH</span
                  >
                </div>
              </div>
              <p class="text-center text-sm text-gray-500">
                Electron chuy·ªÉn t·ª´ ch·∫•t kh·ª≠ sang ch·∫•t oxi h√≥a
              </p>
            </div>
          </div>
        </div>

        <!-- B. & C. M√î PH·ªéNG & TH√ç NGHI·ªÜM: MG + O2 -->
        <div class="sim-container rounded-2xl p-1 mb-12">
          <div
            class="bg-gray-900 rounded-xl p-4 md:p-8 text-white relative overflow-hidden"
          >
            <div
              class="absolute top-0 right-0 p-4 bg-white/10 rounded-bl-xl text-xs font-mono"
            >
              Sim: Electron Transfer v2.1
            </div>

            <h3 class="text-2xl font-bold mb-2">
              Th√≠ Nghi·ªám ·∫¢o: Ph·∫£n ·ª®ng Ch√°y C·ªßa Magnesium
            </h3>
            <p class="text-gray-400 mb-6 text-sm">
              Quan s√°t s·ª± chuy·ªÉn d·ªãch electron khi Mg t√°c d·ª•ng v·ªõi O‚ÇÇ t·∫°o MgO.
            </p>

            <!-- Simulation Canvas Area -->
            <div
              class="relative h-[350px] bg-black rounded-lg border border-slate-700 flex items-center justify-center"
              id="redox-sim-stage"
            >
              <!-- Atoms (Initially separated) -->
              <div
                id="atom-mg"
                class="absolute left-[20%] transition-all duration-1000 flex flex-col items-center group cursor-pointer"
              >
                <div
                  class="w-20 h-20 rounded-full border-2 border-slate-500 flex items-center justify-center relative bg-slate-800"
                >
                  <span class="font-bold text-xl">Mg</span>
                  <!-- Valence Electrons -->
                  <div
                    class="absolute -top-1 left-1/2 w-3 h-3 bg-blue-400 rounded-full shadow-[0_0_10px_#60a5fa] electron-1"
                  ></div>
                  <div
                    class="absolute -bottom-1 left-1/2 w-3 h-3 bg-blue-400 rounded-full shadow-[0_0_10px_#60a5fa] electron-2"
                  ></div>
                </div>
                <span class="mt-2 text-sm text-slate-400 label"
                  >Magnesium (0)</span
                >
              </div>

              <div
                id="atom-o"
                class="absolute right-[20%] transition-all duration-1000 flex flex-col items-center group cursor-pointer"
              >
                <div
                  class="w-16 h-16 rounded-full border-2 border-slate-500 flex items-center justify-center relative bg-slate-800"
                >
                  <span class="font-bold text-xl">O</span>
                </div>
                <span class="mt-2 text-sm text-slate-400 label"
                  >Oxygen (0)</span
                >
              </div>

              <!-- Energy Flash -->
              <div
                id="reaction-flash"
                class="absolute inset-0 bg-white opacity-0 pointer-events-none transition-opacity duration-300 z-50"
              ></div>
            </div>

            <!-- Controls -->
            <div class="mt-6 flex gap-4 justify-center">
              <button
                onclick="runRedoxSim()"
                class="chem-btn bg-green-600 hover:bg-green-500 text-white shadow-lg shadow-green-900/50"
              >
                <i class="fas fa-play mr-2"></i> B·∫Øt ƒë·∫ßu ph·∫£n ·ª©ng
              </button>
              <button
                onclick="resetRedoxSim()"
                class="chem-btn bg-gray-700 hover:bg-gray-600 text-white"
              >
                <i class="fas fa-undo mr-2"></i> L√†m l·∫°i
              </button>
            </div>

            <!-- Explanation Output -->
            <div
              id="redox-status"
              class="mt-4 text-center text-sm font-mono text-blue-300 h-6"
            >
              Tr·∫°ng th√°i: ƒêang ch·ªù...
            </div>
          </div>
        </div>
      </section>

      <!-- ================= SECTION III: C√ÇN B·∫∞NG PH·∫¢N ·ª®NG ================= -->
      <section id="section-3" class="scroll-mt-24">
        <div class="flex items-center gap-4 mb-8">
          <div
            class="w-12 h-12 rounded-xl bg-green-500 flex items-center justify-center text-white text-2xl font-bold shadow-lg"
          >
            III
          </div>
          <h2
            class="text-3xl md:text-4xl font-display font-bold text-gray-900 dark:text-white"
          >
            C√¢n B·∫±ng Ph·∫£n ·ª®ng
          </h2>
        </div>

        <!-- Theory Tabs -->
        <div class="mb-8">
          <div class="glass-card p-6 rounded-2xl">
            <h3 class="font-bold text-xl mb-4">
              Ph∆∞∆°ng ph√°p ThƒÉng B·∫±ng Electron
            </h3>
            <div class="grid grid-cols-1 md:grid-cols-4 gap-4 text-center">
              <div class="p-4 bg-white/50 dark:bg-slate-800 rounded-lg">
                <div class="text-2xl font-bold text-blue-500 mb-2">1</div>
                <p class="text-sm">X√°c ƒë·ªãnh s·ªë oxi h√≥a thay ƒë·ªïi</p>
              </div>
              <div class="p-4 bg-white/50 dark:bg-slate-800 rounded-lg">
                <div class="text-2xl font-bold text-green-500 mb-2">2</div>
                <p class="text-sm">Vi·∫øt qu√° tr√¨nh oxi h√≥a & kh·ª≠</p>
              </div>
              <div class="p-4 bg-white/50 dark:bg-slate-800 rounded-lg">
                <div class="text-2xl font-bold text-purple-500 mb-2">3</div>
                <p class="text-sm">
                  T√¨m h·ªá s·ªë (nh√¢n ch√©o) sao cho e cho = e nh·∫≠n
                </p>
              </div>
              <div class="p-4 bg-white/50 dark:bg-slate-800 rounded-lg">
                <div class="text-2xl font-bold text-orange-500 mb-2">4</div>
                <p class="text-sm">ƒê·∫∑t h·ªá s·ªë v√†o ph∆∞∆°ng tr√¨nh</p>
              </div>
            </div>
          </div>
        </div>

        <!-- SIMULATION: BALANCING GAME -->
        <div
          class="glass-card border-2 border-green-500/30 p-1 rounded-2xl overflow-hidden"
        >
          <div class="bg-slate-50 dark:bg-slate-900 p-6 md:p-8">
            <h3 class="text-2xl font-bold mb-2 flex items-center gap-2">
              <i class="fas fa-balance-scale text-green-500"></i> Mini-Game: C√¢n
              B·∫±ng Ph∆∞∆°ng Tr√¨nh
            </h3>
            <p class="mb-6 text-gray-600 dark:text-gray-400">
              ƒêi·ªÅu ch·ªânh h·ªá s·ªë ƒë·ªÉ c√¢n b·∫±ng s·ªë nguy√™n t·ª≠ ·ªü hai v·∫ø.
            </p>

            <div class="flex flex-col items-center space-y-8">
              <!-- Equation Display -->
              <div
                class="flex flex-wrap items-center justify-center gap-2 md:gap-4 text-xl md:text-3xl font-display font-bold p-6 bg-white dark:bg-slate-800 rounded-xl shadow-inner w-full"
              >
                <!-- Reactant 1: Al -->
                <div class="flex flex-col items-center gap-2">
                  <input
                    type="number"
                    min="1"
                    max="10"
                    value="1"
                    id="coef-al"
                    class="w-16 h-12 text-center border-2 border-blue-500 rounded-lg bg-transparent focus:outline-none focus:ring-2 focus:ring-blue-400"
                    onchange="updateBalance()"
                  />
                  <span class="text-blue-600">Al</span>
                </div>

                <span class="text-gray-400">+</span>

                <!-- Reactant 2: O2 -->
                <div class="flex flex-col items-center gap-2">
                  <input
                    type="number"
                    min="1"
                    max="10"
                    value="1"
                    id="coef-o2"
                    class="w-16 h-12 text-center border-2 border-blue-500 rounded-lg bg-transparent focus:outline-none focus:ring-2 focus:ring-blue-400"
                    onchange="updateBalance()"
                  />
                  <span class="text-blue-600">O‚ÇÇ</span>
                </div>

                <i class="fas fa-arrow-right text-gray-400 mx-2"></i>

                <!-- Product: Al2O3 -->
                <div class="flex flex-col items-center gap-2">
                  <input
                    type="number"
                    min="1"
                    max="10"
                    value="1"
                    id="coef-al2o3"
                    class="w-16 h-12 text-center border-2 border-purple-500 rounded-lg bg-transparent focus:outline-none focus:ring-2 focus:ring-purple-400"
                    onchange="updateBalance()"
                  />
                  <span class="text-purple-600">Al‚ÇÇO‚ÇÉ</span>
                </div>
              </div>

              <!-- Scale Visualizer -->
              <div class="w-full grid grid-cols-2 gap-8">
                <!-- Left Side Stats -->
                <div class="p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg">
                  <h4 class="font-bold text-center mb-2">
                    V·∫ø Tr√°i (Ch·∫•t tham gia)
                  </h4>
                  <div class="space-y-2">
                    <div class="flex justify-between">
                      <span>Al:</span>
                      <span id="count-left-al" class="font-bold">1</span>
                    </div>
                    <div class="w-full bg-gray-300 rounded-full h-2">
                      <div
                        id="bar-left-al"
                        class="bg-blue-500 h-2 rounded-full transition-all duration-500"
                        style="width: 10%"
                      ></div>
                    </div>

                    <div class="flex justify-between mt-2">
                      <span>O:</span>
                      <span id="count-left-o" class="font-bold">2</span>
                    </div>
                    <div class="w-full bg-gray-300 rounded-full h-2">
                      <div
                        id="bar-left-o"
                        class="bg-blue-500 h-2 rounded-full transition-all duration-500"
                        style="width: 20%"
                      ></div>
                    </div>
                  </div>
                </div>

                <!-- Right Side Stats -->
                <div class="p-4 bg-purple-50 dark:bg-purple-900/20 rounded-lg">
                  <h4 class="font-bold text-center mb-2">V·∫ø Ph·∫£i (S·∫£n ph·∫©m)</h4>
                  <div class="space-y-2">
                    <div class="flex justify-between">
                      <span>Al:</span>
                      <span id="count-right-al" class="font-bold">2</span>
                    </div>
                    <div class="w-full bg-gray-300 rounded-full h-2">
                      <div
                        id="bar-right-al"
                        class="bg-purple-500 h-2 rounded-full transition-all duration-500"
                        style="width: 20%"
                      ></div>
                    </div>

                    <div class="flex justify-between mt-2">
                      <span>O:</span>
                      <span id="count-right-o" class="font-bold">3</span>
                    </div>
                    <div class="w-full bg-gray-300 rounded-full h-2">
                      <div
                        id="bar-right-o"
                        class="bg-purple-500 h-2 rounded-full transition-all duration-500"
                        style="width: 30%"
                      ></div>
                    </div>
                  </div>
                </div>
              </div>

              <!-- Feedback -->
              <div
                id="balance-feedback"
                class="text-xl font-bold text-gray-400"
              >
                Ch∆∞a c√¢n b·∫±ng...
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- ================= SECTION IV: ·ª®NG D·ª§NG ================= -->
      <section id="section-4" class="scroll-mt-24">
        <div class="flex items-center gap-4 mb-8">
          <div
            class="w-12 h-12 rounded-xl bg-orange-500 flex items-center justify-center text-white text-2xl font-bold shadow-lg"
          >
            IV
          </div>
          <h2
            class="text-3xl md:text-4xl font-display font-bold text-gray-900 dark:text-white"
          >
            ·ª®ng D·ª•ng Th·ª±c Ti·ªÖn
          </h2>
        </div>

        <!-- Cards -->
        <div class="grid md:grid-cols-3 gap-6 mb-12">
          <div
            class="glass-card p-6 rounded-xl hover:bg-orange-50 dark:hover:bg-slate-800 cursor-pointer group"
          >
            <div
              class="w-12 h-12 rounded-full bg-orange-100 dark:bg-orange-900 flex items-center justify-center text-orange-600 mb-4 group-hover:scale-110 transition-transform"
            >
              <i class="fas fa-car-battery text-xl"></i>
            </div>
            <h3 class="font-bold text-lg mb-2">L∆∞u Tr·ªØ NƒÉng L∆∞·ª£ng</h3>
            <p class="text-sm text-gray-600 dark:text-gray-400">
              Pin Lithium-ion, Acquy ch√¨ ho·∫°t ƒë·ªông d·ª±a tr√™n ph·∫£n ·ª©ng oxi h√≥a kh·ª≠
              ƒë·ªÉ t·∫°o d√≤ng ƒëi·ªán.
            </p>
          </div>

          <div
            class="glass-card p-6 rounded-xl hover:bg-red-50 dark:hover:bg-slate-800 cursor-pointer group"
          >
            <div
              class="w-12 h-12 rounded-full bg-red-100 dark:bg-red-900 flex items-center justify-center text-red-600 mb-4 group-hover:scale-110 transition-transform"
            >
              <i class="fas fa-fire text-xl"></i>
            </div>
            <h3 class="font-bold text-lg mb-2">ƒê·ªët Ch√°y Nhi√™n Li·ªáu</h3>
            <p class="text-sm text-gray-600 dark:text-gray-400">
              Qu√° tr√¨nh ch√°y c·ªßa xƒÉng, d·∫ßu, than ƒë√° l√† ph·∫£n ·ª©ng OXH-K t·ªèa nhi·ªát
              l∆∞·ª£ng l·ªõn.
            </p>
          </div>

          <div
            class="glass-card p-6 rounded-xl hover:bg-green-50 dark:hover:bg-slate-800 cursor-pointer group"
          >
            <div
              class="w-12 h-12 rounded-full bg-green-100 dark:bg-green-900 flex items-center justify-center text-green-600 mb-4 group-hover:scale-110 transition-transform"
            >
              <i class="fas fa-leaf text-xl"></i>
            </div>
            <h3 class="font-bold text-lg mb-2">Qu√° Tr√¨nh Sinh H·ªçc</h3>
            <p class="text-sm text-gray-600 dark:text-gray-400">
              Quang h·ª£p v√† h√¥ h·∫•p t·∫ø b√†o l√† chu·ªói c√°c ph·∫£n ·ª©ng OXH-K ph·ª©c t·∫°p
              duy tr√¨ s·ª± s·ªëng.
            </p>
          </div>
        </div>

        <!-- SIMULATION: GALVANIC CELL -->
        <div
          class="glass-card p-1 rounded-2xl bg-gradient-to-br from-yellow-400 to-orange-600"
        >
          <div class="bg-white dark:bg-slate-900 rounded-xl p-8">
            <h3 class="text-2xl font-bold mb-4">
              M√¥ H√¨nh Pin ƒêi·ªán H√≥a (Galvanic Cell)
            </h3>
            <p class="mb-6">
              D√≤ng ƒëi·ªán sinh ra do s·ª± chuy·ªÉn d·ªãch electron t·ª´ c·ª±c √Çm (Zn) sang
              c·ª±c D∆∞∆°ng (Cu).
            </p>

            <div
              class="relative h-[300px] border-b-4 border-gray-700 bg-blue-50 dark:bg-slate-800/50 rounded-t-xl overflow-hidden"
            >
              <!-- Wire & Voltmeter -->
              <div
                class="absolute top-10 left-[20%] right-[20%] h-2 bg-gray-400 z-10"
              ></div>
              <div
                class="absolute top-4 left-1/2 -translate-x-1/2 w-16 h-16 rounded-full bg-gray-200 border-4 border-gray-400 flex items-center justify-center z-20"
              >
                <span class="font-mono font-bold text-xl" id="voltage-display"
                  >0.00V</span
                >
              </div>

              <!-- Beaker Left (Zn) -->
              <div
                class="absolute bottom-0 left-[15%] w-32 h-48 bg-blue-200/30 border-2 border-white/50 border-t-0 rounded-b-xl beaker"
              >
                <div
                  class="absolute bottom-0 left-1/2 -translate-x-1/2 w-8 h-40 bg-gray-400 border border-gray-500"
                  id="zinc-rod"
                >
                  <span
                    class="absolute bottom-2 left-1/2 -translate-x-1/2 text-xs font-bold text-black rotate-90"
                    >Zn (Anode)</span
                  >
                </div>
                <div
                  class="absolute bottom-2 w-full text-center text-xs text-blue-800"
                >
                  ZnSO‚ÇÑ
                </div>
              </div>

              <!-- Beaker Right (Cu) -->
              <div
                class="absolute bottom-0 right-[15%] w-32 h-48 bg-blue-200/30 border-2 border-white/50 border-t-0 rounded-b-xl beaker"
              >
                <div
                  class="absolute bottom-0 left-1/2 -translate-x-1/2 w-8 h-40 bg-orange-400 border border-orange-600"
                  id="copper-rod"
                >
                  <span
                    class="absolute bottom-2 left-1/2 -translate-x-1/2 text-xs font-bold text-black rotate-90"
                    >Cu (Cathode)</span
                  >
                </div>
                <div
                  class="absolute bottom-2 w-full text-center text-xs text-blue-800"
                >
                  CuSO‚ÇÑ
                </div>
              </div>

              <!-- Salt Bridge -->
              <div
                class="absolute bottom-24 left-[28%] right-[28%] h-12 border-t-8 border-l-8 border-r-8 border-yellow-200 rounded-t-3xl z-0 opacity-50"
              ></div>

              <!-- Electron Animation Container -->
              <div
                id="electron-path"
                class="absolute inset-0 pointer-events-none"
              ></div>
            </div>

            <div class="mt-6 text-center">
              <button
                onclick="toggleBattery()"
                id="btn-battery"
                class="chem-btn bg-orange-500 text-white shadow-lg shadow-orange-500/30"
              >
                <i class="fas fa-bolt"></i> B·∫≠t/T·∫Øt Pin
              </button>
            </div>
          </div>
        </div>
      </section>

      <!-- ================= SECTION QUIZ: LUY·ªÜN T·∫¨P ================= -->
      <section id="section-quiz" class="scroll-mt-24 mb-20">
        <div class="flex items-center gap-4 mb-8">
          <div
            class="w-12 h-12 rounded-xl bg-red-500 flex items-center justify-center text-white text-2xl font-bold shadow-lg"
          >
            <i class="fas fa-gamepad"></i>
          </div>
          <h2
            class="text-3xl md:text-4xl font-display font-bold text-gray-900 dark:text-white"
          >
            B√†i T·∫≠p C·ªßng C·ªë
          </h2>
        </div>

        <div
          class="glass-card p-1 rounded-2xl bg-gradient-to-r from-blue-600 to-purple-600"
        >
          <div class="bg-white dark:bg-slate-900 rounded-xl p-6 md:p-10">
            <!-- Progress Bar -->
            <div class="mb-6">
              <div class="flex justify-between text-sm mb-2 text-gray-500">
                <span>Ti·∫øn ƒë·ªô</span>
                <span id="quiz-progress-text">C√¢u 1/10</span>
              </div>
              <div
                class="w-full bg-gray-200 dark:bg-slate-700 rounded-full h-2.5"
              >
                <div
                  id="quiz-progress-bar"
                  class="bg-blue-600 h-2.5 rounded-full transition-all duration-300"
                  style="width: 10%"
                ></div>
              </div>
            </div>

            <!-- Question Container -->
            <div id="quiz-container" class="min-h-[300px]">
              <h3
                id="question-text"
                class="text-xl md:text-2xl font-bold mb-6 text-gray-800 dark:text-gray-100"
              >
                Loading Question...
              </h3>

              <div
                id="options-grid"
                class="grid grid-cols-1 md:grid-cols-2 gap-4"
              >
                <!-- Options injected by JS -->
              </div>

              <!-- Feedback Area -->
              <div
                id="quiz-feedback"
                class="mt-6 hidden p-4 rounded-lg bg-gray-100 dark:bg-slate-800 animate-fade-in"
              >
                <p class="font-bold mb-2" id="feedback-title">Gi·∫£i th√≠ch:</p>
                <p
                  class="text-gray-600 dark:text-gray-300"
                  id="feedback-content"
                ></p>
              </div>
            </div>

            <!-- Controls -->
            <div
              class="mt-8 flex justify-between border-t border-gray-200 dark:border-slate-700 pt-6"
            >
              <button
                onclick="resetQuiz()"
                class="text-gray-500 hover:text-red-500 font-medium transition-colors"
              >
                <i class="fas fa-redo"></i> L√†m l·∫°i t·ª´ ƒë·∫ßu
              </button>
              <button
                id="btn-next-question"
                onclick="nextQuestion()"
                class="chem-btn bg-blue-600 text-white hidden"
              >
                C√¢u ti·∫øp theo <i class="fas fa-arrow-right ml-2"></i>
              </button>
            </div>
          </div>
        </div>
      </section>

      <!-- üîπ NAVIGATION BUTTONS (FIXED FROM PROMPT) -->
      <section
        class="text-center space-x-4 mb-20 flex flex-col md:flex-row justify-center gap-4 md:gap-0"
      >
        <button
          onclick="document.getElementById('section-quiz').scrollIntoView()"
          style="
            display: inline-flex;
            align-items: center;
            gap: 10px;
            padding: 14px 30px;
            font-size: 1rem;
            font-weight: 600;
            border-radius: 999px;
            border: none;
            cursor: pointer;
            color: #fff;
            background: linear-gradient(135deg, #3b82f6, #6366f1);
            box-shadow: 0 10px 30px rgba(59, 130, 246, 0.35);
            transition: 0.3s ease;
          "
          onmouseover="
            this.style.transform = 'translateY(-3px) scale(1.03)';
            this.style.boxShadow = '0 18px 45px rgba(99,102,241,.55)';
          "
          onmouseout="
            this.style.transform = 'translateY(0) scale(1)';
            this.style.boxShadow = '0 10px 30px rgba(59,130,246,.35)';
          "
        >
          <i class="fas fa-pen-to-square"></i>
          B√†i t·∫≠p c·ªßng c·ªë
        </button>

        <button
          onclick="window.scrollTo(0, 0)"
          style="
            display: inline-flex;
            align-items: center;
            gap: 10px;
            padding: 14px 30px;
            font-size: 1rem;
            font-weight: 600;
            border-radius: 999px;
            border: none;
            cursor: pointer;
            color: #fff;
            background: linear-gradient(135deg, #22c55e, #16a34a);
            box-shadow: 0 10px 30px rgba(34, 197, 94, 0.35);
            transition: 0.3s ease;
          "
          onmouseover="
            this.style.transform = 'translateY(-3px)';
            this.style.boxShadow = '0 18px 45px rgba(22,163,74,.55)';
          "
          onmouseout="
            this.style.transform = 'translateY(0)';
            this.style.boxShadow = '0 10px 30px rgba(34,197,94,.35)';
          "
        >
          <i class="fas fa-arrow-up"></i>
          V·ªÅ ƒë·∫ßu trang
        </button>
      </section>
    </main>

    <!-- üîπ FOOTER (FIXED FROM PROMPT) -->
    <footer>
      <div class="footer-waves"></div>
      <div class="footer-grid">
        <div class="footer-brand" data-aos="fade-right">
          <h2>EDUMATTER</h2>
          <p style="color: #94a3b8; line-height: 1.8">
            Ki·∫øn t·∫°o m√¥i tr∆∞·ªùng h·ªçc t·∫≠p c·∫£m x√∫c, n∆°i tri th·ª©c ƒë∆∞·ª£c s·ªë h√≥a v√†
            truy·ªÅn t·∫£i ƒë·∫ßy c·∫£m h·ª©ng.
          </p>
          <div style="display: flex; gap: 15px; margin-top: 30px">
            <a href="https://www.facebook.com/ducnt214" class="icon-btn"
              ><i class="fab fa-facebook" alt="facebook"></i
            ></a>
            <a href="https://github.com/ducnt2104" class="icon-btn" alt="github"
              ><i class="fab fa-github"></i
            ></a>
            <a
              href="https://www.tiktok.com/@ktbtcthm210"
              class="icon-btn"
              alt="tiktok"
              ><i class="fab fa-tiktok"></i
            ></a>
          </div>
        </div>
        <div class="footer-links" data-aos="fade-up">
          <h3>Li√™n h·ªá nhanh</h3>
          <div class="contact-item">
            <i class="fas fa-envelope"></i>
            <span>ducnt21042010@gmail.com</span>
          </div>
          <div class="contact-item">
            <i class="fas fa-phone"></i>
            <span>034 226 6204</span>
          </div>
          <div class="contact-item">
            <i class="fas fa-location-dot"></i>
            <span>THPT T√¥n ƒê·ª©c Th·∫Øng, ƒê·ªìng Nai</span>
          </div>
        </div>
        <div class="footer-links" data-aos="fade-left">
          <h4>ƒê·ªôi ng≈© DNT</h4>
          <p style="color: #94a3b8">
            "S√°ng t·∫°o kh√¥ng ng·ª´ng - V∆∞∆°n t·∫ßm tri th·ª©c"
          </p>
          <div
            style="
              margin-top: 20px;
              padding: 15px;
              background: rgba(255, 255, 255, 0.05);
              border-radius: 15px;
            "
          >
            <p style="font-size: 0.8rem; color: #fff">
              D·ª± √°n ƒë∆∞·ª£c ph√°t tri·ªÉn b·ªüi c√°c th√†nh vi√™n ƒëam m√™ c√¥ng ngh·ªá t·∫°i Vi·ªát
              Nam.
            </p>
          </div>
        </div>
      </div>
      <div class="copyright">
        <p>
          ¬© 2024 EDUMATTER Educational Ecosystem. Designed with
          <i class="fas fa-heart" style="color: #ef4444"></i> by DNT Team.
        </p>
      </div>
    </footer>

    <!-- JAVASCRIPT LOGIC -->
    <script>
      // --- 1. THEME TOGGLE LOGIC ---
      const themeToggleBtn = document.getElementById("theme-toggle");
      const htmlElement = document.documentElement;

      // Check local storage or system preference
      if (
        localStorage.theme === "dark" ||
        (!("theme" in localStorage) &&
          window.matchMedia("(prefers-color-scheme: dark)").matches)
      ) {
        htmlElement.classList.add("dark");
      } else {
        htmlElement.classList.remove("dark");
      }

      themeToggleBtn.addEventListener("click", () => {
        htmlElement.classList.toggle("dark");
        if (htmlElement.classList.contains("dark")) {
          localStorage.theme = "dark";
        } else {
          localStorage.theme = "light";
        }
      });

      // --- 2. HERO PARTICLE ANIMATION (Canvas) ---
      const canvas = document.getElementById("hero-particles");
      const ctx = canvas.getContext("2d");
      let particlesArray;

      // Set canvas size
      canvas.width = window.innerWidth;
      canvas.height = window.innerHeight;

      // Resize handler
      window.addEventListener("resize", () => {
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;
        initParticles();
      });

      // Particle Class
      class Particle {
        constructor() {
          this.x = Math.random() * canvas.width;
          this.y = Math.random() * canvas.height;
          this.size = Math.random() * 3 + 1;
          this.speedX = Math.random() * 1 - 0.5;
          this.speedY = Math.random() * 1 - 0.5;
          this.color = Math.random() > 0.5 ? "#3b82f6" : "#ec4899";
        }
        update() {
          this.x += this.speedX;
          this.y += this.speedY;
          // Boundary check (wrap around)
          if (this.x > canvas.width) this.x = 0;
          else if (this.x < 0) this.x = canvas.width;
          if (this.y > canvas.height) this.y = 0;
          else if (this.y < 0) this.y = canvas.height;
        }
        draw() {
          ctx.fillStyle = this.color;
          ctx.beginPath();
          ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2);
          ctx.fill();
        }
      }

      function initParticles() {
        particlesArray = [];
        const numberOfParticles = 50;
        for (let i = 0; i < numberOfParticles; i++) {
          particlesArray.push(new Particle());
        }
      }

      function animateParticles() {
        ctx.clearRect(0, 0, canvas.width, canvas.height);
        for (let i = 0; i < particlesArray.length; i++) {
          particlesArray[i].update();
          particlesArray[i].draw();
        }
        requestAnimationFrame(animateParticles);
      }

      initParticles();
      animateParticles();

      // --- 3. SIMULATION: OXIDATION NUMBER CALCULATOR ---
      const calcData = [
        {
          id: "Na",
          formula: "Na",
          name: "Sodium",
          rules: "ƒê∆°n ch·∫•t = 0",
          result: "0",
        },
        {
          id: "O2",
          formula: "O‚ÇÇ",
          name: "Oxygen gas",
          rules: "ƒê∆°n ch·∫•t = 0",
          result: "0",
        },
        {
          id: "HCl",
          formula: "HCl",
          name: "Hydrochloric Acid",
          rules: "H = +1, T·ªïng = 0 ‚Üí Cl = -1",
          result: "H: +1, Cl: -1",
        },
        {
          id: "H2SO4",
          formula: "H‚ÇÇSO‚ÇÑ",
          name: "Sulfuric Acid",
          rules: "H=+1, O=-2. T·ªïng: 2(+1) + S + 4(-2) = 0 ‚Üí S = +6",
          result: "S: +6",
        },
        {
          id: "MnO4",
          formula: "MnO‚ÇÑ‚Åª",
          name: "Permanganate Ion",
          rules: "O=-2. T·ªïng = -1. Mn + 4(-2) = -1 ‚Üí Mn = +7",
          result: "Mn: +7",
        },
        {
          id: "NH4",
          formula: "NH‚ÇÑ‚Å∫",
          name: "Ammonium Ion",
          rules: "H=+1. T·ªïng = +1. N + 4(+1) = +1 ‚Üí N = -3",
          result: "N: -3",
        },
      ];

      const calcContainer = document.getElementById("calc-buttons");
      const calcExplanation = document.getElementById("calc-explanation");

      // Render buttons
      calcData.forEach((item) => {
        const btn = document.createElement("button");
        btn.className =
          "px-4 py-2 rounded-lg bg-white dark:bg-slate-700 border border-gray-200 dark:border-slate-600 hover:border-blue-500 dark:hover:border-blue-500 hover:text-blue-500 transition-colors shadow-sm";
        btn.innerHTML = `<strong>${item.formula}</strong>`;
        btn.onclick = () => showCalcDetails(item);
        calcContainer.appendChild(btn);
      });

      function showCalcDetails(item) {
        calcExplanation.innerHTML = `
                <h4 class="font-bold text-lg text-blue-600 mb-2">${item.name} (${item.formula})</h4>
                <p class="mb-2"><strong>Quy t·∫Øc √°p d·ª•ng:</strong> ${item.rules}</p>
                <div class="text-xl font-bold text-center bg-blue-100 dark:bg-slate-900 p-2 rounded text-blue-800 dark:text-blue-300">
                    K·∫øt qu·∫£: ${item.result}
                </div>
            `;
        // Simple visual feedback
        const visual = document.getElementById("atom-visual");
        visual.innerHTML = `<div class="text-4xl font-bold animate-bounce">${item.formula}</div>`;
      }

      // --- 4. SIMULATION: MG + O2 REACTION (VISUAL) ---
      let isReacted = false;

      function runRedoxSim() {
        if (isReacted) return;
        isReacted = true;

        const atomMg = document.getElementById("atom-mg");
        const atomO = document.getElementById("atom-o");
        const flash = document.getElementById("reaction-flash");
        const status = document.getElementById("redox-status");
        const electrons = document.querySelectorAll(".electron-1, .electron-2");

        status.innerHTML = "Mg nh∆∞·ªùng 2e cho O...";

        // 1. Move Atoms closer
        atomMg.style.left = "40%";
        atomO.style.right = "40%";

        setTimeout(() => {
          // 2. Electron Transfer Animation
          electrons.forEach((el) => {
            el.style.transition = "all 1s ease";
            el.style.transform = "translateX(100px) translateY(20px)"; // Approximate move to O
            el.style.backgroundColor = "#fbbf24"; // Turn Gold (energy)
          });

          status.innerHTML = "Qu√° tr√¨nh trao ƒë·ªïi electron x·∫£y ra m·∫°nh m·∫Ω!";
        }, 1000);

        setTimeout(() => {
          // 3. Flash & Bond
          flash.style.opacity = "0.8";

          setTimeout(() => {
            flash.style.opacity = "0";
            // Change visual state to Ion
            atomMg.innerHTML = `<div class="w-16 h-16 rounded-full border-2 border-green-500 bg-green-900 flex items-center justify-center text-white font-bold">Mg¬≤‚Å∫</div><span class="mt-2 text-xs">Ch·∫•t Kh·ª≠</span>`;
            atomO.innerHTML = `<div class="w-20 h-20 rounded-full border-2 border-green-500 bg-green-900 flex items-center justify-center text-white font-bold relative">O¬≤‚Åª <div class="absolute w-2 h-2 bg-yellow-400 rounded-full -top-1"></div><div class="absolute w-2 h-2 bg-yellow-400 rounded-full -bottom-1"></div></div><span class="mt-2 text-xs">Ch·∫•t OXH</span>`;

            // Stick together
            atomMg.style.left = "45%";
            atomO.style.right = "44%"; // Slight overlap

            status.innerHTML =
              "Ph·∫£n ·ª©ng ho√†n t·∫•t: 2Mg + O‚ÇÇ ‚Üí 2MgO (H·ª£p ch·∫•t ion b·ªÅn v·ªØng)";
          }, 500);
        }, 2000);
      }

      function resetRedoxSim() {
        const stage = document.getElementById("redox-sim-stage");
        // Hard reset by re-injecting HTML (simple way to reset complex animations)
        stage.innerHTML = `
                <div id="atom-mg" class="absolute left-[20%] transition-all duration-1000 flex flex-col items-center group cursor-pointer">
                    <div class="w-20 h-20 rounded-full border-2 border-slate-500 flex items-center justify-center relative bg-slate-800">
                        <span class="font-bold text-xl">Mg</span>
                        <div class="absolute -top-1 left-1/2 w-3 h-3 bg-blue-400 rounded-full shadow-[0_0_10px_#60a5fa] electron-1"></div>
                        <div class="absolute -bottom-1 left-1/2 w-3 h-3 bg-blue-400 rounded-full shadow-[0_0_10px_#60a5fa] electron-2"></div>
                    </div>
                    <span class="mt-2 text-sm text-slate-400 label">Magnesium (0)</span>
                </div>

                <div id="atom-o" class="absolute right-[20%] transition-all duration-1000 flex flex-col items-center group cursor-pointer">
                    <div class="w-16 h-16 rounded-full border-2 border-slate-500 flex items-center justify-center relative bg-slate-800">
                        <span class="font-bold text-xl">O</span>
                    </div>
                    <span class="mt-2 text-sm text-slate-400 label">Oxygen (0)</span>
                </div>
                <div id="reaction-flash" class="absolute inset-0 bg-white opacity-0 pointer-events-none transition-opacity duration-300 z-50"></div>
            `;
        document.getElementById("redox-status").innerHTML =
          "Tr·∫°ng th√°i: ƒêang ch·ªù...";
        isReacted = false;
      }

      // --- 5. SIMULATION: BALANCING GAME ---
      function updateBalance() {
        // Get values
        const al = parseInt(document.getElementById("coef-al").value) || 0;
        const o2 = parseInt(document.getElementById("coef-o2").value) || 0;
        const al2o3 =
          parseInt(document.getElementById("coef-al2o3").value) || 0;

        // Calculate Atoms
        const leftAl = al;
        const leftO = o2 * 2;
        const rightAl = al2o3 * 2;
        const rightO = al2o3 * 3;

        // Update Text
        document.getElementById("count-left-al").textContent = leftAl;
        document.getElementById("count-left-o").textContent = leftO;
        document.getElementById("count-right-al").textContent = rightAl;
        document.getElementById("count-right-o").textContent = rightO;

        // Update Visual Bars (Max 20 for scaling)
        const setBar = (id, val) => {
          const pct = Math.min((val / 10) * 100, 100);
          document.getElementById(id).style.width = pct + "%";
        };
        setBar("bar-left-al", leftAl);
        setBar("bar-left-o", leftO);
        setBar("bar-right-al", rightAl);
        setBar("bar-right-o", rightO);

        // Check Win Condition
        const feedback = document.getElementById("balance-feedback");
        if (leftAl === rightAl && leftO === rightO && leftAl > 0) {
          feedback.innerHTML =
            '<span class="text-green-500"><i class="fas fa-check-circle"></i> CH√çNH X√ÅC! (4Al + 3O‚ÇÇ ‚Üí 2Al‚ÇÇO‚ÇÉ)</span>';
          feedback.classList.add("animate-bounce");
        } else {
          feedback.innerHTML = "Ch∆∞a c√¢n b·∫±ng...";
          feedback.classList.remove("animate-bounce");
        }
      }

      // --- 6. SIMULATION: GALVANIC CELL ---
      let batteryInterval;
      let batteryOn = false;

      function toggleBattery() {
        const btn = document.getElementById("btn-battery");
        const electrons = document.getElementById("electron-path");
        const volt = document.getElementById("voltage-display");
        const zinc = document.getElementById("zinc-rod");

        if (!batteryOn) {
          batteryOn = true;
          btn.innerHTML = '<i class="fas fa-stop"></i> T·∫Øt Pin';
          btn.classList.replace("bg-orange-500", "bg-red-500");

          // Show Voltage
          volt.textContent = "1.10V";
          volt.classList.add("bg-yellow-100", "text-yellow-600");

          // Create moving electrons
          let count = 0;
          batteryInterval = setInterval(() => {
            const e = document.createElement("div");
            e.className =
              "absolute w-3 h-3 bg-yellow-400 rounded-full shadow-lg z-50";
            e.style.left = "20%"; // Start at Zn
            e.style.top = "40px"; // Wire height
            electrons.appendChild(e);

            // Animate along wire
            e.animate(
              [
                { left: "20%", top: "40px" },
                { left: "80%", top: "40px" },
              ],
              {
                duration: 2000,
                easing: "linear",
              },
            ).onfinish = () => e.remove();

            // Zinc erodes slightly visual effect
            count++;
            if (count % 5 === 0) {
              // Visual degradation could go here
            }
          }, 500);
        } else {
          batteryOn = false;
          btn.innerHTML = '<i class="fas fa-bolt"></i> B·∫≠t/T·∫Øt Pin';
          btn.classList.replace("bg-red-500", "bg-orange-500");
          volt.textContent = "0.00V";
          volt.classList.remove("bg-yellow-100", "text-yellow-600");
          clearInterval(batteryInterval);
          electrons.innerHTML = ""; // Clear electrons
        }
      }

      // --- 7. QUIZ SYSTEM (>15 Questions) ---
      const quizData = [
        {
          q: "S·ªë oxi h√≥a c·ªßa Nit∆° (N) trong HNO‚ÇÉ l√† bao nhi√™u?",
          a: ["+3", "+4", "+5", "-3"],
          correct: 2,
          explain: "H(+1), O(-2). G·ªçi N l√† x: 1 + x + 3(-2) = 0 => x = +5.",
        },
        {
          q: "Trong ph·∫£n ·ª©ng: Zn + CuSO‚ÇÑ ‚Üí ZnSO‚ÇÑ + Cu, ch·∫•t n√†o ƒë√≥ng vai tr√≤ ch·∫•t kh·ª≠?",
          a: ["Zn", "CuSO‚ÇÑ", "ZnSO‚ÇÑ", "Cu"],
          correct: 0,
          explain: "Zn t·ª´ 0 l√™n +2 (nh∆∞·ªùng e) => Ch·∫•t kh·ª≠.",
        },
        {
          q: "Ph·∫£n ·ª©ng n√†o sau ƒë√¢y KH√îNG ph·∫£i l√† ph·∫£n ·ª©ng oxi h√≥a - kh·ª≠?",
          a: [
            "2Na + Cl‚ÇÇ ‚Üí 2NaCl",
            "CaCO‚ÇÉ ‚Üí CaO + CO‚ÇÇ",
            "2H‚ÇÇ + O‚ÇÇ ‚Üí 2H‚ÇÇO",
            "Fe + 2HCl ‚Üí FeCl‚ÇÇ + H‚ÇÇ",
          ],
          correct: 1,
          explain:
            "Trong ph·∫£n ·ª©ng ph√¢n h·ªßy CaCO‚ÇÉ, s·ªë oxi h√≥a c·ªßa Ca, C, O kh√¥ng thay ƒë·ªïi.",
        },
        {
          q: "S·ªë oxi h√≥a c·ªßa Mn trong ion MnO‚ÇÑ‚Åª l√†:",
          a: "+6",
          b: "+7",
          c: "+4",
          d: "+2",
          a: ["+6", "+7", "+4", "+2"],
          correct: 1,
          explain: "Mn + 4(-2) = -1 => Mn - 8 = -1 => Mn = +7.",
        },
        {
          q: "Cho ph·∫£n ·ª©ng: Fe‚ÇÇO‚ÇÉ + 3CO ‚Üí 2Fe + 3CO‚ÇÇ. Ch·∫•t oxi h√≥a l√†:",
          a: ["Fe‚ÇÇO‚ÇÉ", "CO", "Fe", "CO‚ÇÇ"],
          correct: 0,
          explain:
            "Fe trong Fe‚ÇÇO‚ÇÉ c√≥ s·ªë OXH +3, gi·∫£m xu·ªëng 0 => Fe‚ÇÇO‚ÇÉ l√† ch·∫•t oxi h√≥a.",
        },
        {
          q: "C√¢n b·∫±ng ph·∫£n ·ª©ng: Al + HNO‚ÇÉ ‚Üí Al(NO‚ÇÉ)‚ÇÉ + NO + H‚ÇÇO. H·ªá s·ªë c·ªßa HNO‚ÇÉ l√†:",
          a: ["1", "2", "3", "4"],
          correct: 3,
          explain:
            "Al(0)->Al(+3)+3e; N(+5)+3e->N(+2). T·ªâ l·ªá 1:1. Al + 4HNO3 -> Al(NO3)3 + NO + 2H2O.",
        },
        {
          q: "Trong c√°c h·ª£p ch·∫•t, Flo (F) lu√¥n c√≥ s·ªë oxi h√≥a l√†:",
          a: "-1",
          b: "+1",
          c: "0",
          d: "Thay ƒë·ªïi t√πy ch·∫•t",
          a: ["-1", "+1", "0", "Thay ƒë·ªïi t√πy ch·∫•t"],
          correct: 0,
          explain:
            "Flo c√≥ ƒë·ªô √¢m ƒëi·ªán l·ªõn nh·∫•t, lu√¥n h√∫t e n√™n s·ªë OXH lu√¥n l√† -1 trong h·ª£p ch·∫•t.",
        },
        {
          q: "Hi·ªán t∆∞·ª£ng s·∫Øt b·ªã g·ªâ trong kh√¥ng kh√≠ ·∫©m l√† v√≠ d·ª• c·ªßa:",
          a: "S·ª± kh·ª≠",
          b: "S·ª± ƒëi·ªán ly",
          c: "S·ª± ƒÉn m√≤n ƒëi·ªán h√≥a (OXH-K)",
          d: "Ph·∫£n ·ª©ng trao ƒë·ªïi",
          a: [
            "S·ª± kh·ª≠",
            "S·ª± ƒëi·ªán ly",
            "S·ª± ƒÉn m√≤n ƒëi·ªán h√≥a (OXH-K)",
            "Ph·∫£n ·ª©ng trao ƒë·ªïi",
          ],
          correct: 2,
          explain:
            "G·ªâ s√©t l√† qu√° tr√¨nh Fe b·ªã oxi h√≥a b·ªüi O‚ÇÇ v√† H‚ÇÇO trong kh√¥ng kh√≠.",
        },
        {
          q: "S·ªë oxi h√≥a c·ªßa S trong SO‚ÇÑ¬≤‚Åª l√†:",
          a: "+4",
          b: "+6",
          c: "-2",
          d: "0",
          a: ["+4", "+6", "-2", "0"],
          correct: 1,
          explain: "S + 4(-2) = -2 => S = +6.",
        },
        {
          q: "D·∫•u hi·ªáu nh·∫≠n bi·∫øt ph·∫£n ·ª©ng oxi h√≥a kh·ª≠ l√†:",
          a: "C√≥ k·∫øt t·ªßa",
          b: "C√≥ kh√≠ tho√°t ra",
          c: "C√≥ s·ª± thay ƒë·ªïi s·ªë oxi h√≥a",
          d: "C√≥ n∆∞·ªõc t·∫°o th√†nh",
          a: [
            "C√≥ k·∫øt t·ªßa",
            "C√≥ kh√≠ tho√°t ra",
            "C√≥ s·ª± thay ƒë·ªïi s·ªë oxi h√≥a",
            "C√≥ n∆∞·ªõc t·∫°o th√†nh",
          ],
          correct: 2,
          explain:
            "ƒê·ªãnh nghƒ©a: Ph·∫£n ·ª©ng OXH-K l√† ph·∫£n ·ª©ng c√≥ s·ª± thay ƒë·ªïi s·ªë oxi h√≥a.",
        },
        {
          q: "H·ªá s·ªë c√¢n b·∫±ng t·ªëi gi·∫£n c·ªßa Cu trong ph·∫£n ·ª©ng: Cu + H‚ÇÇSO‚ÇÑ (ƒë·∫∑c, n√≥ng) ‚Üí CuSO‚ÇÑ + SO‚ÇÇ + H‚ÇÇO l√†:",
          a: "1",
          b: "2",
          c: "3",
          d: "4",
          a: ["1", "2", "3", "4"],
          correct: 0,
          explain: "1Cu + 2H2SO4 -> 1CuSO4 + 1SO2 + 2H2O.",
        },
        {
          q: "Ch·∫•t n√†o v·ª´a c√≥ t√≠nh oxi h√≥a, v·ª´a c√≥ t√≠nh kh·ª≠?",
          a: ["F‚ÇÇ", "Na", "S", "Al"],
          correct: 2,
          explain:
            "L∆∞u hu·ª≥nh (S) c√≥ s·ªë OXH 0 (trung gian) n√™n c√≥ th·ªÉ gi·∫£m xu·ªëng -2 ho·∫∑c tƒÉng l√™n +4, +6.",
        },
      ];

      let currentQuestion = 0;
      let score = 0;

      function renderQuiz() {
        const q = quizData[currentQuestion];

        // Text
        document.getElementById("question-text").textContent =
          `C√¢u ${currentQuestion + 1}: ${q.q}`;
        document.getElementById("quiz-progress-text").textContent =
          `C√¢u ${currentQuestion + 1}/${quizData.length}`;
        document.getElementById("quiz-progress-bar").style.width =
          `${((currentQuestion + 1) / quizData.length) * 100}%`;

        // Options
        const grid = document.getElementById("options-grid");
        grid.innerHTML = "";

        q.a.forEach((opt, index) => {
          const btn = document.createElement("button");
          btn.className =
            "quiz-option w-full p-4 text-left border-2 border-gray-200 dark:border-slate-700 rounded-xl font-medium text-gray-700 dark:text-gray-300 hover:shadow-md";
          btn.innerHTML = `<span class="inline-block w-8 h-8 bg-gray-100 dark:bg-slate-800 rounded-full text-center leading-8 mr-3 font-bold">${String.fromCharCode(65 + index)}</span> ${opt}`;
          btn.onclick = () => checkAnswer(index, btn);
          grid.appendChild(btn);
        });

        // Reset UI
        document.getElementById("quiz-feedback").classList.add("hidden");
        document.getElementById("btn-next-question").classList.add("hidden");
      }

      function checkAnswer(selectedIndex, btn) {
        // Disable all buttons
        const buttons = document.querySelectorAll(".quiz-option");
        buttons.forEach((b) => (b.disabled = true));

        const q = quizData[currentQuestion];
        const isCorrect = selectedIndex === q.correct;

        if (isCorrect) {
          btn.classList.add("correct");
          score++;
        } else {
          btn.classList.add("wrong");
          buttons[q.correct].classList.add("correct"); // Show correct answer
        }

        // Show feedback
        const fb = document.getElementById("quiz-feedback");
        document.getElementById("feedback-content").textContent = q.explain;
        fb.classList.remove("hidden");

        // Show Next Button
        document.getElementById("btn-next-question").classList.remove("hidden");
      }

      function nextQuestion() {
        if (currentQuestion < quizData.length - 1) {
          currentQuestion++;
          renderQuiz();
        } else {
          // End Quiz
          const container = document.getElementById("quiz-container");
          container.innerHTML = `
                    <div class="text-center py-10 animate-fade-in">
                        <div class="text-6xl text-yellow-500 mb-4"><i class="fas fa-trophy"></i></div>
                        <h3 class="text-3xl font-bold mb-4">Ho√†n Th√†nh!</h3>
                        <p class="text-xl mb-6">ƒêi·ªÉm s·ªë c·ªßa b·∫°n: <span class="text-blue-500 font-bold">${score}/${quizData.length}</span></p>
                        <p class="text-gray-500">B·∫°n ƒë√£ n·∫Øm v·ªØng ki·∫øn th·ª©c ph·∫£n ·ª©ng Oxi h√≥a - Kh·ª≠!</p>
                    </div>
                `;
          document.getElementById("btn-next-question").classList.add("hidden");
        }
      }

      function resetQuiz() {
        currentQuestion = 0;
        score = 0;
        // Restore HTML structure if needed or just re-render
        // Ideally reload specific section content, here we just location reload or re-init
        // For smoother UX, let's just rebuild the container
        const container = document.getElementById("quiz-container");
        // (Re-injecting structure simplified for this single-file constraints)
        location.reload(); // Simplest way to full reset without complex state management in vanilla JS
      }

      // Init Quiz
      renderQuiz();
    </script>
  </body>
</html>
