<!doctype html>
<html lang="vi" class="scroll-smooth">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Kim Lo·∫°i Nh√≥m IA & IIA ‚Äì ChemStudy Expert</title>
    <link
      rel="shortcut icon"
      href="../../../favicon/educhem.avg"
      type="image/x-icon"
    />

    <!-- 1. TH∆Ø VI·ªÜN & FONTS -->
    <!-- TailwindCSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- FontAwesome CDN -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />
    <!-- Google Fonts -->
    <link
      href="https://fonts.googleapis.com/css2?family=Be+Vietnam+Pro:wght@300;400;500;600;700&family=Space+Grotesk:wght@500;700&display=swap"
      rel="stylesheet"
    />

    <!-- 2. TAILWIND CONFIG & CUSTOM CSS -->
    <script>
      tailwind.config = {
        darkMode: "class",
        theme: {
          extend: {
            fontFamily: {
              sans: ['"Be Vietnam Pro"', "sans-serif"],
              display: ['"Space Grotesk"', "sans-serif"],
            },
            colors: {
              chem: {
                primary: "#3b82f6", // Blue 500
                secondary: "#10b981", // Emerald 500
                accent: "#8b5cf6", // Violet 500
                dark: "#0f172a", // Slate 900
                light: "#f8fafc", // Slate 50
                glass: "rgba(255, 255, 255, 0.1)",
                glassDark: "rgba(15, 23, 42, 0.6)",
              },
            },
            animation: {
              float: "float 6s ease-in-out infinite",
              "pulse-slow": "pulse 4s cubic-bezier(0.4, 0, 0.6, 1) infinite",
              "spin-slow": "spin 12s linear infinite",
              "bounce-slight": "bounceSlight 2s infinite",
            },
            keyframes: {
              float: {
                "0%, 100%": { transform: "translateY(0)" },
                "50%": { transform: "translateY(-20px)" },
              },
              bounceSlight: {
                "0%, 100%": {
                  transform: "translateY(-5%)",
                  animationTimingFunction: "cubic-bezier(0.8,0,1,1)",
                },
                "50%": {
                  transform: "translateY(0)",
                  animationTimingFunction: "cubic-bezier(0,0,0.2,1)",
                },
              },
            },
          },
        },
      };
    </script>

    <style>
      /* CSS VARIABLES & RESET */
      :root {
        --footer-bg: #0f172a;
        --footer-text: #e2e8f0;
        --p-primary: #3b82f6;
        --glass-border: 1px solid rgba(255, 255, 255, 0.2);
        --glass-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.15);
      }

      html.dark :root {
        --footer-bg: #020617;
        --glass-border: 1px solid rgba(255, 255, 255, 0.05);
      }

      body {
        font-family: "Be Vietnam Pro", sans-serif;
        overflow-x: hidden;
        transition:
          background-color 0.3s,
          color 0.3s;
      }

      /* GLASSMORPHISM UTILS */
      .glass-panel {
        background: rgba(255, 255, 255, 0.7);
        backdrop-filter: blur(16px);
        -webkit-backdrop-filter: blur(16px);
        border: var(--glass-border);
        box-shadow: var(--glass-shadow);
      }

      .dark .glass-panel {
        background: rgba(30, 41, 59, 0.6);
        border: 1px solid rgba(255, 255, 255, 0.08);
      }

      .glass-card {
        background: rgba(255, 255, 255, 0.6);
        backdrop-filter: blur(12px);
        border: 1px solid rgba(255, 255, 255, 0.3);
        transition: all 0.3s ease;
        border-radius: 1rem;
      }

      .dark .glass-card {
        background: rgba(30, 41, 59, 0.4);
        border: 1px solid rgba(255, 255, 255, 0.05);
      }

      .glass-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 20px 40px -10px rgba(0, 0, 0, 0.15);
        background: rgba(255, 255, 255, 0.85);
      }

      .dark .glass-card:hover {
        background: rgba(30, 41, 59, 0.8);
        box-shadow: 0 20px 40px -10px rgba(0, 0, 0, 0.5);
        border-color: rgba(59, 130, 246, 0.3);
      }

      /* TEXT GRADIENTS */
      .text-gradient {
        background-clip: text;
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-image: linear-gradient(to right, #3b82f6, #8b5cf6, #ec4899);
      }

      /* ANIMATED BACKGROUND */
      .bg-animated {
        background: linear-gradient(-45deg, #ee7752, #e73c7e, #23a6d5, #23d5ab);
        background-size: 400% 400%;
        animation: gradientBG 15s ease infinite;
      }

      .dark .bg-animated {
        background: linear-gradient(-45deg, #0f172a, #1e1b4b, #172554, #020617);
      }

      @keyframes gradientBG {
        0% {
          background-position: 0% 50%;
        }
        50% {
          background-position: 100% 50%;
        }
        100% {
          background-position: 0% 50%;
        }
      }

      /* SIMULATION CONTAINERS */
      .sim-container {
        position: relative;
        overflow: hidden;
        background: #f1f5f9;
        border-radius: 12px;
        box-shadow: inner 0 2px 4px rgba(0, 0, 0, 0.1);
      }
      .dark .sim-container {
        background: #0f172a;
        border: 1px solid #1e293b;
      }

      /* FOOTER STYLES (REQUIRED) */
      footer {
        background: var(--footer-bg);
        color: var(--footer-text);
        padding: 100px 5% 40px;
        position: relative;
        overflow: hidden;
        transition:
          background-color 0.8s ease,
          color 0.8s ease;
      }
      .footer-waves {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 60px;
        background: var(--footer-bg);
        clip-path: polygon(
          0% 45%,
          16% 44%,
          33% 50%,
          54% 60%,
          70% 61%,
          84% 59%,
          100% 52%,
          100% 100%,
          0% 100%
        );
        transition: background-color 0.8s;
      }
      .footer-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        gap: 60px;
        max-width: 1200px;
        margin: 0 auto;
      }
      .icon-btn {
        color: #94a3b8;
        font-size: 1.2rem;
        transition: 0.3s;
      }
      .icon-btn:hover {
        color: white;
        transform: scale(1.1);
      }
      .contact-item {
        margin-bottom: 15px;
        display: flex;
        align-items: center;
        gap: 15px;
        color: #94a3b8;
        transition: 0.3s;
      }
      .contact-item i {
        color: var(--p-primary);
      }
      .contact-item:hover {
        color: white;
        transform: translateX(5px);
      }
      .footer-brand h2 {
        font-family: "Space Grotesk", sans-serif;
        font-size: 2rem;
        margin-bottom: 20px;
      }
      .footer-links h4,
      h3 {
        margin-bottom: 25px;
        text-transform: uppercase;
        letter-spacing: 2px;
        color: var(--p-primary);
      }
      .copyright {
        margin-top: 80px;
        text-align: center;
        padding-top: 30px;
        border-top: 1px solid rgba(255, 255, 255, 0.05);
        color: #475569;
        font-size: 0.9rem;
      }

      /* Custom Scrollbar */
      ::-webkit-scrollbar {
        width: 8px;
      }
      ::-webkit-scrollbar-track {
        background: transparent;
      }
      ::-webkit-scrollbar-thumb {
        background: #94a3b8;
        border-radius: 4px;
      }
      ::-webkit-scrollbar-thumb:hover {
        background: #64748b;
      }

      /* Crystal Lattice Animation */
      .cube-wrapper {
        perspective: 800px;
        width: 100px;
        height: 100px;
        margin: 20px auto;
      }
      .cube {
        width: 100%;
        height: 100%;
        position: relative;
        transform-style: preserve-3d;
        animation: spinCube 8s infinite linear;
      }
      .face {
        position: absolute;
        width: 100px;
        height: 100px;
        border: 2px solid rgba(59, 130, 246, 0.5);
        background: rgba(59, 130, 246, 0.1);
        display: flex;
        align-items: center;
        justify-content: center;
      }
      .atom {
        width: 20px;
        height: 20px;
        background: radial-gradient(circle at 30% 30%, #ef4444, #991b1b);
        border-radius: 50%;
        box-shadow: 0 0 10px rgba(239, 68, 68, 0.8);
        position: absolute;
      }
      /* Corners */
      .c1 {
        transform: translate3d(-10px, -10px, 50px);
      }
      .c2 {
        transform: translate3d(90px, -10px, 50px);
      }
      .c3 {
        transform: translate3d(90px, 90px, 50px);
      }
      .c4 {
        transform: translate3d(-10px, 90px, 50px);
      }
      .c5 {
        transform: translate3d(-10px, -10px, -50px);
      }
      .c6 {
        transform: translate3d(90px, -10px, -50px);
      }
      .c7 {
        transform: translate3d(90px, 90px, -50px);
      }
      .c8 {
        transform: translate3d(-10px, 90px, -50px);
      }
      /* Body Center */
      .center-atom {
        top: 40px;
        left: 40px;
        transform: translateZ(0);
        width: 25px;
        height: 25px;
        background: radial-gradient(circle at 30% 30%, #3b82f6, #1e40af);
        z-index: 10;
      }

      .face1 {
        transform: translateZ(50px);
      }
      .face2 {
        transform: rotateY(90deg) translateZ(50px);
      }
      .face3 {
        transform: rotateY(180deg) translateZ(50px);
      }
      .face4 {
        transform: rotateY(-90deg) translateZ(50px);
      }
      .face5 {
        transform: rotateX(90deg) translateZ(50px);
      }
      .face6 {
        transform: rotateX(-90deg) translateZ(50px);
      }

      @keyframes spinCube {
        from {
          transform: rotateX(0deg) rotateY(0deg);
        }
        to {
          transform: rotateX(360deg) rotateY(360deg);
        }
      }
    </style>
  </head>
  <body
    class="bg-slate-50 text-slate-800 dark:bg-slate-900 dark:text-slate-100 min-h-screen flex flex-col relative transition-colors duration-300"
  >
    <!-- BACKGROUND PARTICLES (JS Generated) -->
    <div
      id="particles-js"
      class="fixed inset-0 pointer-events-none z-0 opacity-30"
    ></div>

    <!-- üîπ HEADER (C·ªê ƒê·ªäNH LOGO) -->
    <header
      class="fixed top-0 w-full z-50 glass-panel border-b border-white/20 dark:border-white/5 transition-all duration-300"
      id="main-header"
    >
      <div
        class="container mx-auto px-4 h-20 flex items-center justify-between"
      >
        <!-- Logo Block -->
        <div
          class="flex items-center gap-3 cursor-pointer group"
          onclick="window.scrollTo({ top: 0, behavior: 'smooth' })"
        >
          <div
            class="w-10 h-10 rounded-full bg-gradient-to-br from-blue-500 to-green-500 flex items-center justify-center text-white font-bold text-xl shadow-lg group-hover:scale-110 transition-transform"
          >
            <i class="fas fa-atom text-xl group-hover:animate-spin"></i>
          </div>
          <span
            class="font-display font-bold text-xl md:text-2xl tracking-tight text-slate-800 dark:text-white"
          >
            ChemStudy <span class="text-blue-500">Expert</span>
          </span>
        </div>

        <!-- Desktop Menu -->
        <nav class="hidden md:flex items-center gap-6 font-medium text-sm">
          <a
            href="#kim-loai-kiem"
            class="hover:text-blue-500 transition-colors py-2"
            >IA. Kim Lo·∫°i Ki·ªÅm</a
          >
          <a
            href="#hop-chat-ia"
            class="hover:text-blue-500 transition-colors py-2"
            >H·ª£p Ch·∫•t IA</a
          >
          <a
            href="#kim-loai-kiem-tho"
            class="hover:text-blue-500 transition-colors py-2"
            >IIA. Ki·ªÅm Th·ªï</a
          >
          <a
            href="#hop-chat-iia"
            class="hover:text-blue-500 transition-colors py-2"
            >Ca & N∆∞·ªõc C·ª©ng</a
          >
          <a
            href="#game-zone"
            class="px-4 py-2 rounded-full bg-gradient-to-r from-blue-500 to-indigo-600 text-white shadow-md hover:shadow-lg transform hover:-translate-y-0.5 transition-all"
          >
            <i class="fas fa-gamepad mr-2"></i>Luy·ªán t·∫≠p
          </a>
        </nav>

        <!-- Tools -->
        <div class="flex items-center gap-3">
          <button
            id="theme-toggle"
            class="w-10 h-10 rounded-full bg-slate-200 dark:bg-slate-800 flex items-center justify-center text-slate-600 dark:text-yellow-400 hover:bg-slate-300 dark:hover:bg-slate-700 transition-colors shadow-sm"
            aria-label="Toggle Dark Mode"
          >
            <i class="fas fa-sun text-lg dark:hidden"></i>
            <i class="fas fa-moon text-lg hidden dark:block"></i>
          </button>
          <!-- Mobile Menu Button -->
          <button
            class="md:hidden w-10 h-10 text-slate-800 dark:text-white"
            onclick="
              document.getElementById('mobile-menu').classList.toggle('hidden')
            "
          >
            <i class="fas fa-bars text-xl"></i>
          </button>
        </div>
      </div>

      <!-- Mobile Menu Dropdown -->
      <div
        id="mobile-menu"
        class="hidden md:hidden glass-panel border-t border-slate-200 dark:border-slate-800 p-4 absolute w-full left-0 top-20 shadow-xl"
      >
        <div class="flex flex-col gap-4">
          <a
            href="#kim-loai-kiem"
            class="block p-2 hover:bg-slate-100 dark:hover:bg-slate-800 rounded"
            >Kim Lo·∫°i Ki·ªÅm</a
          >
          <a
            href="#hop-chat-ia"
            class="block p-2 hover:bg-slate-100 dark:hover:bg-slate-800 rounded"
            >H·ª£p Ch·∫•t IA</a
          >
          <a
            href="#kim-loai-kiem-tho"
            class="block p-2 hover:bg-slate-100 dark:hover:bg-slate-800 rounded"
            >Kim Lo·∫°i Ki·ªÅm Th·ªï</a
          >
          <a
            href="#hop-chat-iia"
            class="block p-2 hover:bg-slate-100 dark:hover:bg-slate-800 rounded"
            >N∆∞·ªõc C·ª©ng</a
          >
          <a href="#game-zone" class="block p-2 text-blue-500 font-bold"
            >Luy·ªán t·∫≠p ngay</a
          >
        </div>
      </div>
    </header>

    <!-- üîπ HERO SECTION -->
    <section
      class="relative min-h-[90vh] flex items-center justify-center pt-20 overflow-hidden"
    >
      <div
        class="absolute inset-0 z-0 bg-animated opacity-10 dark:opacity-20"
      ></div>
      <div class="container mx-auto px-4 z-10 text-center relative">
        <!-- Floating Elements Animation -->
        <div
          class="absolute top-0 left-10 text-6xl text-blue-500/20 animate-float delay-100 select-none"
        >
          Na<sup>+</sup>
        </div>
        <div
          class="absolute bottom-20 right-10 text-6xl text-green-500/20 animate-float delay-300 select-none"
          style="animation-duration: 8s"
        >
          K<sup>+</sup>
        </div>
        <div
          class="absolute top-1/2 right-20 text-5xl text-red-500/20 animate-float delay-500 select-none"
          style="animation-duration: 7s"
        >
          Li<sup>+</sup>
        </div>

        <div
          class="inline-block px-4 py-2 rounded-full bg-blue-100 dark:bg-blue-900/30 text-blue-600 dark:text-blue-300 font-semibold text-sm mb-6 border border-blue-200 dark:border-blue-800 animate-bounce-slight"
        >
          H√≥a H·ªçc L·ªõp 12 - Ch∆∞∆°ng 7
        </div>

        <h1
          class="font-display text-5xl md:text-7xl font-bold mb-6 tracking-tight leading-tight"
        >
          Kim Lo·∫°i <span class="text-gradient">Nh√≥m IA</span> <br />
          & <span class="text-gradient">Nh√≥m IIA</span>
        </h1>

        <p
          class="text-lg md:text-xl text-slate-600 dark:text-slate-300 max-w-2xl mx-auto mb-10 leading-relaxed"
        >
          Kh√°m ph√° th·∫ø gi·ªõi c·ªßa nh·ªØng nguy√™n t·ªë ho·∫°t ƒë·ªông m·∫°nh nh·∫•t. T·ª´ nh·ªØng
          vi√™n kim lo·∫°i m·ªÅm nh∆∞ s√°p ƒë·∫øn s·ª± h√¨nh th√†nh th·∫°ch nh≈© h√†ng tri·ªáu nƒÉm.
          <br />
          <span class="font-semibold text-blue-500"
            >H·ªçc b·∫±ng tr·∫£i nghi·ªám - Hi·ªÉu s√¢u b·∫£n ch·∫•t.</span
          >
        </p>

        <button
          onclick="
            document
              .getElementById('kim-loai-kiem')
              .scrollIntoView({ behavior: 'smooth' })
          "
          class="group relative px-8 py-4 bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-500 hover:to-indigo-500 text-white font-bold rounded-full text-lg shadow-xl hover:shadow-2xl transition-all transform hover:-translate-y-1"
        >
          <span
            ><i
              class="fas fa-flask mr-2 group-hover:rotate-12 transition-transform"
            ></i>
            V√†o B√†i H·ªçc</span
          >
          <div
            class="absolute inset-0 rounded-full bg-white/20 blur-md opacity-0 group-hover:opacity-100 transition-opacity"
          ></div>
        </button>
      </div>
    </section>

    <!-- MAIN CONTENT -->
    <main class="container mx-auto px-4 py-10 space-y-32">
      <!-- =========================================================
             SECTION I: KIM LO·∫†I NH√ìM IA (KIM LO·∫†I KI·ªÄM)
             ========================================================= -->
      <section id="kim-loai-kiem" class="scroll-mt-28">
        <div class="flex items-center gap-4 mb-10">
          <div
            class="w-12 h-12 rounded-2xl bg-blue-500 text-white flex items-center justify-center text-2xl shadow-lg shadow-blue-500/30"
          >
            <i class="fas fa-layer-group"></i>
          </div>
          <h2 class="font-display text-3xl md:text-4xl font-bold">
            I. Kim Lo·∫°i Nh√≥m IA (Kim Lo·∫°i Ki·ªÅm)
          </h2>
        </div>

        <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
          <!-- üß† A. L√ù THUY·∫æT: C·∫•u t·∫°o & T√≠nh ch·∫•t -->
          <div class="space-y-6">
            <div class="glass-card p-6 border-l-4 border-blue-500">
              <h3
                class="font-display text-xl font-bold mb-4 flex items-center text-blue-600 dark:text-blue-400"
              >
                <i class="fas fa-book-open mr-2"></i> ƒê·ªãnh Nghƒ©a & V·ªã Tr√≠
              </h3>
              <ul
                class="space-y-3 text-slate-700 dark:text-slate-300 list-disc pl-5"
              >
                <li>
                  <strong class="text-slate-900 dark:text-white"
                    >V·ªã tr√≠:</strong
                  >
                  Thu·ªôc nh√≥m IA, ƒë·ª©ng ƒë·∫ßu m·ªói chu k√¨ (tr·ª´ chu k√¨ 1).
                </li>
                <li>
                  <strong class="text-slate-900 dark:text-white"
                    >Th√†nh vi√™n:</strong
                  >
                  Lithium (Li), Sodium (Na), Potassium (K), Rubidium (Rb),
                  Caesium (Cs), Francium (Fr - ph√≥ng x·∫°).
                </li>
                <li>
                  <strong class="text-slate-900 dark:text-white"
                    >C·∫•u h√¨nh e:</strong
                  >
                  L√† nguy√™n t·ªë s, l·ªõp ngo√†i c√πng l√†
                  <code class="bg-slate-200 dark:bg-slate-700 px-1 rounded"
                    >ns¬π</code
                  >.
                </li>
                <li>
                  <strong class="text-slate-900 dark:text-white"
                    >NƒÉng l∆∞·ª£ng ion h√≥a:</strong
                  >
                  I‚ÇÅ th·∫•p, d·ªÖ nh∆∞·ªùng 1e ‚Üí M‚Å∫. T√≠nh kh·ª≠ r·∫•t m·∫°nh.
                </li>
                <li>
                  <strong class="text-slate-900 dark:text-white"
                    >S·ªë oxi h√≥a:</strong
                  >
                  Duy nh·∫•t +1 trong h·ª£p ch·∫•t.
                </li>
              </ul>
            </div>

            <div class="glass-card p-6 border-l-4 border-indigo-500">
              <h3
                class="font-display text-xl font-bold mb-4 flex items-center text-indigo-600 dark:text-indigo-400"
              >
                <i class="fas fa-thermometer-half mr-2"></i> T√≠nh Ch·∫•t V·∫≠t L√Ω
              </h3>
              <ul class="space-y-3 text-slate-700 dark:text-slate-300">
                <li class="flex items-start gap-3">
                  <i class="fas fa-eye mt-1 text-slate-400"></i>
                  <span>M√†u tr·∫Øng b·∫°c, c√≥ √°nh kim (khi m·ªõi c·∫Øt).</span>
                </li>
                <li class="flex items-start gap-3">
                  <i class="fas fa-bolt mt-1 text-yellow-500"></i>
                  <span
                    >D·∫´n ƒëi·ªán v√† d·∫´n nhi·ªát t·ªët. Si√™u nh·∫π (Li nh·∫π nh·∫•t).</span
                  >
                </li>
                <li class="flex items-start gap-3">
                  <i class="fas fa-feather mt-1 text-pink-400"></i>
                  <span
                    >M·ªÅm (c·∫Øt b·∫±ng dao), nhi·ªát ƒë·ªô n√≥ng ch·∫£y/s√¥i th·∫•p (gi·∫£m d·∫ßn
                    t·ª´ Li ‚Üí Cs).</span
                  >
                </li>
                <li
                  class="bg-indigo-50 dark:bg-indigo-900/30 p-3 rounded-lg text-sm mt-2"
                >
                  <strong>üí° Gi·∫£i th√≠ch:</strong> Do m·∫°ng tinh th·ªÉ l·∫≠p ph∆∞∆°ng
                  t√¢m kh·ªëi r·ªóng, li√™n k·∫øt kim lo·∫°i y·∫øu.
                </li>
              </ul>
            </div>
          </div>

          <!-- üî¨ B. M√î H√åNH: Tinh th·ªÉ & C·∫Øt Natri -->
          <div class="space-y-6">
            <!-- M√¥ ph·ªèng 1: M·∫°ng tinh th·ªÉ -->
            <div class="glass-card p-6 relative overflow-hidden group">
              <div
                class="absolute top-0 right-0 p-2 bg-blue-500 text-white text-xs font-bold rounded-bl-lg z-20"
              >
                M√î PH·ªéNG 3D
              </div>
              <h3 class="font-bold text-lg mb-2">
                C·∫•u T·∫°o M·∫°ng Tinh Th·ªÉ (L·∫≠p Ph∆∞∆°ng T√¢m Kh·ªëi)
              </h3>
              <p class="text-sm text-slate-500 mb-6">
                M√¥ h√¨nh r·ªóng, l·ª±c li√™n k·∫øt y·∫øu gi·∫£i th√≠ch v√¨ sao kim lo·∫°i ki·ªÅm
                m·ªÅm.
              </p>

              <div
                class="sim-container h-64 flex items-center justify-center bg-slate-900 perspective-1000"
              >
                <div class="cube-wrapper">
                  <div class="cube">
                    <!-- 8 Corners -->
                    <div class="atom c1"></div>
                    <div class="atom c2"></div>
                    <div class="atom c3"></div>
                    <div class="atom c4"></div>
                    <div class="atom c5"></div>
                    <div class="atom c6"></div>
                    <div class="atom c7"></div>
                    <div class="atom c8"></div>
                    <!-- Center Atom -->
                    <div class="atom center-atom"></div>
                    <!-- Faces (Visual Guide) -->
                    <div class="face face1"></div>
                    <div class="face face2"></div>
                    <div class="face face3"></div>
                    <div class="face face4"></div>
                    <div class="face face5"></div>
                    <div class="face face6"></div>
                  </div>
                </div>
              </div>
            </div>

            <!-- M√¥ ph·ªèng 2: C·∫Øt Natri -->
            <div class="glass-card p-6">
              <h3 class="font-bold text-lg mb-4">
                T∆∞∆°ng T√°c: C·∫Øt Kim Lo·∫°i Natri
              </h3>
              <div
                class="sim-container h-48 bg-slate-200 dark:bg-slate-800 flex items-center justify-center relative select-none"
                id="cut-simulation"
              >
                <!-- Con dao -->
                <div
                  id="knife"
                  class="absolute top-5 left-1/2 -translate-x-1/2 z-20 cursor-grab active:cursor-grabbing transition-transform"
                  onmousedown="startCut()"
                  onmouseup="endCut()"
                  onmouseleave="endCut()"
                  style="font-size: 3rem"
                >
                  üî™
                </div>

                <!-- Mi·∫øng Natri -->
                <div
                  class="relative w-40 h-20 bg-gray-400 rounded-lg shadow-lg flex items-center justify-center overflow-hidden"
                >
                  <div
                    class="absolute inset-0 bg-gray-300 opacity-20 bg-[url('https://www.transparenttextures.com/patterns/aluminum.png')]"
                  ></div>
                  <!-- V·∫øt c·∫Øt -->
                  <div
                    id="na-inside"
                    class="w-2 h-full bg-gradient-to-r from-gray-100 via-white to-gray-100 opacity-0 transition-all duration-1000 absolute left-1/2 -translate-x-1/2"
                  ></div>
                  <span class="text-gray-600 font-bold z-10">Na</span>
                </div>

                <p
                  class="absolute bottom-2 text-xs text-slate-500"
                  id="cut-instruction"
                >
                  K√©o dao xu·ªëng ƒë·ªÉ c·∫Øt
                </p>
              </div>
            </div>
          </div>
        </div>

        <!-- üß™ C. TH√ç NGHI·ªÜM: Ph·∫£n ·ª©ng v·ªõi n∆∞·ªõc & M√†u ng·ªçn l·ª≠a -->
        <div class="mt-12 grid grid-cols-1 lg:grid-cols-2 gap-8">
          <!-- Th√≠ nghi·ªám 1: Na + H2O -->
          <div class="glass-card p-6 border-t-4 border-red-500">
            <h3 class="font-display text-xl font-bold mb-4 text-red-500">
              <i class="fas fa-flask mr-2"></i> TN1: Ph·∫£n ·ª©ng v·ªõi n∆∞·ªõc
            </h3>
            <div
              class="bg-white dark:bg-slate-800 rounded-lg p-4 border border-slate-200 dark:border-slate-700"
            >
              <canvas
                id="canvas-reaction"
                width="400"
                height="250"
                class="w-full bg-blue-50 dark:bg-slate-900 rounded cursor-pointer border border-blue-100"
              ></canvas>

              <div class="flex gap-2 mt-4 justify-center">
                <button
                  onclick="startReaction('Li')"
                  class="px-3 py-1 bg-slate-200 dark:bg-slate-700 rounded hover:bg-slate-300 text-sm font-bold"
                >
                  Th·∫£ Li
                </button>
                <button
                  onclick="startReaction('Na')"
                  class="px-3 py-1 bg-yellow-200 dark:bg-yellow-900/50 text-yellow-700 dark:text-yellow-400 rounded hover:bg-yellow-300 text-sm font-bold"
                >
                  Th·∫£ Na
                </button>
                <button
                  onclick="startReaction('K')"
                  class="px-3 py-1 bg-purple-200 dark:bg-purple-900/50 text-purple-700 dark:text-purple-400 rounded hover:bg-purple-300 text-sm font-bold"
                >
                  Th·∫£ K
                </button>
                <button
                  onclick="resetReaction()"
                  class="px-3 py-1 border border-slate-300 rounded hover:bg-slate-100 text-sm"
                >
                  <i class="fas fa-rotate-right"></i>
                </button>
              </div>
              <div
                id="reaction-log"
                class="mt-2 text-sm text-center min-h-[1.5rem] font-medium text-slate-600 dark:text-slate-400"
              >
                Ch·ªçn kim lo·∫°i ƒë·ªÉ b·∫Øt ƒë·∫ßu th√≠ nghi·ªám...
              </div>
            </div>
            <div
              class="mt-4 text-sm text-slate-600 dark:text-slate-400 bg-slate-100 dark:bg-slate-800 p-3 rounded"
            >
              <strong>Hi·ªán t∆∞·ª£ng:</strong> Tan, ch·∫°y tr√≤n, kh√≠ tho√°t ra (H‚ÇÇ),
              dung d·ªãch h√≥a h·ªìng (Base).<br />
              <strong>PT:</strong> 2M + 2H‚ÇÇO ‚Üí 2MOH + H‚ÇÇ‚Üë
            </div>
          </div>

          <!-- Th√≠ nghi·ªám 2: M√†u ng·ªçn l·ª≠a -->
          <div class="glass-card p-6 border-t-4 border-orange-500">
            <h3 class="font-display text-xl font-bold mb-4 text-orange-500">
              <i class="fas fa-fire mr-2"></i> TN2: M√†u ng·ªçn l·ª≠a
            </h3>
            <div
              class="sim-container h-[340px] flex flex-col items-center justify-end pb-4 bg-slate-900 relative"
            >
              <!-- Burner -->
              <div
                class="w-16 h-24 bg-gray-600 rounded-t-lg relative z-10 flex justify-center"
              >
                <div class="w-4 h-4 bg-gray-800 absolute top-0"></div>
              </div>
              <!-- Flame -->
              <div
                id="flame"
                class="absolute bottom-24 w-12 h-32 rounded-full blur-md opacity-90 transition-all duration-300 scale-0 origin-bottom mix-blend-screen"
                style="
                  background: radial-gradient(
                    circle,
                    white 10%,
                    transparent 70%
                  );
                "
              ></div>

              <!-- Controls -->
              <div
                class="absolute top-4 w-full px-4 flex justify-between gap-2"
              >
                <button
                  onclick="ignite('Li', '#dc2626')"
                  class="flex-1 py-2 bg-red-600 text-white rounded font-bold text-xs hover:bg-red-500 transition shadow-lg shadow-red-500/50"
                >
                  Li‚Å∫
                </button>
                <button
                  onclick="ignite('Na', '#facc15')"
                  class="flex-1 py-2 bg-yellow-500 text-black rounded font-bold text-xs hover:bg-yellow-400 transition shadow-lg shadow-yellow-500/50"
                >
                  Na‚Å∫
                </button>
                <button
                  onclick="ignite('K', '#a855f7')"
                  class="flex-1 py-2 bg-purple-500 text-white rounded font-bold text-xs hover:bg-purple-400 transition shadow-lg shadow-purple-500/50"
                >
                  K‚Å∫
                </button>
                <button
                  onclick="ignite('Rb', '#db2777')"
                  class="flex-1 py-2 bg-pink-600 text-white rounded font-bold text-xs hover:bg-pink-500 transition shadow-lg shadow-pink-500/50"
                >
                  Rb‚Å∫
                </button>
                <button
                  onclick="ignite('Cs', '#3b82f6')"
                  class="flex-1 py-2 bg-blue-500 text-white rounded font-bold text-xs hover:bg-blue-400 transition shadow-lg shadow-blue-500/50"
                >
                  Cs‚Å∫
                </button>
              </div>
              <div
                id="flame-text"
                class="absolute top-16 text-white font-display font-bold text-lg opacity-0 transition-opacity"
              ></div>
            </div>
          </div>
        </div>

        <!-- üìä D. C√îNG TH·ª®C & E. ·ª®NG D·ª§NG -->
        <div class="mt-8 glass-card p-6">
          <h3
            class="font-display text-xl font-bold mb-4 text-slate-800 dark:text-white border-b border-slate-200 pb-2"
          >
            T·ªïng K·∫øt & ·ª®ng D·ª•ng
          </h3>
          <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
            <div>
              <h4 class="font-bold text-blue-500 mb-2">Ph·∫£n ·ª®ng Quan Tr·ªçng</h4>
              <ul
                class="space-y-2 text-sm font-mono bg-slate-100 dark:bg-slate-800 p-4 rounded-lg border-l-4 border-blue-500"
              >
                <li>4Na + O‚ÇÇ (kk kh√¥) ‚Üí 2Na‚ÇÇO</li>
                <li>2Na + O‚ÇÇ (kk kh√¥) ‚Üí Na‚ÇÇO‚ÇÇ (sodium peroxide)</li>
                <li>2M + X‚ÇÇ ‚Üí 2MX (Halogen)</li>
                <li class="text-red-500 font-bold">
                  ‚ö†Ô∏è B·∫£o qu·∫£n: Ng√¢m Na, K trong d·∫ßu h·ªèa. (Ri√™ng Li nh·∫π h∆°n d·∫ßu
                  h·ªèa ‚Üí B·ªçc parafin/kh√≠ hi·∫øm).
                </li>
              </ul>
            </div>
            <div>
              <h4 class="font-bold text-green-500 mb-2">·ª®ng D·ª•ng Th·ª±c T·∫ø</h4>
              <div class="grid grid-cols-2 gap-3 text-sm">
                <div
                  class="p-3 bg-green-50 dark:bg-green-900/20 rounded hover:shadow-md transition"
                >
                  <i class="fas fa-battery-full text-green-500 mb-1"></i><br />
                  <strong>Li:</strong> Pin Li-ion, H·ª£p kim si√™u nh·∫π.
                </div>
                <div
                  class="p-3 bg-yellow-50 dark:bg-yellow-900/20 rounded hover:shadow-md transition"
                >
                  <i class="fas fa-sun text-yellow-500 mb-1"></i><br />
                  <strong>Cs:</strong> T·∫ø b√†o quang ƒëi·ªán.
                </div>
                <div
                  class="p-3 bg-red-50 dark:bg-red-900/20 rounded hover:shadow-md transition"
                >
                  <i class="fas fa-fire-extinguisher text-red-500 mb-1"></i
                  ><br />
                  <strong>Na-K:</strong> Ch·∫•t trao ƒë·ªïi nhi·ªát l√≤ ph·∫£n ·ª©ng.
                </div>
                <div
                  class="p-3 bg-blue-50 dark:bg-blue-900/20 rounded hover:shadow-md transition"
                >
                  <i class="fas fa-pills text-blue-500 mb-1"></i><br />
                  <strong>NaHCO‚ÇÉ:</strong> Thu·ªëc ƒëau d·∫° d√†y.
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- =========================================================
             SECTION II: M·ªòT S·ªê H·ª¢P CH·∫§T QUAN TR·ªåNG C·ª¶A KIM LO·∫†I KI·ªÄM
             ========================================================= -->
      <section id="hop-chat-ia" class="scroll-mt-28">
        <div class="flex items-center gap-4 mb-10">
          <div
            class="w-12 h-12 rounded-2xl bg-emerald-500 text-white flex items-center justify-center text-2xl shadow-lg shadow-emerald-500/30"
          >
            <i class="fas fa-vial"></i>
          </div>
          <h2 class="font-display text-3xl md:text-4xl font-bold">
            II. H·ª£p Ch·∫•t Quan Tr·ªçng (Nh√≥m IA)
          </h2>
        </div>

        <!-- Solvay Process Interaction -->
        <div class="glass-card p-8 mb-8 border-l-4 border-emerald-500">
          <h3
            class="font-display text-2xl font-bold mb-6 text-center text-emerald-600 dark:text-emerald-400"
          >
            Quy Tr√¨nh Solvay (S·∫£n Xu·∫•t Na‚ÇÇCO‚ÇÉ)
          </h3>

          <div
            class="relative w-full max-w-4xl mx-auto bg-slate-50 dark:bg-slate-900 p-6 rounded-xl border border-slate-200 dark:border-slate-700"
          >
            <div class="grid grid-cols-1 md:grid-cols-3 gap-4 text-center">
              <!-- Step 1 -->
              <div
                class="p-4 rounded-lg bg-white dark:bg-slate-800 shadow-sm hover:shadow-md transition cursor-pointer group"
                onclick="toggleSolvayDetail(1)"
              >
                <div
                  class="w-10 h-10 mx-auto bg-blue-100 text-blue-600 rounded-full flex items-center justify-center mb-2 font-bold group-hover:bg-blue-500 group-hover:text-white transition"
                >
                  1
                </div>
                <h4 class="font-bold">B√£o H√≤a Amoniac</h4>
                <p class="text-xs text-slate-500">NaCl + H‚ÇÇO + NH‚ÇÉ</p>
              </div>

              <!-- Arrow -->
              <div
                class="hidden md:flex items-center justify-center text-emerald-500 text-2xl"
              >
                <i class="fas fa-arrow-right"></i>
              </div>

              <!-- Step 2 -->
              <div
                class="p-4 rounded-lg bg-white dark:bg-slate-800 shadow-sm hover:shadow-md transition cursor-pointer group"
                onclick="toggleSolvayDetail(2)"
              >
                <div
                  class="w-10 h-10 mx-auto bg-blue-100 text-blue-600 rounded-full flex items-center justify-center mb-2 font-bold group-hover:bg-blue-500 group-hover:text-white transition"
                >
                  2
                </div>
                <h4 class="font-bold">Carbonat h√≥a</h4>
                <p class="text-xs text-slate-500">S·ª•c kh√≠ CO‚ÇÇ</p>
              </div>
            </div>

            <!-- Step 3 (Below) -->
            <div class="mt-4 grid grid-cols-1 md:grid-cols-3 gap-4 text-center">
              <div class="hidden md:block"></div>
              <div
                class="md:flex items-center justify-center text-emerald-500 text-2xl rotate-90 md:rotate-0"
              >
                <i class="fas fa-arrow-down"></i>
              </div>
              <div class="hidden md:block"></div>
            </div>

            <div class="mt-4 flex justify-center">
              <div
                class="p-4 w-full md:w-1/3 rounded-lg bg-emerald-50 dark:bg-emerald-900/30 border border-emerald-200 dark:border-emerald-700 shadow-sm hover:shadow-md transition cursor-pointer group"
                onclick="toggleSolvayDetail(3)"
              >
                <div
                  class="w-10 h-10 mx-auto bg-emerald-100 text-emerald-600 rounded-full flex items-center justify-center mb-2 font-bold group-hover:bg-emerald-500 group-hover:text-white transition"
                >
                  3
                </div>
                <h4 class="font-bold text-emerald-700 dark:text-emerald-400">
                  Nung & Thu H·ªìi
                </h4>
                <p class="text-xs text-emerald-600 dark:text-emerald-500">
                  2NaHCO‚ÇÉ ‚Üí Na‚ÇÇCO‚ÇÉ
                </p>
              </div>
            </div>

            <!-- Detail Box (Hidden by default) -->
            <div
              id="solvay-detail"
              class="mt-6 p-4 bg-slate-100 dark:bg-slate-800 rounded-lg text-sm text-slate-700 dark:text-slate-300 hidden transition-all"
            >
              <!-- Content injected via JS -->
            </div>
          </div>
        </div>

        <!-- Compounds Grid -->
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4">
          <!-- NaOH -->
          <div
            class="glass-card p-5 hover:bg-red-50 dark:hover:bg-red-900/10 transition"
          >
            <h4 class="font-bold text-lg text-red-500 mb-2">NaOH</h4>
            <p class="text-sm text-slate-600 dark:text-slate-400 mb-2">
              X√∫t ƒÉn da.
            </p>
            <ul class="text-xs space-y-1 list-disc pl-4">
              <li>R·∫Øn, kh√¥ng m√†u, h√∫t ·∫©m m·∫°nh.</li>
              <li>Tan nhi·ªÅu trong n∆∞·ªõc, t·ªèa nhi·ªát.</li>
              <li>Base m·∫°nh.</li>
            </ul>
          </div>
          <!-- NaHCO3 -->
          <div
            class="glass-card p-5 hover:bg-blue-50 dark:hover:bg-blue-900/10 transition"
          >
            <h4 class="font-bold text-lg text-blue-500 mb-2">NaHCO‚ÇÉ</h4>
            <p class="text-sm text-slate-600 dark:text-slate-400 mb-2">
              Baking Soda.
            </p>
            <ul class="text-xs space-y-1 list-disc pl-4">
              <li>R·∫Øn, m√†u tr·∫Øng, √≠t tan.</li>
              <li>L∆∞·ª°ng t√≠nh.</li>
              <li>pH ‚âà 8-9 (Ki·ªÅm y·∫øu).</li>
              <li>Nhi·ªát ph√¢n t·∫°o Na‚ÇÇCO‚ÇÉ.</li>
            </ul>
          </div>
          <!-- Na2CO3 -->
          <div
            class="glass-card p-5 hover:bg-green-50 dark:hover:bg-green-900/10 transition"
          >
            <h4 class="font-bold text-lg text-green-500 mb-2">Na‚ÇÇCO‚ÇÉ</h4>
            <p class="text-sm text-slate-600 dark:text-slate-400 mb-2">
              Soda c√¥ng nghi·ªáp.
            </p>
            <ul class="text-xs space-y-1 list-disc pl-4">
              <li>Tr·∫Øng, d·ªÖ tan.</li>
              <li>T√≠nh base m·∫°nh (do th·ªßy ph√¢n).</li>
              <li>Nguy√™n li·ªáu l√†m th·ªßy tinh.</li>
            </ul>
          </div>
          <!-- NaCl -->
          <div
            class="glass-card p-5 hover:bg-purple-50 dark:hover:bg-purple-900/10 transition"
          >
            <h4 class="font-bold text-lg text-purple-500 mb-2">NaCl</h4>
            <p class="text-sm text-slate-600 dark:text-slate-400 mb-2">
              Mu·ªëi ƒÉn.
            </p>
            <ul class="text-xs space-y-1 list-disc pl-4">
              <li>L·∫≠p ph∆∞∆°ng t√¢m di·ªán.</li>
              <li>ƒêi·ªán ph√¢n ‚Üí NaOH, Cl‚ÇÇ, H‚ÇÇ.</li>
              <li>L√†m n∆∞·ªõc Javel (NaCl + NaClO).</li>
            </ul>
          </div>
        </div>

        <!-- Hi·ªÉu sai ph·ªï bi·∫øn -->
        <div
          class="mt-6 p-4 bg-yellow-50 dark:bg-yellow-900/20 border-l-4 border-yellow-500 rounded-r-lg"
        >
          <h4 class="font-bold text-yellow-700 dark:text-yellow-400">
            <i class="fas fa-exclamation-triangle"></i> Hi·ªÉu Sai Ph·ªï Bi·∫øn
          </h4>
          <p class="text-sm mt-1">
            <span class="line-through text-slate-400"
              >NaHCO‚ÇÉ l√† mu·ªëi acid n√™n m√¥i tr∆∞·ªùng acid.</span
            ><br />
            <span class="font-bold text-green-600 dark:text-green-400"
              >‚û° ƒê√∫ng:</span
            >
            Dung d·ªãch NaHCO‚ÇÉ c√≥ m√¥i tr∆∞·ªùng ki·ªÅm y·∫øu (pH 8-9) do kh·∫£ nƒÉng nh·∫≠n H‚Å∫
            c·ªßa ion HCO‚ÇÉ‚Åª l·ªõn h∆°n kh·∫£ nƒÉng ph√¢n li ra H‚Å∫.
          </p>
        </div>
      </section>

      <!-- =========================================================
             SECTION III: KIM LO·∫†I KI·ªÄM TH·ªî (NH√ìM IIA)
             ========================================================= -->
      <section id="kim-loai-kiem-tho" class="scroll-mt-28">
        <div class="flex items-center gap-4 mb-10">
          <div
            class="w-12 h-12 rounded-2xl bg-indigo-500 text-white flex items-center justify-center text-2xl shadow-lg shadow-indigo-500/30"
          >
            <i class="fas fa-cubes-stacked"></i>
          </div>
          <h2 class="font-display text-3xl md:text-4xl font-bold">
            III. Kim Lo·∫°i Ki·ªÅm Th·ªï (Nh√≥m IIA)
          </h2>
        </div>

        <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
          <!-- Theory -->
          <div class="col-span-1 lg:col-span-2 space-y-6">
            <div class="glass-card p-6">
              <h3 class="font-display text-xl font-bold mb-4">
                ƒê·∫∑c ƒêi·ªÉm & T√≠nh Ch·∫•t
              </h3>
              <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                <div>
                  <h4
                    class="font-bold text-indigo-500 border-b border-indigo-200 pb-1 mb-2"
                  >
                    V·∫≠t L√Ω
                  </h4>
                  <ul class="text-sm space-y-2 list-disc pl-4">
                    <li>M√†u tr·∫Øng b·∫°c/x√°m nh·∫°t.</li>
                    <li>C·ª©ng h∆°n kim lo·∫°i ki·ªÅm, nh∆∞ng v·∫´n nh·∫π.</li>
                    <li>
                      <span class="text-red-500"
                        >Nhi·ªát ƒë·ªô n√≥ng ch·∫£y/s√¥i bi·∫øn ƒë·ªïi kh√¥ng theo quy
                        lu·∫≠t</span
                      >
                      (do ki·ªÉu m·∫°ng tinh th·ªÉ kh√°c nhau: Be, Mg l·ª•c ph∆∞∆°ng; Ca,
                      Sr L·∫≠p ph∆∞∆°ng t√¢m di·ªán; Ba l·∫≠p ph∆∞∆°ng t√¢m kh·ªëi).
                    </li>
                  </ul>
                </div>
                <div>
                  <h4
                    class="font-bold text-indigo-500 border-b border-indigo-200 pb-1 mb-2"
                  >
                    H√≥a H·ªçc (T√≠nh kh·ª≠ m·∫°nh)
                  </h4>
                  <ul class="text-sm space-y-2 list-disc pl-4">
                    <li>M ‚Üí M¬≤‚Å∫ + 2e (T√≠nh kh·ª≠ tƒÉng t·ª´ Be ‚Üí Ba).</li>
                    <li>
                      <strong>V·ªõi n∆∞·ªõc:</strong>
                      <ul class="pl-4 list-circle text-xs text-slate-500 mt-1">
                        <li>Be: Kh√¥ng ph·∫£n ·ª©ng.</li>
                        <li>Mg: Tan ch·∫≠m trong n∆∞·ªõc n√≥ng.</li>
                        <li>Ca, Sr, Ba: Ph·∫£n ·ª©ng m·∫°nh ·ªü nhi·ªát ƒë·ªô th∆∞·ªùng.</li>
                      </ul>
                    </li>
                  </ul>
                </div>
              </div>
            </div>

            <!-- Experiment: Solubility of Sulfates -->
            <div class="glass-card p-6 border-t-4 border-purple-500">
              <h3 class="font-display text-lg font-bold mb-4 text-purple-600">
                <i class="fas fa-vial mr-2"></i> Th√≠ nghi·ªám ·∫£o: T√≠nh tan c·ªßa
                mu·ªëi Sulfate
              </h3>
              <p class="text-sm mb-4">
                Nh·ªè dung d·ªãch Na‚ÇÇSO‚ÇÑ v√†o c√°c ·ªëng nghi·ªám ch·ª©a mu·ªëi Ca, Sr, Ba.
                Quan s√°t k·∫øt t·ªßa.
              </p>

              <div
                class="flex flex-wrap justify-center gap-8 bg-slate-100 dark:bg-slate-900 p-6 rounded-lg"
                id="sulfate-exp"
              >
                <!-- Test Tube Ca -->
                <div class="flex flex-col items-center">
                  <div
                    class="w-12 h-32 border-2 border-slate-300 dark:border-slate-600 rounded-b-2xl relative overflow-hidden bg-white/10 beaker"
                  >
                    <div
                      class="absolute bottom-0 w-full h-1/3 bg-blue-200/50 transition-all duration-1000"
                      id="precip-Ca"
                    ></div>
                  </div>
                  <button
                    onclick="addSulfate('Ca')"
                    class="mt-2 px-3 py-1 text-xs bg-slate-200 dark:bg-slate-700 rounded hover:bg-slate-300"
                  >
                    Ca¬≤‚Å∫ + SO‚ÇÑ¬≤‚Åª
                  </button>
                  <span class="text-xs mt-1 text-slate-500"
                    >CaSO‚ÇÑ (√çt tan)</span
                  >
                </div>

                <!-- Test Tube Ba -->
                <div class="flex flex-col items-center">
                  <div
                    class="w-12 h-32 border-2 border-slate-300 dark:border-slate-600 rounded-b-2xl relative overflow-hidden bg-white/10 beaker"
                  >
                    <div
                      class="absolute bottom-0 w-full h-1/3 bg-blue-200/50 transition-all duration-1000"
                      id="precip-Ba"
                    ></div>
                  </div>
                  <button
                    onclick="addSulfate('Ba')"
                    class="mt-2 px-3 py-1 text-xs bg-slate-200 dark:bg-slate-700 rounded hover:bg-slate-300"
                  >
                    Ba¬≤‚Å∫ + SO‚ÇÑ¬≤‚Åª
                  </button>
                  <span class="text-xs mt-1 text-slate-500"
                    >BaSO‚ÇÑ (Kh√¥ng tan)</span
                  >
                </div>
              </div>
            </div>
          </div>

          <!-- Comparison Viz -->
          <div
            class="glass-card p-6 bg-gradient-to-b from-indigo-50 to-white dark:from-slate-800 dark:to-slate-900"
          >
            <h3 class="font-bold mb-4 text-center">So S√°nh B√°n K√≠nh (√Ö)</h3>
            <div class="space-y-4">
              <div class="flex items-center gap-2">
                <span class="w-8 font-bold">Na</span>
                <div
                  class="h-8 bg-blue-500 rounded-r-full text-white text-xs flex items-center px-2 animate-pulse-slow"
                  style="width: 80%"
                >
                  1.86
                </div>
              </div>
              <div class="flex items-center gap-2">
                <span class="w-8 font-bold">Mg</span>
                <div
                  class="h-6 bg-indigo-500 rounded-r-full text-white text-xs flex items-center px-2"
                  style="width: 65%"
                >
                  1.60
                </div>
              </div>
              <div class="border-t border-dashed border-slate-300 my-2"></div>
              <div class="flex items-center gap-2">
                <span class="w-8 font-bold">K</span>
                <div
                  class="h-10 bg-blue-500 rounded-r-full text-white text-xs flex items-center px-2 animate-pulse-slow"
                  style="width: 95%"
                >
                  2.27
                </div>
              </div>
              <div class="flex items-center gap-2">
                <span class="w-8 font-bold">Ca</span>
                <div
                  class="h-8 bg-indigo-500 rounded-r-full text-white text-xs flex items-center px-2"
                  style="width: 82%"
                >
                  1.97
                </div>
              </div>
              <p class="text-xs text-slate-500 mt-4 italic text-center">
                C√πng chu k√¨: R(IA) > R(IIA) do ƒëi·ªán t√≠ch h·∫°t nh√¢n tƒÉng, h√∫t e
                m·∫°nh h∆°n.
              </p>
            </div>
          </div>
        </div>
      </section>

      <!-- =========================================================
             SECTION IV: H·ª¢P CH·∫§T CALCIUM & N∆Ø·ªöC C·ª®NG
             ========================================================= -->
      <section id="hop-chat-iia" class="scroll-mt-28">
        <div class="flex items-center gap-4 mb-10">
          <div
            class="w-12 h-12 rounded-2xl bg-cyan-500 text-white flex items-center justify-center text-2xl shadow-lg shadow-cyan-500/30"
          >
            <i class="fas fa-droplet"></i>
          </div>
          <h2 class="font-display text-3xl md:text-4xl font-bold">
            IV. Calcium & N∆∞·ªõc C·ª©ng
          </h2>
        </div>

        <div class="grid grid-cols-1 md:grid-cols-2 gap-8 mb-8">
          <!-- Calcium Compounds -->
          <div class="glass-card p-6">
            <h3 class="font-bold text-xl mb-4 text-cyan-600">
              H·ª£p Ch·∫•t Calcium
            </h3>
            <div class="space-y-3">
              <div
                class="flex items-center p-3 bg-white dark:bg-slate-800 rounded shadow-sm"
              >
                <div
                  class="w-10 h-10 bg-gray-200 rounded-full flex items-center justify-center mr-3 font-bold text-gray-600"
                >
                  CaO
                </div>
                <div>
                  <div class="font-bold">V√¥i S·ªëng</div>
                  <div class="text-xs text-slate-500">
                    Ph·∫£n ·ª©ng m√£nh li·ªát v·ªõi n∆∞·ªõc (t·ªèa nhi·ªát).
                  </div>
                </div>
              </div>
              <div
                class="flex items-center p-3 bg-white dark:bg-slate-800 rounded shadow-sm"
              >
                <div
                  class="w-10 h-10 bg-gray-100 rounded-full flex items-center justify-center mr-3 font-bold text-gray-600 text-xs"
                >
                  Ca(OH)‚ÇÇ
                </div>
                <div>
                  <div class="font-bold">V√¥i T√¥i / N∆∞·ªõc V√¥i Trong</div>
                  <div class="text-xs text-slate-500">Base m·∫°nh, √≠t tan.</div>
                </div>
              </div>
              <div
                class="flex items-center p-3 bg-white dark:bg-slate-800 rounded shadow-sm"
              >
                <div
                  class="w-10 h-10 bg-gray-300 rounded-full flex items-center justify-center mr-3 font-bold text-gray-600 text-xs"
                >
                  CaCO‚ÇÉ
                </div>
                <div>
                  <div class="font-bold">ƒê√° V√¥i</div>
                  <div class="text-xs text-slate-500">
                    B·ªã nhi·ªát ph√¢n ·ªü 1000¬∞C. H√¨nh th√†nh hang ƒë·ªông.
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- Hard Water Simulation -->
          <div
            class="glass-card p-6 border-2 border-cyan-100 dark:border-cyan-900/50"
          >
            <div class="flex justify-between items-center mb-4">
              <h3 class="font-bold text-xl text-cyan-600">
                M√¥ Ph·ªèng N∆∞·ªõc C·ª©ng
              </h3>
              <div class="flex gap-2">
                <button
                  onclick="heatWater()"
                  class="text-xs bg-red-500 text-white px-2 py-1 rounded hover:bg-red-600 transition"
                >
                  <i class="fas fa-temperature-high mr-1"></i>ƒêun S√¥i
                </button>
                <button
                  onclick="addSoftener()"
                  class="text-xs bg-blue-500 text-white px-2 py-1 rounded hover:bg-blue-600 transition"
                >
                  <i class="fas fa-magic mr-1"></i>Na‚ÇÇCO‚ÇÉ
                </button>
                <button
                  onclick="resetWater()"
                  class="text-xs bg-gray-500 text-white px-2 py-1 rounded"
                >
                  <i class="fas fa-redo"></i>
                </button>
              </div>
            </div>

            <div
              class="sim-container h-48 bg-blue-100 dark:bg-slate-800 relative overflow-hidden"
              id="water-sim"
            >
              <!-- Ions moving around -->
              <div
                class="absolute inset-0 flex items-center justify-center text-slate-400 text-sm italic z-0"
              >
                N∆∞·ªõc ch·ª©a Ca¬≤‚Å∫, Mg¬≤‚Å∫, HCO‚ÇÉ‚Åª, Cl‚Åª
              </div>
              <!-- JS will inject particles here -->
            </div>

            <div
              id="water-status"
              class="mt-3 text-sm font-medium text-center text-slate-600 dark:text-slate-300"
            >
              Tr·∫°ng th√°i: N∆∞·ªõc c·ª©ng to√†n ph·∫ßn
            </div>
          </div>
        </div>

        <!-- Hard Water Types Theory -->
        <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
          <div
            class="p-4 bg-orange-50 dark:bg-orange-900/10 rounded-lg border border-orange-200 dark:border-orange-800"
          >
            <h4 class="font-bold text-orange-600 mb-2">T·∫°m Th·ªùi</h4>
            <p class="text-xs">Ch·ª©a HCO‚ÇÉ‚Åª.</p>
            <p class="text-xs mt-2 font-bold">X·ª≠ l√Ω:</p>
            <p class="text-xs">ƒêun s√¥i ho·∫∑c d√πng OH‚Åª.</p>
          </div>
          <div
            class="p-4 bg-gray-50 dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700"
          >
            <h4 class="font-bold text-gray-600 dark:text-gray-400 mb-2">
              Vƒ©nh C·ª≠u
            </h4>
            <p class="text-xs">Ch·ª©a Cl‚Åª, SO‚ÇÑ¬≤‚Åª.</p>
            <p class="text-xs mt-2 font-bold">X·ª≠ l√Ω:</p>
            <p class="text-xs">D√πng Na‚ÇÇCO‚ÇÉ, Na‚ÇÉPO‚ÇÑ.</p>
          </div>
          <div
            class="p-4 bg-blue-50 dark:bg-blue-900/10 rounded-lg border border-blue-200 dark:border-blue-800"
          >
            <h4 class="font-bold text-blue-600 mb-2">To√†n Ph·∫ßn</h4>
            <p class="text-xs">G·ªìm c·∫£ 2 lo·∫°i tr√™n.</p>
            <p class="text-xs mt-2 font-bold">T√°c h·∫°i:</p>
            <p class="text-xs">ƒê√≥ng c·∫∑n n·ªìi h∆°i, t·ªën x√† ph√≤ng, h·ªèng v·∫£i.</p>
          </div>
        </div>
      </section>

      <!-- =========================================================
             SECTION F: GAME & LUY·ªÜN T·∫¨P
             ========================================================= -->
      <section id="game-zone" class="scroll-mt-28 mb-20">
        <div class="text-center mb-10">
          <span class="text-blue-500 font-bold tracking-wider text-sm uppercase"
            >Gamification</span
          >
          <h2 class="font-display text-4xl font-bold mt-2">
            ƒê·∫•u Tr∆∞·ªùng H√≥a H·ªçc
          </h2>
        </div>

        <div
          class="max-w-3xl mx-auto glass-card p-8 border-t-4 border-indigo-500 shadow-2xl relative overflow-hidden"
        >
          <!-- Progress Bar -->
          <div
            class="absolute top-0 left-0 h-1 bg-indigo-500 transition-all duration-500"
            id="quiz-progress"
            style="width: 0%"
          ></div>

          <!-- Quiz Container -->
          <div id="quiz-container">
            <div
              id="quiz-question"
              class="text-xl font-bold mb-6 text-slate-800 dark:text-white min-h-[60px]"
            >
              Nh·∫•n n√∫t b·∫Øt ƒë·∫ßu ƒë·ªÉ th·ª≠ th√°ch ki·∫øn th·ª©c!
            </div>

            <div
              id="quiz-options"
              class="grid grid-cols-1 md:grid-cols-2 gap-4"
            >
              <!-- Options generated by JS -->
            </div>

            <div
              id="quiz-feedback"
              class="mt-6 hidden p-4 rounded-lg text-center font-bold"
            ></div>

            <div class="mt-8 flex justify-between items-center">
              <div class="text-sm font-bold text-slate-500">
                ƒêi·ªÉm:
                <span id="quiz-score" class="text-indigo-500 text-lg">0</span>
              </div>
              <button
                id="next-btn"
                onclick="nextQuestion()"
                class="px-6 py-2 bg-indigo-600 text-white rounded-full hover:bg-indigo-700 transition hidden"
              >
                C√¢u ti·∫øp theo <i class="fas fa-arrow-right ml-2"></i>
              </button>
              <button
                id="start-btn"
                onclick="startQuiz()"
                class="px-8 py-3 bg-gradient-to-r from-blue-500 to-indigo-600 text-white font-bold rounded-full shadow-lg hover:scale-105 transition"
              >
                B·∫Øt ƒê·∫ßu Ngay
              </button>
            </div>
          </div>
        </div>
      </section>

      <!-- NAVIGATION BUTTONS (REQUIRED FROM PROMPT) -->
      <section class="text-center space-x-4 mb-20">
        <button
          onclick="alert('Ch·ª©c nƒÉng ƒëang c·∫≠p nh·∫≠t!')"
          style="
            display: inline-flex;
            align-items: center;
            gap: 10px;
            padding: 14px 30px;
            font-size: 1rem;
            font-weight: 600;
            border-radius: 999px;
            border: none;
            cursor: pointer;
            color: #fff;
            background: linear-gradient(135deg, #3b82f6, #6366f1);
            box-shadow: 0 10px 30px rgba(59, 130, 246, 0.35);
            transition: 0.3s ease;
          "
          onmouseover="
            this.style.transform = 'translateY(-3px) scale(1.03)';
            this.style.boxShadow = '0 18px 45px rgba(99,102,241,.55)';
          "
          onmouseout="
            this.style.transform = 'translateY(0) scale(1)';
            this.style.boxShadow = '0 10px 30px rgba(59,130,246,.35)';
          "
        >
          <i class="fas fa-pen-to-square"></i>
          B√†i t·∫≠p c·ªßng c·ªë
        </button>

        <button
          onclick="window.scrollTo(0, 0)"
          style="
            display: inline-flex;
            align-items: center;
            gap: 10px;
            padding: 14px 30px;
            font-size: 1rem;
            font-weight: 600;
            border-radius: 999px;
            border: none;
            cursor: pointer;
            color: #fff;
            background: linear-gradient(135deg, #22c55e, #16a34a);
            box-shadow: 0 10px 30px rgba(34, 197, 94, 0.35);
            transition: 0.3s ease;
          "
          onmouseover="
            this.style.transform = 'translateY(-3px)';
            this.style.boxShadow = '0 18px 45px rgba(22,163,74,.55)';
          "
          onmouseout="
            this.style.transform = 'translateY(0)';
            this.style.boxShadow = '0 10px 30px rgba(34,197,94,.35)';
          "
        >
          <i class="fas fa-arrow-up"></i>
          V·ªÅ ƒë·∫ßu trang
        </button>
      </section>
    </main>

    <!-- üîπ FOOTER (REQUIRED STRUCTURE) -->
    <footer>
      <div class="footer-waves"></div>
      <div class="footer-grid">
        <div class="footer-brand" data-aos="fade-right">
          <h2>EDUMATTER</h2>
          <p style="color: #94a3b8; line-height: 1.8">
            Ki·∫øn t·∫°o m√¥i tr∆∞·ªùng h·ªçc t·∫≠p c·∫£m x√∫c, n∆°i tri th·ª©c ƒë∆∞·ª£c s·ªë h√≥a v√†
            truy·ªÅn t·∫£i ƒë·∫ßy c·∫£m h·ª©ng.
          </p>
          <div style="display: flex; gap: 15px; margin-top: 30px">
            <a href="https://www.facebook.com/ducnt214" class="icon-btn"
              ><i class="fab fa-facebook" alt="facebook"></i
            ></a>
            <a href="https://github.com/ducnt2104" class="icon-btn" alt="github"
              ><i class="fab fa-github"></i
            ></a>
            <a
              href="https://www.tiktok.com/@ktbtcthm210"
              class="icon-btn"
              alt="tiktok"
              ><i class="fab fa-tiktok"></i
            ></a>
          </div>
        </div>
        <div class="footer-links" data-aos="fade-up">
          <h3>Li√™n h·ªá nhanh</h3>
          <div class="contact-item">
            <i class="fas fa-envelope"></i>
            <span>ducnt21042010@gmail.com</span>
          </div>
          <div class="contact-item">
            <i class="fas fa-phone"></i>
            <span>034 226 6204</span>
          </div>
          <div class="contact-item">
            <i class="fas fa-location-dot"></i>
            <span>THPT T√¥n ƒê·ª©c Th·∫Øng, ƒê·ªìng Nai</span>
          </div>
        </div>
        <div class="footer-links" data-aos="fade-left">
          <h4>ƒê·ªôi ng≈© DNT</h4>
          <p style="color: #94a3b8">
            "S√°ng t·∫°o kh√¥ng ng·ª´ng - V∆∞∆°n t·∫ßm tri th·ª©c"
          </p>
          <div
            style="
              margin-top: 20px;
              padding: 15px;
              background: rgba(255, 255, 255, 0.05);
              border-radius: 15px;
            "
          >
            <p style="font-size: 0.8rem; color: #fff">
              D·ª± √°n ƒë∆∞·ª£c ph√°t tri·ªÉn b·ªüi c√°c th√†nh vi√™n ƒëam m√™ c√¥ng ngh·ªá t·∫°i Vi·ªát
              Nam.
            </p>
          </div>
        </div>
      </div>
      <div class="copyright">
        <p>
          ¬© 2024 EDUMATTER Educational Ecosystem. Designed with
          <i class="fas fa-heart" style="color: #ef4444"></i> by DNT Team.
        </p>
      </div>
    </footer>

    <!-- 6. JAVASCRIPT LOGIC -->
    <script>
      // --- 1. GLOBAL CONFIG & THEME ---
      const themeToggle = document.getElementById("theme-toggle");
      const html = document.documentElement;

      // Check LocalStorage
      if (
        localStorage.theme === "dark" ||
        (!("theme" in localStorage) &&
          window.matchMedia("(prefers-color-scheme: dark)").matches)
      ) {
        html.classList.add("dark");
      } else {
        html.classList.remove("dark");
      }

      themeToggle.addEventListener("click", () => {
        html.classList.toggle("dark");
        localStorage.theme = html.classList.contains("dark") ? "dark" : "light";
      });

      // Sticky Header Effect
      window.addEventListener("scroll", () => {
        const header = document.getElementById("main-header");
        if (window.scrollY > 50) {
          header.classList.add(
            "bg-white/90",
            "dark:bg-slate-900/90",
            "shadow-md",
          );
          header.classList.remove("border-b");
        } else {
          header.classList.remove(
            "bg-white/90",
            "dark:bg-slate-900/90",
            "shadow-md",
          );
          header.classList.add("border-b");
        }
      });

      // --- 2. PARTICLES BACKGROUND ---
      function createParticles() {
        const container = document.getElementById("particles-js");
        const particleCount = 20;

        for (let i = 0; i < particleCount; i++) {
          const p = document.createElement("div");
          const size = Math.random() * 10 + 5;
          p.classList.add(
            "absolute",
            "rounded-full",
            "bg-blue-400",
            "animate-float",
          );
          p.style.width = `${size}px`;
          p.style.height = `${size}px`;
          p.style.left = `${Math.random() * 100}%`;
          p.style.top = `${Math.random() * 100}%`;
          p.style.animationDuration = `${Math.random() * 5 + 5}s`;
          p.style.opacity = Math.random() * 0.5;
          container.appendChild(p);
        }
      }
      createParticles();

      // --- 3. SIMULATION: CUTTING SODIUM ---
      let cutProgress = 0;
      const knife = document.getElementById("knife");
      const naInside = document.getElementById("na-inside");

      function startCut() {
        document.addEventListener("mousemove", onMouseMove);
      }

      function onMouseMove(e) {
        const containerRect = document
          .getElementById("cut-simulation")
          .getBoundingClientRect();
        const relativeY = e.clientY - containerRect.top;

        // Limit knife movement
        if (relativeY > 20 && relativeY < 150) {
          knife.style.top = `${relativeY}px`;

          // Show shiny inside
          if (relativeY > 60) {
            naInside.style.opacity = "1";
            naInside.style.height = "100%";
            document.getElementById("cut-instruction").innerText =
              "Quan s√°t: B·ªÅ m·∫∑t s√°ng l·∫•p l√°nh!";

            // Oxidation effect (fades to white/gray)
            setTimeout(() => {
              naInside.style.background = "#e2e8f0"; // Grayish
              document.getElementById("cut-instruction").innerText =
                "Hi·ªán t∆∞·ª£ng: M·ªù nhanh do Oxi h√≥a!";
            }, 2000);
          }
        }
      }

      function endCut() {
        document.removeEventListener("mousemove", onMouseMove);
        knife.style.transform = "scale(1)";
      }

      // --- 4. SIMULATION: NA + H2O (CANVAS) ---
      const canvas = document.getElementById("canvas-reaction");
      const ctx = canvas.getContext("2d");
      let reactionReq;
      let particles = [];
      let metal = null;

      function startReaction(type) {
        resetReaction();
        const colors = { Li: "#d1d5db", Na: "#e2e8f0", K: "#94a3b8" };
        const speeds = { Li: 2, Na: 5, K: 10 };

        metal = {
          x: 200,
          y: 125,
          radius: 10,
          vx: (Math.random() - 0.5) * speeds[type],
          vy: (Math.random() - 0.5) * speeds[type],
          color: colors[type],
          type: type,
          life: 100,
        };

        document.getElementById("reaction-log").innerHTML =
          `ƒêang th·∫£ <span class="font-bold text-blue-500">${type}</span> v√†o n∆∞·ªõc...`;
        animateReaction();
      }

      function animateReaction() {
        ctx.clearRect(0, 0, canvas.width, canvas.height);

        if (metal && metal.life > 0) {
          // Draw Metal
          ctx.beginPath();
          ctx.arc(metal.x, metal.y, metal.radius, 0, Math.PI * 2);
          ctx.fillStyle = metal.color;
          ctx.fill();

          // Movement logic
          metal.x += metal.vx;
          metal.y += metal.vy;

          // Bounce
          if (metal.x < 0 || metal.x > canvas.width) metal.vx *= -1;
          if (metal.y < 0 || metal.y > canvas.height) metal.vy *= -1;

          // Fizzing Particles (Hydrogen)
          if (Math.random() > 0.5) {
            particles.push({
              x: metal.x,
              y: metal.y,
              vy: -2,
              life: 30,
            });
          }

          // Change water color (Phenolphthalein)
          if (metal.life < 80) {
            canvas.style.backgroundColor = "rgba(253, 224, 230, 0.5)"; // Light Pink
            if (document.documentElement.classList.contains("dark"))
              canvas.style.backgroundColor = "rgba(190, 24, 93, 0.2)";
          }

          // K explosion
          if (metal.type === "K" && Math.random() > 0.9) {
            ctx.fillStyle = "orange";
            ctx.fillText("üî•", metal.x, metal.y - 10);
          }

          metal.life -= 0.5;
        } else if (metal) {
          document.getElementById("reaction-log").innerHTML =
            "Ph·∫£n ·ª©ng k·∫øt th√∫c. Dung d·ªãch chuy·ªÉn <span class='text-pink-500 font-bold'>H·ªíNG</span> (Base).";
        }

        // Draw Particles
        particles.forEach((p, index) => {
          p.y += p.vy;
          p.life--;
          ctx.fillStyle = "rgba(255,255,255,0.8)";
          ctx.beginPath();
          ctx.arc(p.x, p.y, 2, 0, Math.PI * 2);
          ctx.fill();
          if (p.life <= 0) particles.splice(index, 1);
        });

        reactionReq = requestAnimationFrame(animateReaction);
      }

      function resetReaction() {
        cancelAnimationFrame(reactionReq);
        ctx.clearRect(0, 0, canvas.width, canvas.height);
        metal = null;
        particles = [];
        canvas.style.backgroundColor = ""; // Reset color
        document.getElementById("reaction-log").innerText =
          "Ch·ªçn kim lo·∫°i ƒë·ªÉ b·∫Øt ƒë·∫ßu th√≠ nghi·ªám...";
      }

      // --- 5. SIMULATION: FLAME TEST ---
      function ignite(element, color) {
        const flame = document.getElementById("flame");
        const text = document.getElementById("flame-text");

        // Reset
        flame.style.transform = "scale(0)";
        flame.style.opacity = "0";

        setTimeout(() => {
          // Set Color
          flame.style.background = `radial-gradient(circle, white 10%, ${color} 70%, transparent 80%)`;

          // Animate Up
          flame.style.transform = "scale(1.2)";
          flame.style.opacity = "0.9";

          // Show Text
          text.innerText = `${element} ch√°y cho m√†u ƒë·∫∑c tr∆∞ng`;
          text.style.color = color;
          text.style.opacity = "1";

          // Flicker
          flame.classList.add("animate-pulse");
        }, 100);
      }

      // --- 6. INTERACTION: SOLVAY PROCESS ---
      function toggleSolvayDetail(step) {
        const detailBox = document.getElementById("solvay-detail");
        detailBox.classList.remove("hidden");
        detailBox.classList.add("animate-fadeIn");

        let content = "";
        if (step === 1)
          content =
            "<strong>B1: B√£o h√≤a Amoniac</strong><br>Dung d·ªãch mu·ªëi ƒÉn (NaCl) b√£o h√≤a ƒë∆∞·ª£c s·ª•c kh√≠ NH‚ÇÉ. NH‚ÇÉ gi√∫p t·∫°o m√¥i tr∆∞·ªùng ki·ªÅm ƒë·ªÉ h·∫•p th·ª• CO‚ÇÇ t·ªët h∆°n ·ªü b∆∞·ªõc sau.";
        if (step === 2)
          content =
            "<strong>B2: Carbonat h√≥a</strong><br>S·ª•c kh√≠ CO‚ÇÇ v√†o dung d·ªãch. Ph·∫£n ·ª©ng x·∫£y ra:<br>NaCl + NH‚ÇÉ + CO‚ÇÇ + H‚ÇÇO ‚áå NaHCO‚ÇÉ‚Üì + NH‚ÇÑCl.<br>NaHCO‚ÇÉ √≠t tan n√™n t√°ch ra ·ªü d·∫°ng tinh th·ªÉ.";
        if (step === 3)
          content =
            "<strong>B3: Nung & Thu H·ªìi</strong><br>L·ªçc l·∫•y NaHCO‚ÇÉ r·ªìi nung n√≥ng:<br>2NaHCO‚ÇÉ ‚Üí Na‚ÇÇCO‚ÇÉ + CO‚ÇÇ + H‚ÇÇO.<br>Kh√≠ CO‚ÇÇ sinh ra ƒë∆∞·ª£c quay v√≤ng l·∫°i b∆∞·ªõc 2 (Ti·∫øt ki·ªám nguy√™n li·ªáu!).";

        detailBox.innerHTML = content;
      }

      // --- 7. EXPERIMENT: SULFATE PRECIPITATE ---
      function addSulfate(ion) {
        const tube = document.getElementById(`precip-${ion}`);
        tube.style.height = ion === "Ba" ? "80%" : "20%";
        tube.style.backgroundColor = "white";
        tube.style.opacity = "1";

        if (ion === "Ca") {
          tube.style.opacity = "0.5"; // √çt tan h∆°n/M·ªù h∆°n
        }
      }

      // --- 8. SIMULATION: HARD WATER ---
      function heatWater() {
        const sim = document.getElementById("water-sim");
        const status = document.getElementById("water-status");

        // Visual: Remove HCO3 ions (Bubbles)
        sim.innerHTML = `<div class="absolute inset-0 flex items-center justify-center text-slate-500 font-bold animate-pulse">üî• ƒêang ƒëun s√¥i... t¬∞</div>`;

        setTimeout(() => {
          sim.innerHTML = `<div class="text-center mt-10">
                    <span class="block mb-2">Ca(HCO‚ÇÉ)‚ÇÇ ‚Üí CaCO‚ÇÉ‚Üì + CO‚ÇÇ‚Üë</span>
                    <div class="inline-block bg-white/50 px-2 py-1 rounded">ƒê√£ lo·∫°i b·ªè ƒë·ªô c·ª©ng t·∫°m th·ªùi</div>
                </div>`;
          status.innerText =
            "Tr·∫°ng th√°i: Ch·ªâ c√≤n ƒë·ªô c·ª©ng vƒ©nh c·ª≠u (Cl‚Åª, SO‚ÇÑ¬≤‚Åª)";
          status.className =
            "mt-3 text-sm font-medium text-center text-orange-500";
        }, 2000);
      }

      function addSoftener() {
        const sim = document.getElementById("water-sim");
        const status = document.getElementById("water-status");

        sim.innerHTML = `<div class="absolute inset-0 flex items-center justify-center text-blue-500 font-bold">Th√™m Na‚ÇÇCO‚ÇÉ...</div>`;

        setTimeout(() => {
          sim.innerHTML = `<div class="text-center mt-10">
                    <span class="block mb-2">Ca¬≤‚Å∫ + CO‚ÇÉ¬≤‚Åª ‚Üí CaCO‚ÇÉ‚Üì (K·∫øt t·ªßa h·∫øt)</span>
                    <div class="inline-block bg-blue-100 text-blue-800 px-2 py-1 rounded font-bold">N∆Ø·ªöC ƒê√É M·ªÄM ‚úîÔ∏è</div>
                </div>`;
          status.innerText = "Tr·∫°ng th√°i: N∆∞·ªõc m·ªÅm (S·∫°ch ion Ca¬≤‚Å∫, Mg¬≤‚Å∫)";
          status.className =
            "mt-3 text-sm font-medium text-center text-green-500";
        }, 1500);
      }

      function resetWater() {
        document.getElementById("water-sim").innerHTML =
          `<div class="absolute inset-0 flex items-center justify-center text-slate-400 text-sm italic z-0">N∆∞·ªõc ch·ª©a Ca¬≤‚Å∫, Mg¬≤‚Å∫, HCO‚ÇÉ‚Åª, Cl‚Åª</div>`;
        document.getElementById("water-status").innerText =
          "Tr·∫°ng th√°i: N∆∞·ªõc c·ª©ng to√†n ph·∫ßn";
        document.getElementById("water-status").className =
          "mt-3 text-sm font-medium text-center text-slate-600 dark:text-slate-300";
      }

      // --- 9. GAME LOGIC ---
      const questions = [
        {
          q: "Kim lo·∫°i ki·ªÅm n√†o c√≥ nhi·ªát ƒë·ªô n√≥ng ch·∫£y th·∫•p nh·∫•t?",
          options: ["Li", "Na", "K", "Cs"],
          correct: 3,
          explain:
            "Nhi·ªát ƒë·ªô n√≥ng ch·∫£y gi·∫£m d·∫ßn t·ª´ Li ƒë·∫øn Cs. Cs n√≥ng ch·∫£y ·ªü 28¬∞C.",
        },
        {
          q: "ƒê·ªÉ b·∫£o qu·∫£n Na, ng∆∞·ªùi ta ng√¢m n√≥ trong?",
          options: ["N∆∞·ªõc", "D·∫ßu h·ªèa", "C·ªìn", "Gi·∫•m"],
          correct: 1,
          explain:
            "Na t√°c d·ª•ng m·∫°nh v·ªõi n∆∞·ªõc v√† oxi, n√™n c·∫ßn ng√¢m trong d·∫ßu h·ªèa ƒë·ªÉ c√°ch ly.",
        },
        {
          q: "Hi·ªán t∆∞·ª£ng khi cho Na v√†o dung d·ªãch CuSO‚ÇÑ?",
          options: [
            "Ch·ªâ s·ªßi b·ªçt kh√≠",
            "C√≥ k·∫øt t·ªßa ƒë·ªè Cu",
            "S·ªßi b·ªçt kh√≠ + K·∫øt t·ªßa xanh lam",
            "Kh√¥ng hi·ªán t∆∞·ª£ng",
          ],
          correct: 2,
          explain:
            "Na + H‚ÇÇO ‚Üí NaOH + H‚ÇÇ (s·ªßi b·ªçt). Sau ƒë√≥ 2NaOH + CuSO‚ÇÑ ‚Üí Cu(OH)‚ÇÇ‚Üì (xanh) + Na‚ÇÇSO‚ÇÑ.",
        },
        {
          q: "Th√†nh ph·∫ßn c·ªßa th·∫°ch cao nung l√†?",
          options: ["CaSO‚ÇÑ.2H‚ÇÇO", "CaSO‚ÇÑ.H‚ÇÇO", "CaSO‚ÇÑ", "CaCO‚ÇÉ"],
          correct: 1, // Th·ª±c t·∫ø l√† CaSO4.0,5H2O ho·∫∑c H2O t√πy s√°ch, ch·ªçn ƒë√°p √°n g·∫ßn nh·∫•t SGK th∆∞·ªùng d·∫°y
          explain: "Th·∫°ch cao nung l√† CaSO‚ÇÑ.H‚ÇÇO (ho·∫∑c 0.5H‚ÇÇO), d√πng ƒë·ªÉ b√≥ b·ªôt.",
        },
      ];

      let currentQ = 0;
      let score = 0;

      function startQuiz() {
        document.getElementById("start-btn").classList.add("hidden");
        loadQuestion();
      }

      function loadQuestion() {
        const q = questions[currentQ];
        document.getElementById("quiz-question").innerText =
          `C√¢u ${currentQ + 1}: ${q.q}`;
        const optionsDiv = document.getElementById("quiz-options");
        optionsDiv.innerHTML = "";

        document.getElementById("quiz-feedback").classList.add("hidden");
        document.getElementById("next-btn").classList.add("hidden");

        q.options.forEach((opt, index) => {
          const btn = document.createElement("button");
          btn.className =
            "p-4 text-left border rounded-lg hover:bg-indigo-50 dark:hover:bg-indigo-900/20 transition group";
          btn.onclick = () => checkAnswer(index, btn);
          btn.innerHTML = `<span class="font-bold text-indigo-500 mr-2">${["A", "B", "C", "D"][index]}.</span> ${opt}`;
          optionsDiv.appendChild(btn);
        });

        // Update Progress
        document.getElementById("quiz-progress").style.width =
          `${(currentQ / questions.length) * 100}%`;
      }

      function checkAnswer(selected, btnElement) {
        const q = questions[currentQ];
        const feedback = document.getElementById("quiz-feedback");
        const allBtns = document.getElementById("quiz-options").children;

        // Disable all buttons
        for (let btn of allBtns) btn.disabled = true;

        feedback.classList.remove("hidden");

        if (selected === q.correct) {
          score += 10;
          document.getElementById("quiz-score").innerText = score;
          btnElement.classList.add(
            "bg-green-100",
            "border-green-500",
            "dark:bg-green-900",
          );
          feedback.className =
            "mt-6 p-4 rounded-lg text-center font-bold bg-green-100 text-green-700 dark:bg-green-900 dark:text-green-300";
          feedback.innerHTML = `<i class="fas fa-check-circle"></i> Ch√≠nh x√°c! ${q.explain}`;
        } else {
          btnElement.classList.add(
            "bg-red-100",
            "border-red-500",
            "dark:bg-red-900",
          );
          allBtns[q.correct].classList.add(
            "bg-green-100",
            "border-green-500",
            "dark:bg-green-900",
          );
          feedback.className =
            "mt-6 p-4 rounded-lg text-center font-bold bg-red-100 text-red-700 dark:bg-red-900 dark:text-red-300";
          feedback.innerHTML = `<i class="fas fa-times-circle"></i> Sai r·ªìi. ƒê√°p √°n ƒë√∫ng l√†: ${q.options[q.correct]}. <br><span class="text-sm font-normal">${q.explain}</span>`;
        }

        if (currentQ < questions.length - 1) {
          document.getElementById("next-btn").classList.remove("hidden");
        } else {
          document.getElementById("next-btn").innerText = "Ho√†n Th√†nh";
          document.getElementById("next-btn").onclick = () => {
            alert(`Ch√∫c m·ª´ng! B·∫°n ƒë·∫°t ${score}/${questions.length * 10} ƒëi·ªÉm.`);
            currentQ = 0;
            score = 0;
            document.getElementById("quiz-score").innerText = 0;
            document.getElementById("start-btn").classList.remove("hidden");
            document.getElementById("quiz-question").innerText =
              "Nh·∫•n n√∫t b·∫Øt ƒë·∫ßu ƒë·ªÉ th·ª≠ th√°ch l·∫°i!";
            document.getElementById("quiz-options").innerHTML = "";
            document.getElementById("quiz-feedback").classList.add("hidden");
            document.getElementById("next-btn").classList.add("hidden");
          };
          document.getElementById("next-btn").classList.remove("hidden");
        }
      }

      function nextQuestion() {
        currentQ++;
        loadQuestion();
      }
    </script>
  </body>
</html>
