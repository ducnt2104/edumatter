<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>H√≥a H·ªçc 12 - Ch∆∞∆°ng 3: Nitrogen</title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Font Awesome -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />
    <!-- Google Fonts -->
    <link
      href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;600;700;800&display=swap"
      rel="stylesheet"
    />
    <script>
      tailwind.config = {
        theme: {
          extend: {
            fontFamily: {
              sans: ["Nunito", "sans-serif"],
            },
            colors: {
              nitroPurple: "#8B5CF6",
              aminoPink: "#EC4899",
              proteinIndigo: "#6366F1",
              acidRed: "#EF4444",
              baseBlue: "#3B82F6",
            },
            animation: {
              float: "float 3s ease-in-out infinite",
              "pulse-slow": "pulse 3s cubic-bezier(0.4, 0, 0.6, 1) infinite",
            },
            keyframes: {
              float: {
                "0%, 100%": { transform: "translateY(0)" },
                "50%": { transform: "translateY(-10px)" },
              },
            },
          },
        },
      };
    </script>
    <style>
      body {
        background: linear-gradient(135deg, #f5f3ff 0%, #e0e7ff 100%);
        min-height: 100vh;
      }

      ::-webkit-scrollbar {
        width: 8px;
      }
      ::-webkit-scrollbar-track {
        background: #f1f1f1;
      }
      ::-webkit-scrollbar-thumb {
        background: #a5b4fc;
        border-radius: 4px;
      }
      ::-webkit-scrollbar-thumb:hover {
        background: #818cf8;
      }

      .tab-btn.active {
        background-color: white;
        color: #8b5cf6;
        border-left: 4px solid #8b5cf6;
        box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
      }

      .fade-in {
        animation: fadeIn 0.5s ease-in;
      }
      @keyframes fadeIn {
        from {
          opacity: 0;
          transform: translateY(10px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      /* Molecule Animation Classes */
      .ion-h {
        transition: all 0.5s cubic-bezier(0.34, 1.56, 0.64, 1);
      }

      /* Smoke Effect */
      .smoke-particle {
        position: absolute;
        background: rgba(255, 255, 255, 0.8);
        border-radius: 50%;
        filter: blur(5px);
        animation: rise 2s infinite linear;
      }
      @keyframes rise {
        0% {
          transform: translateY(0) scale(1);
          opacity: 0;
        }
        50% {
          opacity: 0.6;
        }
        100% {
          transform: translateY(-50px) scale(3);
          opacity: 0;
        }
      }

      /* Biuret Color Transition */
      .biuret-liquid {
        transition: background-color 2s ease;
      }
    </style>
  </head>
  <body
    class="text-slate-700 overflow-hidden h-screen flex flex-col md:flex-row"
  >
    <!-- Mobile Header -->
    <div
      class="md:hidden bg-white p-4 shadow-md flex justify-between items-center z-50 relative"
    >
      <h1 class="text-xl font-bold text-nitroPurple">H√≥a H·ªçc 12 - Ch∆∞∆°ng 3</h1>
      <button onclick="toggleMenu()" class="text-slate-600 focus:outline-none">
        <i class="fas fa-bars text-2xl"></i>
      </button>
    </div>

    <!-- Sidebar -->
    <nav
      id="sidebar"
      class="transform -translate-x-full md:translate-x-0 transition-transform duration-300 fixed md:relative z-40 w-64 h-full bg-slate-50 border-r border-slate-200 flex flex-col shadow-lg md:shadow-none"
    >
      <div class="p-6 border-b border-slate-200 hidden md:block">
        <h1
          class="text-2xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-purple-600 to-indigo-500"
        >
          CHEMISTRY 12
        </h1>
        <p class="text-xs text-indigo-400 mt-1">
          Nitrogen - Amino Acid - Protein
        </p>
      </div>

      <div class="flex-1 overflow-y-auto py-4">
        <ul class="space-y-1">
          <li>
            <button
              onclick="showSection('intro')"
              class="tab-btn active w-full text-left px-6 py-3 font-semibold text-slate-600 hover:bg-white hover:text-nitroPurple transition-colors flex items-center gap-3"
            >
              <i class="fas fa-atom w-6"></i> T·ªïng Quan
            </button>
          </li>
          <li>
            <button
              onclick="showSection('amine')"
              class="tab-btn w-full text-left px-6 py-3 font-semibold text-slate-600 hover:bg-white hover:text-nitroPurple transition-colors flex items-center gap-3"
            >
              <i class="fas fa-fish w-6"></i> I. Amine
            </button>
          </li>
          <li>
            <button
              onclick="showSection('amino')"
              class="tab-btn w-full text-left px-6 py-3 font-semibold text-slate-600 hover:bg-white hover:text-aminoPink transition-colors flex items-center gap-3"
            >
              <i class="fas fa-dna w-6"></i> II. Amino Acid & Peptide
            </button>
          </li>
          <li>
            <button
              onclick="showSection('protein')"
              class="tab-btn w-full text-left px-6 py-3 font-semibold text-slate-600 hover:bg-white hover:text-proteinIndigo transition-colors flex items-center gap-3"
            >
              <i class="fas fa-egg w-6"></i> III. Protein & Enzyme
            </button>
          </li>
          <li>
            <button
              onclick="showSection('quiz')"
              class="tab-btn w-full text-left px-6 py-3 font-semibold text-slate-600 hover:bg-white hover:text-emerald-500 transition-colors flex items-center gap-3"
            >
              <i class="fas fa-clipboard-question w-6"></i> Luy·ªán T·∫≠p
            </button>
          </li>
        </ul>
      </div>

      <div
        class="p-4 border-t border-slate-200 text-center text-xs text-slate-400"
      >
        Interactive Learning ¬© 2025
      </div>
    </nav>

    <!-- Main Content -->
    <main
      class="flex-1 h-full overflow-y-auto bg-slate-100 p-4 md:p-8 relative"
      onclick="closeMenu()"
    >
      <!-- INTRO SECTION -->
      <section
        id="intro"
        class="section-content max-w-5xl mx-auto fade-in block"
      >
        <div
          class="bg-gradient-to-r from-purple-500 to-indigo-500 rounded-3xl p-8 shadow-xl mb-6 text-white relative overflow-hidden"
        >
          <div
            class="absolute top-0 right-0 w-64 h-64 bg-white opacity-10 rounded-full mix-blend-overlay filter blur-3xl animate-float"
          ></div>
          <h2 class="text-4xl font-bold mb-4 relative z-10">
            S·ª± S·ªëng & Nitrogen üß¨
          </h2>
          <p class="text-lg relative z-10 opacity-90">
            Kh√°m ph√° n·ªÅn t·∫£ng c·ªßa s·ª± s·ªëng: T·ª´ Amine ƒë∆°n gi·∫£n ƒë·∫øn c·∫•u tr√∫c
            Protein ph·ª©c t·∫°p.
          </p>
        </div>

        <div class="grid md:grid-cols-3 gap-6">
          <!-- Amine Card -->
          <div
            class="bg-white p-6 rounded-2xl shadow-sm hover:shadow-lg transition cursor-pointer group"
            onclick="showSection('amine')"
          >
            <div
              class="w-14 h-14 bg-purple-100 rounded-full flex items-center justify-center text-nitroPurple text-2xl mb-4 group-hover:scale-110 transition"
            >
              <i class="fas fa-fish"></i>
            </div>
            <h3 class="font-bold text-xl mb-2 text-slate-800">Amine</h3>
            <p class="text-sm text-slate-500">
              D·∫´n xu·∫•t NH‚ÇÉ. T√≠nh baz∆° ƒë·∫∑c tr∆∞ng, m√πi khai, t·∫°o kh√≥i tr·∫Øng.
            </p>
          </div>
          <!-- Amino Acid Card -->
          <div
            class="bg-white p-6 rounded-2xl shadow-sm hover:shadow-lg transition cursor-pointer group"
            onclick="showSection('amino')"
          >
            <div
              class="w-14 h-14 bg-pink-100 rounded-full flex items-center justify-center text-aminoPink text-2xl mb-4 group-hover:scale-110 transition"
            >
              <i class="fas fa-link"></i>
            </div>
            <h3 class="font-bold text-xl mb-2 text-slate-800">Amino Acid</h3>
            <p class="text-sm text-slate-500">
              L∆∞·ª°ng t√≠nh. ƒê∆°n v·ªã c∆° s·ªü c·ªßa s·ª± s·ªëng (Protein).
            </p>
          </div>
          <!-- Protein Card -->
          <div
            class="bg-white p-6 rounded-2xl shadow-sm hover:shadow-lg transition cursor-pointer group"
            onclick="showSection('protein')"
          >
            <div
              class="w-14 h-14 bg-indigo-100 rounded-full flex items-center justify-center text-proteinIndigo text-2xl mb-4 group-hover:scale-110 transition"
            >
              <i class="fas fa-egg"></i>
            </div>
            <h3 class="font-bold text-xl mb-2 text-slate-800">Protein</h3>
            <p class="text-sm text-slate-500">
              Chu·ªói Polypeptide. Ph·∫£n ·ª©ng m√†u Biure, ƒë√¥ng t·ª•.
            </p>
          </div>
        </div>
      </section>

      <!-- AMINE SECTION -->
      <section
        id="amine"
        class="section-content max-w-5xl mx-auto hidden fade-in"
      >
        <h2
          class="text-3xl font-bold text-nitroPurple mb-6 flex items-center gap-3"
        >
          <i class="fas fa-vial"></i> I. Amine
        </h2>

        <div class="grid md:grid-cols-2 gap-6 mb-8">
          <div
            class="bg-white p-6 rounded-2xl shadow-sm border-l-4 border-purple-500"
          >
            <h3 class="font-bold text-lg mb-3">1. C·∫•u tr√∫c & Ph√¢n lo·∫°i</h3>
            <div class="space-y-3 text-sm text-slate-600">
              <div
                class="flex items-center justify-between bg-slate-50 p-2 rounded"
              >
                <span
                  >B·∫≠c 1: <strong class="text-purple-600">R-NH‚ÇÇ</strong></span
                >
                <span
                  class="text-xs bg-purple-100 text-purple-600 px-2 py-1 rounded"
                  >CH‚ÇÉNH‚ÇÇ</span
                >
              </div>
              <div
                class="flex items-center justify-between bg-slate-50 p-2 rounded"
              >
                <span
                  >B·∫≠c 2: <strong class="text-purple-600">R-NH-R'</strong></span
                >
                <span
                  class="text-xs bg-purple-100 text-purple-600 px-2 py-1 rounded"
                  >(CH‚ÇÉ)‚ÇÇNH</span
                >
              </div>
              <div
                class="flex items-center justify-between bg-slate-50 p-2 rounded"
              >
                <span
                  >B·∫≠c 3:
                  <strong class="text-purple-600">R-N(R')-R''</strong></span
                >
                <span
                  class="text-xs bg-purple-100 text-purple-600 px-2 py-1 rounded"
                  >(CH‚ÇÉ)‚ÇÉN</span
                >
              </div>
            </div>
            <div class="mt-4 text-sm bg-yellow-50 p-3 rounded text-yellow-800">
              <i class="fas fa-exclamation-triangle"></i>
              <strong>L∆∞u √Ω:</strong> B·∫≠c amine t√≠nh b·∫±ng s·ªë g·ªëc hydrocarbon
              thay th·∫ø H c·ªßa NH3 (kh√°c v·ªõi b·∫≠c alcohol).
            </div>
          </div>

          <!-- SIMULATION: Litmus & HCl -->
          <div class="bg-white rounded-2xl shadow-lg p-6">
            <h3 class="font-bold text-lg mb-4 text-slate-800">
              üß™ Th√≠ nghi·ªám ·∫£o: T√≠nh Baz∆°
            </h3>

            <!-- Litmus Test -->
            <div class="mb-6 pb-6 border-b border-slate-100">
              <p class="text-sm mb-2 font-semibold">
                1. Qu·ª≥ t√≠m ·∫©m + H∆°i Methylamine
              </p>
              <div
                class="relative h-24 bg-slate-100 rounded-lg flex items-center justify-center overflow-hidden group"
                id="litmus-container"
              >
                <div class="absolute bottom-2 font-mono text-xs text-slate-400">
                  Di chu·ªôt v√†o ƒë·ªÉ ƒë∆∞a qu·ª≥ t√≠m v√†o l·ªç
                </div>
                <!-- Beaker -->
                <div
                  class="absolute bottom-0 w-16 h-12 bg-purple-100 border-2 border-slate-300 border-b-0 rounded-t-none"
                ></div>
                <div
                  class="absolute bottom-4 text-xs font-bold text-purple-800 z-10"
                >
                  CH‚ÇÉNH‚ÇÇ
                </div>

                <!-- Litmus Paper -->
                <div
                  id="litmus-paper"
                  class="w-32 h-6 bg-pink-400 shadow-md transform -rotate-12 transition-all duration-1000 absolute top-2 cursor-pointer group-hover:top-10 group-hover:bg-blue-600 flex items-center justify-center"
                >
                  <span class="text-[10px] text-white font-bold opacity-80"
                    >Qu·ª≥ t√≠m</span
                  >
                </div>
              </div>
              <p class="text-xs text-slate-500 mt-2 text-center italic">
                Amine l√†m qu·ª≥ t√≠m h√≥a xanh (do t·∫°o ion OH‚Åª).
              </p>
            </div>

            <!-- HCl Smoke Test -->
            <div>
              <p class="text-sm mb-2 font-semibold">
                2. ƒê≈©a th·ªßy tinh t·∫©m HCl ƒë·∫∑c
              </p>
              <div
                class="relative h-32 bg-slate-800 rounded-lg flex items-center justify-center overflow-hidden"
              >
                <!-- Bottle -->
                <div
                  class="absolute bottom-0 w-20 h-16 bg-white/10 border border-white/30 backdrop-blur-sm rounded-t-xl flex items-center justify-center"
                >
                  <span class="text-white text-xs font-bold">CH‚ÇÉNH‚ÇÇ (ƒë·∫∑c)</span>
                </div>

                <!-- Rod -->
                <div
                  id="glass-rod"
                  class="absolute top-[-50px] w-2 h-24 bg-slate-400 rounded-b-full transition-all duration-500 cursor-pointer"
                  onclick="runSmokeTest()"
                >
                  <div
                    class="absolute bottom-0 w-3 h-4 bg-yellow-100 rounded-full opacity-50 blur-[1px]"
                  ></div>
                </div>

                <!-- Smoke Container -->
                <div
                  id="smoke-container"
                  class="absolute bottom-16 w-full h-full pointer-events-none"
                ></div>

                <!-- Action Button -->
                <button
                  onclick="runSmokeTest()"
                  class="absolute top-2 right-2 bg-white/20 hover:bg-white/30 text-white text-xs px-2 py-1 rounded transition"
                >
                  <i class="fas fa-play"></i> Nh√∫ng ƒë≈©a
                </button>
              </div>
              <p class="text-xs text-slate-500 mt-2 text-center italic">
                CH‚ÇÉNH‚ÇÇ + HCl ‚Üí CH‚ÇÉNH‚ÇÉCl (Kh√≥i tr·∫Øng)
              </p>
            </div>
          </div>
        </div>
      </section>

      <!-- AMINO ACID SECTION -->
      <section
        id="amino"
        class="section-content max-w-5xl mx-auto hidden fade-in"
      >
        <h2
          class="text-3xl font-bold text-aminoPink mb-6 flex items-center gap-3"
        >
          <i class="fas fa-dna"></i> II. Amino Acid & Peptide
        </h2>

        <!-- Zwitterion Concept -->
        <div
          class="bg-gradient-to-r from-pink-50 to-purple-50 p-6 rounded-2xl border border-pink-100 mb-8 shadow-sm"
        >
          <div
            class="flex flex-col md:flex-row items-center justify-between gap-6"
          >
            <div>
              <h3 class="font-bold text-xl text-pink-700 mb-2">
                Ion L∆∞·ª°ng C·ª±c (Zwitterion)
              </h3>
              <p class="text-sm text-slate-600 mb-2">
                ·ªû tr·∫°ng th√°i r·∫Øn ho·∫∑c dung d·ªãch trung t√≠nh (g·∫ßn pI), amino acid
                t·ªìn t·∫°i d·∫°ng ion l∆∞·ª°ng c·ª±c.
              </p>
              <div
                class="bg-white p-3 rounded-lg font-mono text-center shadow-inner text-slate-800"
              >
                <span class="text-blue-600">‚Å∫H‚ÇÉN</span>‚ÄìCHR‚Äì<span
                  class="text-red-500"
                  >COO‚Åª</span
                >
              </div>
            </div>

            <!-- Peptide Bond Animation (CSS-only simplified) -->
            <div class="bg-white p-4 rounded-xl shadow-sm text-center">
              <h4 class="font-bold text-sm text-slate-500 mb-2">
                Li√™n k·∫øt Peptide
              </h4>
              <div class="flex items-center gap-1 font-mono text-xs md:text-sm">
                <span class="bg-pink-100 p-1 rounded">COOH</span>
                <span class="text-slate-400">+</span>
                <span class="bg-blue-100 p-1 rounded">NH‚ÇÇ</span>
                <i class="fas fa-arrow-right text-slate-400 mx-1"></i>
                <span
                  class="bg-green-100 p-1 rounded font-bold border border-green-300"
                  >-CO-NH-</span
                >
                <span class="text-slate-400">+</span>
                <span>H‚ÇÇO</span>
              </div>
            </div>
          </div>
        </div>

        <!-- SIMULATION: Electrophoresis & pH -->
        <div class="bg-white rounded-2xl shadow-lg p-6 mb-8">
          <h3 class="font-bold text-xl mb-4 text-slate-800">
            ‚ö° M√¥ ph·ªèng: S·ª± ƒëi·ªán di & ·∫¢nh h∆∞·ªüng c·ªßa pH
          </h3>

          <!-- Controls -->
          <div class="flex flex-col md:flex-row items-center gap-6 mb-6">
            <div class="w-full md:w-1/2">
              <label
                class="block text-sm font-bold text-slate-700 mb-2 flex justify-between"
              >
                <span
                  >M√¥i tr∆∞·ªùng pH:
                  <span id="ph-display" class="text-purple-600"
                    >7.0 (Trung t√≠nh)</span
                  ></span
                >
              </label>
              <input
                type="range"
                id="ph-slider"
                min="1"
                max="13"
                value="7"
                step="1"
                class="w-full h-2 bg-gradient-to-r from-red-400 via-green-400 to-blue-500 rounded-lg appearance-none cursor-pointer"
                oninput="updateAminoAcidState(this.value)"
              />
              <div class="flex justify-between text-xs text-slate-400 mt-1">
                <span>Axit (pH < 7)</span>
                <span>Ki·ªÅm (pH > 7)</span>
              </div>
            </div>

            <div
              class="w-full md:w-1/2 bg-slate-50 p-3 rounded-lg border border-slate-200 text-center min-h-[80px] flex items-center justify-center"
            >
              <div
                id="molecule-display"
                class="font-mono text-xl font-bold transition-all duration-300"
              >
                <span class="text-blue-600">‚Å∫H‚ÇÉN</span>-CH(R)-<span
                  class="text-red-500"
                  >COO‚Åª</span
                >
              </div>
            </div>
          </div>

          <!-- Electrophoresis Tank -->
          <div
            class="relative w-full h-40 bg-slate-800 rounded-xl overflow-hidden shadow-inner border-4 border-slate-600"
          >
            <!-- Electrodes -->
            <div
              class="absolute left-0 top-0 h-full w-8 bg-gradient-to-r from-red-600 to-red-800 flex items-center justify-center text-white font-bold opacity-80 z-10"
            >
              +
            </div>
            <div
              class="absolute right-0 top-0 h-full w-8 bg-gradient-to-l from-blue-600 to-blue-800 flex items-center justify-center text-white font-bold opacity-80 z-10"
            >
              -
            </div>

            <!-- Solution Liquid -->
            <div
              class="absolute inset-0 bg-blue-500/10 backdrop-blur-[1px]"
            ></div>

            <!-- Particles -->
            <div
              id="particles-container"
              class="absolute inset-0 flex items-center justify-center"
            >
              <!-- JS will inject particles here -->
              <div
                id="particle-group"
                class="transition-transform duration-1000 ease-linear flex gap-4"
              >
                <div
                  class="w-6 h-6 rounded-full bg-yellow-400 shadow-lg shadow-yellow-400/50 animate-pulse"
                ></div>
                <div
                  class="w-6 h-6 rounded-full bg-yellow-400 shadow-lg shadow-yellow-400/50 animate-pulse"
                  style="animation-delay: 0.2s"
                ></div>
                <div
                  class="w-6 h-6 rounded-full bg-yellow-400 shadow-lg shadow-yellow-400/50 animate-pulse"
                  style="animation-delay: 0.4s"
                ></div>
              </div>
            </div>

            <div
              class="absolute bottom-2 left-1/2 transform -translate-x-1/2 text-white/50 text-xs uppercase tracking-widest"
            >
              Bu·ªìng ƒëi·ªán di
            </div>
          </div>

          <div
            class="mt-4 text-sm text-slate-600 bg-slate-50 p-3 rounded border border-slate-200"
          >
            <strong>Gi·∫£i th√≠ch:</strong>
            <ul class="list-disc list-inside mt-1 ml-2 text-xs md:text-sm">
              <li>
                <strong>pH th·∫•p (Axit):</strong> Nh·∫≠n H‚Å∫ ‚Üí D·∫°ng Cation (+) ‚Üí Di
                chuy·ªÉn v·ªÅ c·ª±c √Çm (-).
              </li>
              <li>
                <strong>pH cao (Ki·ªÅm):</strong> Nh∆∞·ªùng H‚Å∫ ‚Üí D·∫°ng Anion (-) ‚Üí Di
                chuy·ªÉn v·ªÅ c·ª±c D∆∞∆°ng (+).
              </li>
              <li>
                <strong>pH = pI (ƒê·∫≥ng ƒëi·ªán):</strong> D·∫°ng l∆∞·ª°ng c·ª±c trung h√≤a ‚Üí
                Kh√¥ng di chuy·ªÉn.
              </li>
            </ul>
          </div>
        </div>
      </section>

      <!-- PROTEIN SECTION -->
      <section
        id="protein"
        class="section-content max-w-5xl mx-auto hidden fade-in"
      >
        <h2
          class="text-3xl font-bold text-proteinIndigo mb-6 flex items-center gap-3"
        >
          <i class="fas fa-egg"></i> III. Protein & Enzyme
        </h2>

        <div class="grid md:grid-cols-2 gap-8 mb-8">
          <!-- Theory -->
          <div class="space-y-6">
            <div
              class="bg-white p-6 rounded-2xl shadow-sm border-l-4 border-indigo-500"
            >
              <h3 class="font-bold text-lg mb-2">C·∫•u tr√∫c Protein</h3>
              <p class="text-sm text-slate-600 mb-2">
                Protein l√† polymer sinh h·ªçc c·∫•u t·∫°o t·ª´ c√°c g·ªëc Œ±-amino acid.
              </p>
              <div class="grid grid-cols-2 gap-2 text-xs font-bold text-center">
                <div class="bg-indigo-50 p-2 rounded text-indigo-700">
                  B·∫≠c 1: Chu·ªói aa
                </div>
                <div class="bg-purple-50 p-2 rounded text-purple-700">
                  B·∫≠c 2: Xo·∫Øn Œ± / Phi·∫øn Œ≤
                </div>
                <div class="bg-pink-50 p-2 rounded text-pink-700">
                  B·∫≠c 3: Cu·ªôn 3D
                </div>
                <div class="bg-blue-50 p-2 rounded text-blue-700">
                  B·∫≠c 4: Ph·ª©c h·ª£p
                </div>
              </div>
            </div>

            <div
              class="bg-white p-6 rounded-2xl shadow-sm border-l-4 border-red-500"
            >
              <h3 class="font-bold text-lg mb-2">S·ª± bi·∫øn t√≠nh</h3>
              <p class="text-sm text-slate-600">
                D∆∞·ªõi t√°c d·ª•ng c·ªßa nhi·ªát ƒë·ªô, axit, ki·ªÅm... c·∫•u tr√∫c kh√¥ng gian b·ªã
                ph√° v·ª° ‚Üí protein ƒë√¥ng t·ª•.
              </p>
              <div class="flex items-center gap-2 mt-2">
                <i class="fas fa-fire text-orange-500"></i>
                <span class="text-xs text-slate-500"
                  >V√≠ d·ª•: Lu·ªôc tr·ª©ng, ri√™u cua.</span
                >
              </div>
            </div>
          </div>

          <!-- SIMULATION: Biuret Test -->
          <div class="bg-white p-6 rounded-2xl shadow-lg">
            <h3 class="font-bold text-xl mb-4 text-center">
              üß™ Ph·∫£n ·ª©ng m√†u Biure
            </h3>
            <p class="text-xs text-center text-slate-500 mb-4">
              Nh·∫≠n bi·∫øt peptide (‚â•2 li√™n k·∫øt) v√† protein
            </p>

            <div class="relative w-40 h-64 mx-auto">
              <!-- Test Tube -->
              <div
                class="absolute bottom-0 left-1/2 transform -translate-x-1/2 w-20 h-48 border-2 border-slate-300 border-t-0 rounded-b-3xl bg-slate-50 overflow-hidden"
              >
                <!-- Liquid -->
                <div
                  id="biuret-liquid"
                  class="biuret-liquid absolute bottom-0 w-full h-32 bg-transparent opacity-90 flex items-end justify-center pb-4"
                >
                  <span
                    class="text-xs text-white font-bold opacity-0 transition-opacity"
                    id="biuret-text"
                    >Ph·ª©c m√†u t√≠m</span
                  >
                </div>
              </div>

              <!-- Dropper Cu(OH)2 -->
              <div
                id="cu-dropper"
                class="absolute top-0 right-[-20px] w-8 h-24 transition-transform duration-700"
              >
                <div class="w-2 h-16 bg-slate-300 mx-auto rounded-t"></div>
                <div class="w-1 h-2 bg-blue-400 mx-auto rounded-b-full"></div>
                <div
                  class="absolute -top-1 left-1/2 transform -translate-x-1/2 w-4 h-6 bg-blue-500 rounded-t-full cursor-pointer hover:bg-blue-600"
                  onclick="runBiuret()"
                ></div>
              </div>

              <!-- Drop -->
              <div
                id="blue-drop"
                class="absolute top-16 left-1/2 transform -translate-x-1/2 w-3 h-3 bg-blue-500 rounded-full opacity-0"
              ></div>
            </div>

            <div class="text-center mt-6 space-x-2">
              <button
                onclick="runBiuret()"
                class="bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-lg font-bold shadow transition text-sm"
              >
                + Cu(OH)‚ÇÇ
              </button>
              <button
                onclick="resetBiuret()"
                class="bg-slate-200 hover:bg-slate-300 text-slate-600 px-4 py-2 rounded-lg font-bold transition text-sm"
              >
                Reset
              </button>
            </div>

            <div
              class="mt-4 bg-slate-100 p-2 rounded text-center text-xs font-mono text-slate-600"
            >
              Protein + Cu¬≤‚Å∫/OH‚Åª ‚Üí Ph·ª©c ch·∫•t m√†u t√≠m ƒë·∫∑c tr∆∞ng
            </div>
          </div>
        </div>
      </section>

      <!-- QUIZ SECTION -->
      <section
        id="quiz"
        class="section-content max-w-5xl mx-auto hidden fade-in"
      >
        <h2
          class="text-3xl font-bold text-emerald-600 mb-6 flex items-center gap-3"
        >
          <i class="fas fa-check-circle"></i> Luy·ªán T·∫≠p
        </h2>

        <div class="bg-white rounded-2xl shadow-lg p-8">
          <div id="quiz-container">
            <!-- Questions generated by JS -->
          </div>

          <div id="quiz-result" class="hidden text-center py-8">
            <div class="text-6xl mb-4">üèÜ</div>
            <h3 class="text-2xl font-bold text-slate-800 mb-2">K·∫øt qu·∫£</h3>
            <p class="text-lg mb-6">
              B·∫°n l√†m ƒë√∫ng
              <span id="score" class="font-bold text-emerald-600 text-2xl"
                >0</span
              >/<span id="total-q">0</span> c√¢u.
            </p>
            <button
              onclick="initQuiz()"
              class="bg-emerald-500 hover:bg-emerald-600 text-white px-6 py-3 rounded-xl font-bold shadow transition"
            >
              L√†m l·∫°i
            </button>
          </div>
        </div>
      </section>
    </main>

    <!-- Scripts -->
    <script>
      // --- Navigation Logic ---
      function showSection(id) {
        document.querySelectorAll(".section-content").forEach((el) => {
          el.classList.add("hidden");
          el.classList.remove("block");
        });
        const target = document.getElementById(id);
        target.classList.remove("hidden");
        target.classList.add("block");
        target.classList.add("fade-in");

        document
          .querySelectorAll(".tab-btn")
          .forEach((btn) => btn.classList.remove("active"));
        const btns = document.querySelectorAll(".tab-btn");

        // Map simple ID to index for button highlighting
        const map = { intro: 0, amine: 1, amino: 2, protein: 3, quiz: 4 };
        if (map[id] !== undefined) btns[map[id]].classList.add("active");

        if (window.innerWidth < 768) {
          document.getElementById("sidebar").classList.add("-translate-x-full");
        }
      }

      function toggleMenu() {
        document
          .getElementById("sidebar")
          .classList.toggle("-translate-x-full");
      }

      function closeMenu() {
        if (window.innerWidth < 768) {
          const sidebar = document.getElementById("sidebar");
          if (!sidebar.classList.contains("-translate-x-full")) {
            sidebar.classList.add("-translate-x-full");
          }
        }
      }

      // --- Amine Smoke Simulation ---
      function runSmokeTest() {
        const rod = document.getElementById("glass-rod");
        const container = document.getElementById("smoke-container");

        // Dip rod
        rod.style.top = "20px"; // Move down

        setTimeout(() => {
          // Generate smoke
          const interval = setInterval(() => {
            const p = document.createElement("div");
            p.className = "smoke-particle";
            p.style.width = Math.random() * 20 + 10 + "px";
            p.style.height = p.style.width;
            p.style.left = Math.random() * 60 + 20 + "%"; // Centerish
            p.style.bottom = "40px";
            container.appendChild(p);

            // Cleanup
            setTimeout(() => p.remove(), 2000);
          }, 100);

          // Stop smoke and pull rod out after 3s
          setTimeout(() => {
            clearInterval(interval);
            rod.style.top = "-50px";
          }, 3000);
        }, 500);
      }

      // --- Amino Acid pH & Electrophoresis ---
      function updateAminoAcidState(ph) {
        const display = document.getElementById("molecule-display");
        const phDisplay = document.getElementById("ph-display");
        const particles = document.getElementById("particle-group");

        let state = "";
        let textPh = "";
        let moveX = 0; // -100px (Left/Plus), 0, +100px (Right/Minus) -- Wait logic is inversed for electrode attraction

        // Logic:
        // Low pH -> Cation (+) -> Attracted to Cathode (-) [Right side in simple chem diagrams usually, but here Left is +, Right is -]
        // Let's stick to standard Physics: (+) electrode is Anode, (-) electrode is Cathode.
        // Cation (+) moves to Cathode (-).
        // Anion (-) moves to Anode (+).

        // In my UI: Left is (+), Right is (-).

        if (ph < 5) {
          // Acidic: Cation form (+H3N...COOH)
          state = `<span class="text-blue-600 ion-h">‚Å∫H‚ÇÉN</span>-CH(R)-COOH`;
          textPh = `${ph} (Axit)`;
          moveX = 120; // Move Right towards (-)
        } else if (ph > 9) {
          // Basic: Anion form (H2N...COO-)
          state = `H‚ÇÇN-CH(R)-<span class="text-red-500 ion-h">COO‚Åª</span>`;
          textPh = `${ph} (Ki·ªÅm)`;
          moveX = -120; // Move Left towards (+)
        } else {
          // Neutral (Isoelectric): Zwitterion (+H3N...COO-)
          state = `<span class="text-blue-600 ion-h">‚Å∫H‚ÇÉN</span>-CH(R)-<span class="text-red-500 ion-h">COO‚Åª</span>`;
          textPh = `${ph} (ƒê·∫≥ng ƒëi·ªán)`;
          moveX = 0; // Stay center
        }

        display.innerHTML = state;
        phDisplay.innerText = textPh;
        particles.style.transform = `translateX(${moveX}px)`;
      }

      // --- Biuret Simulation ---
      function runBiuret() {
        const dropper = document.getElementById("cu-dropper");
        const drop = document.getElementById("blue-drop");
        const liquid = document.getElementById("biuret-liquid");
        const text = document.getElementById("biuret-text");

        // 1. Move dropper
        dropper.style.transform = "translate(-30px, 10px) rotate(-10deg)";

        setTimeout(() => {
          // 2. Drop falls
          drop.style.opacity = "1";
          drop.style.top = "100px";
          drop.style.transition = "all 0.5s ease-in";

          setTimeout(() => {
            // 3. Liquid changes color
            drop.style.opacity = "0";
            liquid.style.backgroundColor = "#a855f7"; // Purple

            setTimeout(() => {
              text.style.opacity = "1";
              dropper.style.transform = "translate(0,0) rotate(0)"; // Reset dropper
            }, 500);
          }, 500);
        }, 500);
      }

      function resetBiuret() {
        document.getElementById("biuret-liquid").style.backgroundColor =
          "transparent";
        document.getElementById("biuret-text").style.opacity = "0";
        document.getElementById("blue-drop").style.top = "64px"; // Reset drop pos
        document.getElementById("blue-drop").style.transition = "none";
      }

      // --- Quiz Data ---
      const quizData = [
        {
          q: "Amine n√†o sau ƒë√¢y l√† ch·∫•t kh√≠ ·ªü ƒëi·ªÅu ki·ªán th∆∞·ªùng, m√πi khai?",
          a: ["Anilin (C‚ÇÜH‚ÇÖNH‚ÇÇ)", "Metylamin (CH‚ÇÉNH‚ÇÇ)", "Glycin", "Alanin"],
          correct: 1,
        },
        {
          q: "Hi·ªán t∆∞·ª£ng khi nh√∫ng ƒë≈©a th·ªßy tinh t·∫©m HCl ƒë·∫∑c v√†o l·ªç ƒë·ª±ng Metylamin ƒë·∫∑c?",
          a: [
            "Kh√≥i tr·∫Øng bay l√™n",
            "Dung d·ªãch chuy·ªÉn m√†u h·ªìng",
            "C√≥ kh√≠ kh√¥ng m√†u bay ra",
            "Kh√¥ng hi·ªán t∆∞·ª£ng",
          ],
          correct: 0,
        },
        {
          q: "Amino acid l√† h·ª£p ch·∫•t h·ªØu c∆° t·∫°p ch·ª©c, ph√¢n t·ª≠ ch·ª©a ƒë·ªìng th·ªùi c√°c nh√≥m?",
          a: [
            "Amino v√† Anƒëehit",
            "Amino v√† Carboxyl",
            "Carboxyl v√† Hydroxyl",
            "Amino v√† Ether",
          ],
          correct: 1,
        },
        {
          q: "·ªû m√¥i tr∆∞·ªùng pH th·∫•p (axit), Amino acid t·ªìn t·∫°i ch·ªß y·∫øu ·ªü d·∫°ng n√†o?",
          a: ["Anion", "Cation", "L∆∞·ª°ng c·ª±c", "Ph√¢n t·ª≠ trung h√≤a"],
          correct: 1,
        },
        {
          q: "Ph·∫£n ·ª©ng m√†u Biure d√πng ƒë·ªÉ nh·∫≠n bi·∫øt?",
          a: [
            "Amine b·∫≠c 1",
            "Amino acid ƒë∆°n gi·∫£n",
            "Peptide c√≥ ‚â• 2 li√™n k·∫øt peptide",
            "Lipid",
          ],
          correct: 2,
        },
        {
          q: "Protein b·ªã ƒë√¥ng t·ª• khi n√†o?",
          a: [
            "ƒêun n√≥ng",
            "Cho th√™m axit",
            "Cho th√™m ki·ªÅm",
            "T·∫•t c·∫£ c√°c √Ω tr√™n",
          ],
          correct: 3,
        },
        {
          q: "Anilin (C‚ÇÜH‚ÇÖNH‚ÇÇ) c√≥ t√≠nh baz∆° nh∆∞ th·∫ø n√†o so v·ªõi NH‚ÇÉ?",
          a: ["M·∫°nh h∆°n", "Y·∫øu h∆°n", "B·∫±ng nhau", "Kh√¥ng so s√°nh ƒë∆∞·ª£c"],
          correct: 1, // Y·∫øu h∆°n do v√≤ng benzen h√∫t e
        },
      ];

      function initQuiz() {
        const container = document.getElementById("quiz-container");
        const resultBox = document.getElementById("quiz-result");

        container.innerHTML = "";
        resultBox.classList.add("hidden");
        container.classList.remove("hidden");

        quizData.forEach((item, index) => {
          const qDiv = document.createElement("div");
          qDiv.className = "mb-6 pb-6 border-b border-slate-100 last:border-0";

          let answersHtml = "";
          item.a.forEach((ans, i) => {
            answersHtml += `
                        <label class="flex items-center gap-3 cursor-pointer p-3 rounded-lg hover:bg-slate-50 transition">
                            <input type="radio" name="q${index}" value="${i}" class="w-5 h-5 text-emerald-500 focus:ring-emerald-500">
                            <span class="text-slate-700">${ans}</span>
                        </label>
                    `;
          });

          qDiv.innerHTML = `
                    <p class="font-bold text-lg mb-3 text-slate-800">C√¢u ${
                      index + 1
                    }: ${item.q}</p>
                    <div class="space-y-1">
                        ${answersHtml}
                    </div>
                `;
          container.appendChild(qDiv);
        });

        const btn = document.createElement("button");
        btn.innerText = "N·ªôp B√†i";
        btn.className =
          "mt-4 bg-nitroPurple hover:bg-purple-700 text-white font-bold py-3 px-8 rounded-xl shadow-lg transition w-full md:w-auto";
        btn.onclick = checkQuiz;
        container.appendChild(btn);
      }

      function checkQuiz() {
        let score = 0;
        quizData.forEach((item, index) => {
          const selected = document.querySelector(
            `input[name="q${index}"]:checked`
          );
          if (selected && parseInt(selected.value) === item.correct) {
            score++;
          }
        });

        const container = document.getElementById("quiz-container");
        const resultBox = document.getElementById("quiz-result");
        const scoreSpan = document.getElementById("score");
        const totalSpan = document.getElementById("total-q");

        scoreSpan.innerText = score;
        totalSpan.innerText = quizData.length;

        container.classList.add("hidden");
        resultBox.classList.remove("hidden");
        resultBox.classList.add("fade-in");
      }

      // Init
      window.onload = function () {
        initQuiz();
        showSection("intro");
        updateAminoAcidState(7); // Init pH state
      };
    </script>
  </body>
</html>
