<!doctype html>
<html lang="vi" class="scroll-smooth">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Chương 2: Nitrogen & Sulfur – ChemStudy Expert</title>
    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="../../../favicon/educhem.avg" />

    <!-- TailwindCSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- Font Awesome -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />

    <!-- Google Fonts -->
    <link
      href="https://fonts.googleapis.com/css2?family=Be+Vietnam+Pro:wght@300;400;500;600;700&family=Space+Grotesk:wght@500;700&display=swap"
      rel="stylesheet"
    />

    <!-- Tailwind Configuration -->
    <script>
      tailwind.config = {
        darkMode: "class",
        theme: {
          extend: {
            fontFamily: {
              sans: ['"Be Vietnam Pro"', "sans-serif"],
              display: ['"Space Grotesk"', "sans-serif"],
            },
            colors: {
              chem: {
                nitrogen: "#3b82f6", // Blue for N
                sulfur: "#eab308", // Yellow for S
                acid: "#ef4444", // Red for Acid
                base: "#8b5cf6", // Purple for Ammonia
                dark: "#0f172a",
                glass: "rgba(255, 255, 255, 0.1)",
              },
            },
            animation: {
              float: "floating 3s ease-in-out infinite",
              "pulse-slow": "pulse 3s cubic-bezier(0.4, 0, 0.6, 1) infinite",
              "spin-slow": "spin 12s linear infinite",
              glow: "glow 2s ease-in-out infinite alternate",
            },
            keyframes: {
              floating: {
                "0%, 100%": { transform: "translateY(0)" },
                "50%": { transform: "translateY(-10px)" },
              },
              glow: {
                from: { boxShadow: "0 0 10px #eab308" },
                to: { boxShadow: "0 0 20px #facc15, 0 0 10px #eab308" },
              },
            },
          },
        },
      };
    </script>

    <style>
      /* GLOBAL STYLES & GLASSMORPHISM */
      :root {
        --footer-bg: #0f172a;
        --footer-text: #e2e8f0;
        --p-primary: #3b82f6;
      }

      html.dark :root {
        --footer-bg: #020617;
      }

      body {
        background-color: #f0f9ff;
        background-image:
          radial-gradient(at 0% 0%, hsla(253, 16%, 7%, 1) 0, transparent 50%),
          radial-gradient(at 50% 0%, hsla(225, 39%, 30%, 1) 0, transparent 50%),
          radial-gradient(at 100% 0%, hsla(339, 49%, 30%, 1) 0, transparent 50%);
        background-attachment: fixed;
        transition: background-color 0.5s ease;
      }

      .dark body {
        background-color: #0f172a;
        background-image:
          radial-gradient(at 0% 0%, hsla(215, 28%, 17%, 1) 0, transparent 50%),
          radial-gradient(
            at 50% 100%,
            hsla(225, 39%, 10%, 1) 0,
            transparent 50%
          );
      }

      /* Glassmorphism Classes */
      .glass-card {
        background: rgba(255, 255, 255, 0.7);
        -webkit-backdrop-filter: blur(16px);
        backdrop-filter: blur(16px);
        border: 1px solid rgba(255, 255, 255, 0.5);
        box-shadow:
          0 4px 6px -1px rgba(0, 0, 0, 0.1),
          0 2px 4px -1px rgba(0, 0, 0, 0.06);
        transition: all 0.3s ease;
      }

      .dark .glass-card {
        background: rgba(30, 41, 59, 0.4);
        border: 1px solid rgba(255, 255, 255, 0.1);
        box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.3);
      }

      .glass-card:hover {
        transform: translateY(-5px);
        box-shadow:
          0 20px 25px -5px rgba(0, 0, 0, 0.1),
          0 10px 10px -5px rgba(0, 0, 0, 0.04);
        border-color: rgba(59, 130, 246, 0.5);
      }

      .text-gradient {
        background-clip: text;
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-image: linear-gradient(to right, #3b82f6, #8b5cf6, #eab308);
      }

      /* Footer Specifics (Preserved from Prompt) */
      footer {
        background: var(--footer-bg);
        color: var(--footer-text);
        padding: 100px 5% 40px;
        position: relative;
        overflow: hidden;
        transition:
          background-color 0.8s ease,
          color 0.8s ease;
      }

      .footer-waves {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 60px;
        background: var(--footer-bg);
        clip-path: polygon(
          0% 45%,
          16% 44%,
          33% 50%,
          54% 60%,
          70% 61%,
          84% 59%,
          100% 52%,
          100% 100%,
          0% 100%
        );
        transition: background-color 0.8s;
      }

      .footer-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        gap: 60px;
        max-width: 1200px;
        margin: 0 auto;
      }

      .icon-btn {
        color: #94a3b8;
        font-size: 1.2rem;
        transition: 0.3s;
      }

      .icon-btn:hover {
        color: white;
        transform: scale(1.1);
      }

      .contact-item {
        margin-bottom: 15px;
        display: flex;
        align-items: center;
        gap: 15px;
        color: #94a3b8;
        transition: 0.3s;
      }

      .contact-item i {
        color: var(--p-primary);
      }
      .contact-item:hover {
        color: white;
        transform: translateX(5px);
      }

      .copyright {
        margin-top: 80px;
        text-align: center;
        padding-top: 30px;
        border-top: 1px solid rgba(255, 255, 255, 0.05);
        color: #475569;
        font-size: 0.9rem;
      }

      .footer-brand h2 {
        font-family: "Space Grotesk", sans-serif;
        font-size: 2rem;
        margin-bottom: 20px;
      }

      .footer-links h4,
      h3 {
        margin-bottom: 25px;
        text-transform: uppercase;
        letter-spacing: 2px;
        color: var(--p-primary);
      }

      /* Custom Scrollbar */
      ::-webkit-scrollbar {
        width: 10px;
      }
      ::-webkit-scrollbar-track {
        background: #1e293b;
      }
      ::-webkit-scrollbar-thumb {
        background: #475569;
        border-radius: 5px;
      }
      ::-webkit-scrollbar-thumb:hover {
        background: #3b82f6;
      }

      /* Simulation Canvas & Containers */
      .sim-canvas {
        width: 100%;
        height: 100%;
        display: block;
      }

      .molecule-3d {
        transform-style: preserve-3d;
        perspective: 1000px;
      }

      /* Utility for chemical formulas */
      .chem-formula {
        font-family: "Space Grotesk", sans-serif;
        letter-spacing: 0.5px;
      }
      sub {
        font-size: 0.7em;
        vertical-align: sub;
      }
      sup {
        font-size: 0.7em;
        vertical-align: super;
      }
    </style>
  </head>
  <body
    class="text-slate-800 dark:text-slate-200 antialiased selection:bg-blue-500 selection:text-white"
  >
    <!-- HEADER SECTION -->
    <header
      class="fixed top-0 w-full z-50 transition-all duration-300 glass-card border-b-0 rounded-none px-6 py-3"
    >
      <div class="max-w-7xl mx-auto flex justify-between items-center">
        <!-- Logo Block -->
        <div
          class="flex items-center gap-3 cursor-pointer group"
          onclick="window.scrollTo(0, 0)"
        >
          <div
            class="w-10 h-10 rounded-full bg-gradient-to-br from-blue-500 to-green-500 flex items-center justify-center text-white font-bold text-xl shadow-lg shadow-blue-500/30"
          >
            <i class="fas fa-atom text-xl group-hover:animate-spin"></i>
          </div>
          <span
            class="font-display font-bold text-xl md:text-2xl tracking-tight text-slate-800 dark:text-white"
          >
            ChemStudy Expert
          </span>
        </div>

        <!-- Navigation -->
        <div class="flex items-center gap-4">
          <nav class="hidden lg:flex gap-6 text-sm font-semibold">
            <a href="#nitrogen" class="hover:text-blue-500 transition-colors"
              >Nitrogen</a
            >
            <a href="#ammonia" class="hover:text-purple-500 transition-colors"
              >Ammonia</a
            >
            <a href="#hno3" class="hover:text-red-500 transition-colors"
              >HNO3</a
            >
            <a href="#sulfur" class="hover:text-yellow-500 transition-colors"
              >Sulfur</a
            >
            <a href="#h2so4" class="hover:text-orange-500 transition-colors"
              >H2SO4</a
            >
          </nav>

          <!-- Theme Toggle -->
          <button
            id="theme-toggle"
            class="p-2 rounded-full hover:bg-slate-200 dark:hover:bg-slate-700 transition-colors"
          >
            <i class="fas fa-moon dark:hidden text-slate-600"></i>
            <i class="fas fa-sun hidden dark:block text-yellow-400"></i>
          </button>
        </div>
      </div>
    </header>

    <!-- HERO SECTION -->
    <section
      class="relative pt-32 pb-20 px-6 min-h-[70vh] flex items-center justify-center overflow-hidden"
    >
      <!-- Background Elements -->
      <div
        class="absolute top-20 left-10 w-32 h-32 bg-blue-500 rounded-full mix-blend-multiply filter blur-3xl opacity-30 animate-float"
      ></div>
      <div
        class="absolute bottom-20 right-10 w-40 h-40 bg-yellow-500 rounded-full mix-blend-multiply filter blur-3xl opacity-30 animate-float"
        style="animation-delay: 1.5s"
      ></div>

      <div class="max-w-4xl mx-auto text-center relative z-10">
        <span
          class="inline-block py-1 px-3 rounded-full bg-blue-100 dark:bg-blue-900/30 text-blue-600 dark:text-blue-300 text-sm font-semibold mb-6 border border-blue-200 dark:border-blue-800"
        >
          Chuyên đề Hóa học 11 - Chương 2
        </span>
        <h1
          class="text-5xl md:text-7xl font-display font-bold mb-6 tracking-tight leading-tight"
        >
          Nitrogen & <br />
          <span class="text-gradient">Sulfur</span>
        </h1>
        <p
          class="text-xl text-slate-600 dark:text-slate-300 mb-10 max-w-2xl mx-auto leading-relaxed"
        >
          Khám phá hai nguyên tố phi kim quan trọng nhất của sự sống và công
          nghiệp. Từ <strong class="text-blue-500">Nitrogen</strong> trong bầu
          khí quyển đến <strong class="text-yellow-500">Sulfur</strong> trong
          lòng đất.
        </p>
        <div class="flex flex-col sm:flex-row gap-4 justify-center">
          <button
            onclick="document.getElementById('nitrogen').scrollIntoView()"
            class="px-8 py-4 bg-gradient-to-r from-blue-600 to-indigo-600 text-white rounded-full font-bold shadow-lg shadow-blue-500/30 hover:shadow-blue-500/50 hover:-translate-y-1 transition-all duration-300 flex items-center justify-center gap-2"
          >
            <i class="fas fa-play-circle"></i> Vào bài học
          </button>
          <button
            onclick="document.getElementById('quiz-section').scrollIntoView()"
            class="px-8 py-4 glass-card text-slate-700 dark:text-white rounded-full font-bold hover:bg-white/50 dark:hover:bg-slate-700/50 transition-all duration-300 flex items-center justify-center gap-2"
          >
            <i class="fas fa-gamepad"></i> Luyện tập ngay
          </button>
        </div>
      </div>
    </section>

    <!-- MAIN CONTENT -->
    <main class="max-w-7xl mx-auto px-6 space-y-32 pb-20">
      <!-- ============================================
             I. ĐƠN CHẤT NITROGEN
             ============================================ -->
      <section id="nitrogen" class="scroll-mt-28">
        <div class="flex items-center gap-4 mb-8">
          <div
            class="w-12 h-12 rounded-xl bg-blue-500 flex items-center justify-center text-white text-2xl shadow-lg"
          >
            <span class="font-display font-bold">N</span>
          </div>
          <h2
            class="text-3xl md:text-4xl font-display font-bold text-slate-800 dark:text-white"
          >
            I. Đơn chất Nitrogen
          </h2>
        </div>

        <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
          <!-- A. LÝ THUYẾT -->
          <div class="space-y-6">
            <div class="glass-card p-6 rounded-2xl">
              <h3 class="text-xl font-bold text-blue-500 mb-4">
                <i class="fas fa-book-open"></i> Lý thuyết trọng tâm
              </h3>
              <ul
                class="space-y-4 text-slate-600 dark:text-slate-300 text-sm md:text-base"
              >
                <li class="flex gap-3">
                  <i class="fas fa-atom mt-1 text-blue-400"></i>
                  <span
                    ><strong>Vị trí:</strong> Ô số 7, nhóm VA, chu kì 2. Cấu
                    hình: $1s^2 2s^2 2p^3$.</span
                  >
                </li>
                <li class="flex gap-3">
                  <i class="fas fa-link mt-1 text-blue-400"></i>
                  <span
                    ><strong>Cấu tạo:</strong> Phân tử $N_2$ có liên kết ba bền
                    vững ($N \equiv N$, $E_b = 946 kJ/mol$), không phân
                    cực.</span
                  >
                </li>
                <li class="flex gap-3">
                  <i class="fas fa-wind mt-1 text-blue-400"></i>
                  <span
                    ><strong>Tính chất vật lí:</strong> Khí không màu, không
                    mùi, hóa lỏng -196°C, tan rất ít trong nước, chiếm 78% không
                    khí.</span
                  >
                </li>
                <li class="flex gap-3">
                  <i class="fas fa-flask mt-1 text-blue-400"></i>
                  <span
                    ><strong>Tính chất hóa học:</strong> Trơ ở nhiệt độ thường.
                    Hoạt động ở nhiệt độ cao. <br />
                    - Tính oxi hóa (với $H_2$, kim loại mạnh). <br />
                    - Tính khử (với $O_2$).</span
                  >
                </li>
              </ul>
            </div>

            <!-- D. PHƯƠNG TRÌNH -->
            <div class="glass-card p-6 rounded-2xl border-l-4 border-blue-500">
              <h3 class="text-lg font-bold mb-3">Phương trình quan trọng</h3>
              <div
                class="space-y-2 font-mono text-sm bg-slate-100 dark:bg-slate-800 p-3 rounded-lg"
              >
                <p class="text-green-600 dark:text-green-400">
                  N₂ + 3H₂ ⇌ 2NH₃ (t°, p, xt)
                </p>
                <p class="text-red-600 dark:text-red-400">
                  N₂ + O₂ ⇌ 2NO (3000°C/tia lửa điện)
                </p>
                <p class="text-blue-600 dark:text-blue-400">
                  3Mg + N₂ → Mg₃N₂ (t°)
                </p>
              </div>
            </div>
          </div>

          <!-- B. MÔ PHỎNG: NĂNG LƯỢNG LIÊN KẾT -->
          <div class="space-y-6">
            <!-- SIM 1: Nitrogen Bond Strength -->
            <div
              class="glass-card p-1 rounded-2xl overflow-hidden shadow-2xl relative"
            >
              <div
                class="bg-slate-900 p-3 border-b border-slate-700 flex justify-between items-center"
              >
                <h4 class="text-white font-bold text-sm">
                  <i class="fas fa-dumbbell text-blue-400"></i> Tương tác: Bẻ
                  gãy liên kết ba $N \equiv N$
                </h4>
              </div>
              <div
                class="relative h-64 bg-gradient-to-br from-slate-900 to-slate-800 flex flex-col items-center justify-center p-4"
              >
                <!-- Molecules with IDs for animation -->
                <div
                  class="relative w-48 h-20 flex items-center justify-center transition-all duration-500"
                  id="n2-molecule"
                >
                  <!-- Atom 1 (Left) -->
                  <div
                    id="atom-left"
                    class="w-16 h-16 rounded-full bg-blue-600 shadow-[inset_-5px_-5px_10px_rgba(0,0,0,0.5)] flex items-center justify-center text-white font-bold text-xl z-10 border-2 border-blue-400 transition-transform duration-500"
                  >
                    N
                  </div>

                  <!-- Bonds -->
                  <div
                    class="w-16 h-8 flex flex-col justify-center gap-1 mx-[-5px] transition-opacity duration-300"
                    id="bonds-container"
                  >
                    <div
                      class="w-full h-1 bg-white shadow-[0_0_5px_white]"
                    ></div>
                    <div
                      class="w-full h-1 bg-white shadow-[0_0_5px_white]"
                    ></div>
                    <div
                      class="w-full h-1 bg-white shadow-[0_0_5px_white]"
                    ></div>
                  </div>

                  <!-- Atom 2 (Right) -->
                  <div
                    id="atom-right"
                    class="w-16 h-16 rounded-full bg-blue-600 shadow-[inset_-5px_-5px_10px_rgba(0,0,0,0.5)] flex items-center justify-center text-white font-bold text-xl z-10 border-2 border-blue-400 transition-transform duration-500"
                  >
                    N
                  </div>
                </div>

                <!-- Energy Fire -->
                <div
                  class="absolute bottom-0 w-full flex justify-center opacity-0 transition-opacity duration-300"
                  id="fire-effect"
                >
                  <i
                    class="fas fa-fire text-6xl text-orange-500 animate-pulse"
                  ></i>
                </div>
              </div>

              <!-- Controls -->
              <div class="p-4 bg-slate-800 text-slate-300">
                <label class="block text-xs font-bold mb-2"
                  >Cung cấp năng lượng (Nhiệt độ/Tia lửa điện):</label
                >
                <input
                  type="range"
                  min="0"
                  max="100"
                  value="0"
                  class="w-full h-2 bg-slate-600 rounded-lg appearance-none cursor-pointer accent-orange-500"
                  oninput="updateNitrogenSim(this.value)"
                />
                <div class="flex justify-between text-xs mt-2 text-slate-400">
                  <span>25°C</span>
                  <span>3000°C</span>
                </div>
                <p
                  id="nitrogen-status"
                  class="mt-3 text-center text-sm font-bold text-blue-400"
                >
                  Trạng thái: Liên kết bền vững
                </p>
              </div>
            </div>

            <!-- SIM 2: Lightning Fixation (Cycle) -->
            <div class="glass-card p-6 rounded-2xl">
              <h4 class="font-bold text-sm mb-3">
                <i class="fas fa-bolt text-yellow-400"></i> Chu trình Nitrogen
                trong tự nhiên
              </h4>
              <div
                class="relative h-40 bg-slate-900 rounded-xl overflow-hidden cursor-pointer group"
                onclick="triggerLightning()"
              >
                <div
                  class="absolute inset-0 bg-[url('https://images.unsplash.com/photo-1504608524841-42fe6f032b4b?q=80&w=1000&auto=format&fit=crop')] bg-cover bg-center opacity-40"
                ></div>

                <!-- Lightning Flash overlay -->
                <div
                  id="flash-overlay"
                  class="absolute inset-0 bg-white opacity-0 transition-opacity duration-100 pointer-events-none"
                ></div>

                <!-- Text overlay -->
                <div
                  class="absolute inset-0 flex flex-col items-center justify-center p-4"
                >
                  <p class="text-white text-center text-xs mb-2">
                    Click để tạo sấm sét
                  </p>
                  <div
                    id="cycle-steps"
                    class="text-yellow-400 font-mono font-bold text-lg text-center opacity-0 transition-opacity"
                  >
                    N₂ + O₂ → 2NO
                  </div>
                </div>
              </div>
              <p class="text-xs text-slate-500 mt-2 italic">
                Sấm sét cung cấp năng lượng bẻ gãy liên kết ba, tạo $NO$, sau đó
                thành $NO_3^-$ cung cấp đạm cho đất.
              </p>
            </div>
          </div>
        </div>
      </section>

      <!-- ============================================
             II. AMMONIA & AMMONIUM
             ============================================ -->
      <section id="ammonia" class="scroll-mt-28">
        <div class="flex items-center gap-4 mb-8">
          <div
            class="w-12 h-12 rounded-xl bg-purple-500 flex items-center justify-center text-white text-2xl shadow-lg"
          >
            <span class="font-display font-bold">NH₃</span>
          </div>
          <h2
            class="text-3xl md:text-4xl font-display font-bold text-slate-800 dark:text-white"
          >
            II. Ammonia & Muối Ammonium
          </h2>
        </div>

        <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
          <!-- SIM 3: 3D MOLECULE (Visual only via CSS) -->
          <div
            class="glass-card p-6 rounded-2xl flex flex-col items-center justify-center bg-gradient-to-br from-purple-50 to-blue-50 dark:from-slate-800 dark:to-slate-900"
          >
            <h3 class="font-bold text-purple-600 mb-6">
              Cấu tạo phân tử NH₃ (Chóp tam giác)
            </h3>
            <div class="relative w-40 h-40 animate-float">
              <!-- N atom -->
              <div
                class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-16 h-16 bg-blue-600 rounded-full shadow-lg border-2 border-white/30 z-20 flex items-center justify-center text-white font-bold"
              >
                N
              </div>
              <!-- Lone pair -->
              <div
                class="absolute top-0 left-1/2 -translate-x-1/2 w-8 h-12 bg-yellow-400/30 rounded-full blur-sm border border-yellow-400/50 transform -translate-y-4"
              ></div>
              <!-- H atoms -->
              <div
                class="absolute bottom-0 left-0 w-10 h-10 bg-white rounded-full shadow border border-slate-300 z-10 flex items-center justify-center text-xs font-bold text-slate-700"
              >
                H
              </div>
              <div
                class="absolute bottom-0 right-0 w-10 h-10 bg-white rounded-full shadow border border-slate-300 z-10 flex items-center justify-center text-xs font-bold text-slate-700"
              >
                H
              </div>
              <div
                class="absolute bottom-[-10px] left-1/2 -translate-x-1/2 w-10 h-10 bg-white rounded-full shadow border border-slate-300 z-30 flex items-center justify-center text-xs font-bold text-slate-700"
              >
                H
              </div>

              <!-- Bonds (Lines) -->
              <div
                class="absolute top-1/2 left-1/2 w-1 h-16 bg-slate-400 origin-top transform rotate-[150deg] -z-10"
              ></div>
              <div
                class="absolute top-1/2 left-1/2 w-1 h-16 bg-slate-400 origin-top transform rotate-[-150deg] -z-10"
              ></div>
              <div
                class="absolute top-1/2 left-1/2 w-1 h-12 bg-slate-400 origin-top transform translate-y-2 -z-0"
              ></div>
            </div>
            <div
              class="mt-8 text-center text-sm text-slate-600 dark:text-slate-400"
            >
              <p>Đỉnh N còn 1 cặp electron tự do $\to$ Tính Base.</p>
              <p>Số oxi hóa -3 $\to$ Tính khử.</p>
            </div>
          </div>

          <!-- Theory Cards -->
          <div class="space-y-4">
            <div class="glass-card p-5 rounded-xl border-l-4 border-purple-500">
              <h4 class="font-bold text-lg mb-2">Tính chất vật lí</h4>
              <p class="text-sm text-slate-600 dark:text-slate-300">
                Khí không màu, mùi khai xốc, nhẹ hơn không khí. Tan
                <strong>rất nhiều</strong> trong nước (do tạo liên kết
                Hydrogen).
              </p>
            </div>
            <div class="glass-card p-5 rounded-xl border-l-4 border-green-500">
              <h4 class="font-bold text-lg mb-2">Tính chất hóa học</h4>
              <ul
                class="list-disc pl-5 text-sm text-slate-600 dark:text-slate-300 space-y-1"
              >
                <li>
                  <strong>Tính Base yếu:</strong> $NH_3 + H_2O
                  \rightleftharpoons NH_4^+ + OH^-$ (làm quỳ tím hóa xanh).
                </li>
                <li>
                  <strong>Tính Khử:</strong> Cháy trong oxi ($\to N_2$ hoặc
                  $NO$).
                </li>
                <li>
                  <strong>Tạo phức:</strong> Tan được $Cu(OH)_2$ tạo dung dịch
                  xanh thẫm.
                </li>
              </ul>
            </div>
          </div>
        </div>

        <!-- SIM 4: FOUNTAIN EXPERIMENT (Thí nghiệm vòi phun) -->
        <div class="mt-8 glass-card p-0 rounded-2xl overflow-hidden shadow-xl">
          <div
            class="bg-slate-900 p-4 border-b border-slate-700 flex justify-between items-center"
          >
            <h3 class="text-white font-bold">
              <i class="fas fa-flask text-pink-400"></i> Thí nghiệm ảo: Tính tan
              của Ammonia (Vòi phun)
            </h3>
            <button
              onclick="resetFountain()"
              class="px-3 py-1 text-xs bg-slate-700 hover:bg-slate-600 text-white rounded transition"
            >
              Làm lại
            </button>
          </div>

          <div
            class="relative h-[400px] bg-slate-800 flex justify-center items-end p-4"
          >
            <!-- Setup -->
            <div class="relative w-[300px] h-full flex flex-col items-center">
              <!-- Inverted Flask -->
              <div
                class="absolute top-10 w-32 h-32 rounded-full border-4 border-white/20 bg-white/5 backdrop-blur-sm z-20 overflow-hidden"
                id="fountain-flask"
              >
                <!-- Gas indicator text -->
                <div
                  class="absolute inset-0 flex items-center justify-center text-white/30 font-bold select-none"
                  id="gas-label"
                >
                  Khí NH3
                </div>
                <!-- Pink water spray -->
                <div
                  id="spray"
                  class="absolute bottom-0 left-1/2 -translate-x-1/2 w-2 h-0 bg-pink-500 transition-all duration-[2s] ease-out rounded-t-full opacity-80"
                ></div>
                <!-- Filling water -->
                <div
                  id="flask-fill"
                  class="absolute bottom-0 w-full h-0 bg-pink-500/80 transition-all duration-[3s] ease-in-out"
                ></div>
              </div>

              <!-- Neck -->
              <div
                class="absolute top-[130px] w-4 h-20 bg-white/20 border-x border-white/30 z-10"
              ></div>

              <!-- Beaker below -->
              <div
                class="absolute bottom-0 w-40 h-24 border-b-4 border-x-4 border-white/20 rounded-b-xl bg-white/5 overflow-hidden"
              >
                <div
                  class="absolute bottom-0 w-full h-20 bg-transparent"
                  id="beaker-water"
                  style="
                    background: linear-gradient(
                      to top,
                      rgba(255, 255, 255, 0.2),
                      transparent
                    );
                  "
                ></div>
                <div
                  class="absolute bottom-2 w-full text-center text-xs text-white/50"
                >
                  Nước + Phenolphthalein
                </div>
              </div>

              <!-- Tube connecting -->
              <div class="absolute top-[130px] w-1 h-[200px] bg-white/40"></div>
            </div>

            <!-- Controls -->
            <div class="absolute top-1/2 right-10 flex flex-col gap-4">
              <button
                onclick="startFountain()"
                class="w-16 h-16 rounded-full bg-blue-600 hover:bg-blue-500 text-white shadow-lg flex items-center justify-center active:scale-95 transition-all border-4 border-blue-400 group"
              >
                <i class="fas fa-tint text-2xl group-hover:animate-bounce"></i>
              </button>
              <p class="text-xs text-center text-slate-400 w-20">
                Bơm nước mồi
              </p>
            </div>

            <!-- Explanation box -->
            <div
              class="absolute top-4 left-4 w-64 p-3 bg-slate-900/80 rounded border border-slate-700 text-xs text-slate-300"
            >
              <p>
                <strong>Hiện tượng:</strong> Nước phun mạnh vào bình và chuyển
                màu hồng.
              </p>
              <p class="mt-1">
                <strong>Giải thích:</strong> $NH_3$ tan rất nhiều làm giảm áp
                suất. Dung dịch có tính base làm hồng Phenolphthalein.
              </p>
            </div>
          </div>
        </div>
      </section>

      <!-- ============================================
             III. OXYGEN COMPOUNDS (HNO3)
             ============================================ -->
      <section id="hno3" class="scroll-mt-28">
        <div class="flex items-center gap-4 mb-8">
          <div
            class="w-12 h-12 rounded-xl bg-red-500 flex items-center justify-center text-white text-2xl shadow-lg"
          >
            <span class="font-display font-bold">HNO₃</span>
          </div>
          <h2
            class="text-3xl md:text-4xl font-display font-bold text-slate-800 dark:text-white"
          >
            III. Nitric Acid
          </h2>
        </div>

        <!-- Theory Cards -->
        <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-8">
          <div class="glass-card p-6 rounded-2xl">
            <h3 class="text-lg font-bold text-red-500 mb-3">
              Tính chất hóa học đặc trưng
            </h3>
            <ul class="space-y-2 text-sm text-slate-700 dark:text-slate-300">
              <li>
                1. <strong>Tính Acid mạnh:</strong> Làm quỳ đỏ, tác dụng oxide
                base, base, muối.
              </li>
              <li>
                2. <strong>Tính Oxi hóa rất mạnh:</strong>
                <ul class="pl-4 list-disc mt-1 text-xs">
                  <li>
                    Oxi hóa hầu hết kim loại (trừ Au, Pt) lên hóa trị cao nhất.
                  </li>
                  <li>Không giải phóng $H_2$.</li>
                  <li>
                    Sản phẩm khử: $NO_2$ (đặc), $NO$ (loãng), $N_2O$, $N_2$,
                    $NH_4NO_3$.
                  </li>
                  <li>Thụ động hóa: Al, Fe, Cr trong $HNO_3$ đặc nguội.</li>
                </ul>
              </li>
            </ul>
          </div>
          <div class="glass-card p-6 rounded-2xl">
            <h3 class="text-lg font-bold text-green-500 mb-3">
              Ứng dụng & Môi trường
            </h3>
            <p class="text-sm text-slate-600 dark:text-slate-300 mb-2">
              - Sản xuất phân đạm ($NH_4NO_3$), thuốc nổ TNT.
            </p>
            <p class="text-sm text-slate-600 dark:text-slate-300 mb-2">
              - <strong>Mưa Acid:</strong> $NO_2 + O_2 + H_2O \to HNO_3$.
            </p>
            <p class="text-sm text-slate-600 dark:text-slate-300">
              - <strong>Phú dưỡng:</strong> Dư thừa Nitrate trong nước gây tảo
              nở hoa.
            </p>
          </div>
        </div>

        <!-- SIM 5: COPPER + HNO3 EXPERIMENT -->
        <div class="glass-card p-0 rounded-2xl overflow-hidden shadow-xl">
          <div class="bg-slate-900 p-4 border-b border-slate-700">
            <h3 class="text-white font-bold">
              <i class="fas fa-vial text-yellow-400"></i> Thí nghiệm: Copper
              (Cu) + Nitric Acid (HNO3)
            </h3>
          </div>
          <div class="flex flex-col md:flex-row h-[400px]">
            <!-- Canvas/Visual -->
            <div
              class="w-full md:w-2/3 bg-slate-800 relative flex items-center justify-center"
              id="hno3-lab"
            >
              <!-- Beaker -->
              <div
                class="w-32 h-40 border-l-2 border-r-2 border-b-2 border-white/40 rounded-b-xl relative bg-white/5 backdrop-blur-sm overflow-hidden"
              >
                <!-- Acid Liquid -->
                <div
                  id="acid-liquid"
                  class="absolute bottom-0 w-full h-24 bg-transparent transition-colors duration-1000"
                ></div>

                <!-- Copper Piece -->
                <div
                  id="copper-piece"
                  class="absolute bottom-2 left-1/2 -translate-x-1/2 w-10 h-4 bg-orange-600 rounded shadow-md transition-all duration-1000 opacity-0 transform translate-y-10"
                ></div>

                <!-- Bubbles Container -->
                <div
                  id="bubbles-container"
                  class="absolute inset-0 pointer-events-none"
                ></div>
              </div>

              <!-- Gas Cloud (Brown NO2) -->
              <div
                id="gas-cloud"
                class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-20 w-40 h-40 bg-orange-800/50 rounded-full blur-2xl opacity-0 transition-opacity duration-2000"
              ></div>
            </div>

            <!-- Controls Panel -->
            <div
              class="w-full md:w-1/3 bg-white dark:bg-slate-900 p-6 flex flex-col gap-4 border-l border-slate-200 dark:border-slate-700"
            >
              <h4
                class="font-bold text-sm uppercase tracking-wide text-slate-500"
              >
                Chọn nồng độ Acid
              </h4>

              <button
                onclick="runHNO3Sim('dilute')"
                class="p-3 rounded-lg border-2 border-slate-200 dark:border-slate-700 hover:border-blue-500 hover:bg-blue-50 dark:hover:bg-slate-800 transition text-left group"
              >
                <div
                  class="font-bold text-blue-600 mb-1 group-hover:translate-x-1 transition-transform"
                >
                  HNO3 Loãng
                </div>
                <div class="text-xs text-slate-500">
                  Tạo khí NO (không màu -> hóa nâu)
                </div>
              </button>

              <button
                onclick="runHNO3Sim('concentrated')"
                class="p-3 rounded-lg border-2 border-slate-200 dark:border-slate-700 hover:border-red-500 hover:bg-red-50 dark:hover:bg-slate-800 transition text-left group"
              >
                <div
                  class="font-bold text-red-600 mb-1 group-hover:translate-x-1 transition-transform"
                >
                  HNO3 Đặc
                </div>
                <div class="text-xs text-slate-500">
                  Tạo khí NO2 (màu nâu đỏ) ngay lập tức
                </div>
              </button>

              <div
                id="hno3-result"
                class="mt-auto p-3 bg-slate-100 dark:bg-slate-800 rounded text-xs font-mono"
              >
                Kết quả phản ứng sẽ hiện tại đây...
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- ============================================
             IV. SULFUR & SO2
             ============================================ -->
      <section id="sulfur" class="scroll-mt-28">
        <div class="flex items-center gap-4 mb-8">
          <div
            class="w-12 h-12 rounded-xl bg-yellow-500 flex items-center justify-center text-white text-2xl shadow-lg"
          >
            <span class="font-display font-bold">S</span>
          </div>
          <h2
            class="text-3xl md:text-4xl font-display font-bold text-slate-800 dark:text-white"
          >
            IV. Sulfur & Sulfur Dioxide
          </h2>
        </div>

        <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
          <!-- SIM 6: S8 STRUCTURE -->
          <div class="glass-card p-6 rounded-2xl flex flex-col items-center">
            <h3 class="font-bold text-yellow-600 mb-4">
              Cấu tạo phân tử Sulfur ($S_8$)
            </h3>
            <div
              class="w-48 h-48 bg-slate-100 dark:bg-slate-800 rounded-full flex items-center justify-center relative animate-spin-slow"
            >
              <!-- Simplified S8 Ring (Crown shape visualized top-down) -->
              <div
                class="absolute w-32 h-32 border-4 border-dashed border-yellow-500 rounded-full opacity-30"
              ></div>
              <!-- Atoms -->
              <div
                class="absolute top-0 left-1/2 -translate-x-1/2 w-6 h-6 bg-yellow-400 rounded-full shadow"
              ></div>
              <div
                class="absolute bottom-0 left-1/2 -translate-x-1/2 w-6 h-6 bg-yellow-400 rounded-full shadow"
              ></div>
              <div
                class="absolute left-0 top-1/2 -translate-y-1/2 w-6 h-6 bg-yellow-400 rounded-full shadow"
              ></div>
              <div
                class="absolute right-0 top-1/2 -translate-y-1/2 w-6 h-6 bg-yellow-400 rounded-full shadow"
              ></div>
              <div
                class="absolute top-[15%] left-[15%] w-6 h-6 bg-yellow-400 rounded-full shadow"
              ></div>
              <div
                class="absolute top-[15%] right-[15%] w-6 h-6 bg-yellow-400 rounded-full shadow"
              ></div>
              <div
                class="absolute bottom-[15%] left-[15%] w-6 h-6 bg-yellow-400 rounded-full shadow"
              ></div>
              <div
                class="absolute bottom-[15%] right-[15%] w-6 h-6 bg-yellow-400 rounded-full shadow"
              ></div>
            </div>
            <p class="text-xs text-center mt-4 text-slate-500">
              Ở điều kiện thường, Sulfur tồn tại dạng phân tử vòng 8 nguyên tử
              ($S_8$), rắn, vàng.
            </p>
          </div>

          <!-- SIM 7: FE + S REACTION -->
          <div class="glass-card p-0 rounded-2xl overflow-hidden">
            <div class="bg-slate-900 p-4 border-b border-slate-700">
              <h3 class="text-white font-bold">
                <i class="fas fa-fire-burner text-orange-400"></i> Thí nghiệm:
                Sắt tác dụng với Lưu huỳnh
              </h3>
            </div>
            <div
              class="relative h-60 bg-slate-800 flex items-center justify-center"
            >
              <!-- Crucible -->
              <div
                class="relative w-24 h-12 bg-gray-600 rounded-b-xl overflow-hidden z-10"
              >
                <div
                  id="sulfur-mix"
                  class="w-full h-full bg-yellow-200 transition-colors duration-[3s]"
                ></div>
              </div>

              <!-- Heat Source -->
              <div
                class="absolute bottom-10 flex flex-col items-center opacity-0 transition-opacity"
                id="burner-flame"
              >
                <div
                  class="w-4 h-12 bg-blue-500 blur-sm animate-pulse rounded-t-full"
                ></div>
                <div class="w-10 h-2 bg-gray-400"></div>
              </div>

              <!-- Reaction Glow -->
              <div
                id="reaction-glow"
                class="absolute w-10 h-10 bg-orange-500 rounded-full blur-xl opacity-0 transition-opacity duration-500 z-20 top-20"
              ></div>

              <button
                onclick="runSulfurSim()"
                class="absolute bottom-4 right-4 px-4 py-2 bg-red-600 hover:bg-red-500 text-white rounded font-bold shadow-lg"
              >
                <i class="fas fa-fire"></i> Đun nóng
              </button>
            </div>
            <div class="p-4 bg-white dark:bg-slate-900 text-sm">
              <p id="sulfur-result">
                <strong>Hiện tượng:</strong> Bột S và Fe khi đun nóng sẽ phản
                ứng tỏa nhiệt mạnh (sáng rực), tạo FeS màu đen.
              </p>
            </div>
          </div>
        </div>

        <div
          class="mt-6 glass-card p-6 rounded-2xl border-l-4 border-yellow-500"
        >
          <h3 class="font-bold text-lg">Sulfur Dioxide ($SO_2$)</h3>
          <div
            class="grid grid-cols-1 md:grid-cols-2 gap-4 mt-2 text-sm text-slate-600 dark:text-slate-300"
          >
            <div>
              <p>
                <strong>Tính chất:</strong> Khí không màu, mùi hắc, độc. Tan
                trong nước tạo $H_2SO_3$.
              </p>
              <p class="mt-1">
                Vừa có tính khử ($+O_2 \to SO_3$), vừa có tính oxi hóa ($+H_2S
                \to S$).
              </p>
            </div>
            <div>
              <p>
                <strong>Ứng dụng:</strong> Sản xuất $H_2SO_4$, tẩy trắng giấy,
                chống nấm mốc.
              </p>
              <p class="mt-1">
                <strong>Môi trường:</strong> Nguyên nhân chính gây mưa acid.
              </p>
            </div>
          </div>
        </div>
      </section>

      <!-- ============================================
             V. SULFURIC ACID (H2SO4)
             ============================================ -->
      <section id="h2so4" class="scroll-mt-28">
        <div class="flex items-center gap-4 mb-8">
          <div
            class="w-12 h-12 rounded-xl bg-orange-500 flex items-center justify-center text-white text-2xl shadow-lg"
          >
            <span class="font-display font-bold">H₂</span>
          </div>
          <h2
            class="text-3xl md:text-4xl font-display font-bold text-slate-800 dark:text-white"
          >
            V. Sulfuric Acid (H₂SO₄)
          </h2>
        </div>

        <!-- SIM 8: DEHYDRATION OF SUGAR (BLACK SNAKE) -->
        <div class="glass-card p-0 rounded-2xl overflow-hidden shadow-2xl mb-8">
          <div
            class="bg-slate-900 p-4 border-b border-slate-700 flex justify-between"
          >
            <h3 class="text-white font-bold">
              <i class="fas fa-skull-crossbones text-white"></i> Tính háo nước:
              Than hóa đường
            </h3>
            <button
              onclick="resetSugarSim()"
              class="text-xs text-slate-400 hover:text-white"
            >
              Reset
            </button>
          </div>
          <div class="grid grid-cols-1 md:grid-cols-2 h-[350px]">
            <!-- Visual -->
            <div
              class="bg-slate-800 relative flex items-end justify-center p-6 border-r border-slate-700"
            >
              <!-- Beaker -->
              <div
                class="w-32 h-32 border-x-2 border-b-2 border-white/30 bg-white/5 backdrop-blur-sm relative z-10 flex justify-center items-end overflow-visible"
              >
                <!-- Sugar Pile -->
                <div
                  id="sugar-pile"
                  class="w-24 h-10 bg-white rounded-t-lg shadow-inner z-10 transition-colors duration-[5s]"
                ></div>

                <!-- Black Snake (Carbon) -->
                <div
                  id="carbon-snake"
                  class="absolute bottom-0 w-20 bg-slate-900 rounded-t-lg z-0 transition-all duration-[8s] ease-out h-0 shadow-xl border border-slate-700"
                ></div>

                <!-- Steam -->
                <div
                  id="steam"
                  class="absolute -top-10 w-full h-20 bg-white/20 blur-xl opacity-0 transition-opacity duration-[2s]"
                ></div>
              </div>

              <!-- Acid Dropper -->
              <div
                id="acid-dropper"
                class="absolute top-10 w-4 h-20 bg-white/20 border border-white/40 rounded-b-full flex justify-center opacity-0 transition-all duration-500"
              >
                <div
                  class="absolute bottom-[-10px] w-2 h-2 bg-transparent border border-slate-400 rounded-full drop-anim"
                ></div>
              </div>
            </div>

            <!-- Theory/Controls -->
            <div
              class="bg-white dark:bg-slate-900 p-6 flex flex-col justify-center gap-4"
            >
              <p class="text-sm text-slate-600 dark:text-slate-300">
                $H_2SO_4$ đặc hút nước từ đường ($C_{12}H_{22}O_{11}$), biến
                đường thành than (Carbon).
              </p>
              <div
                class="bg-slate-100 dark:bg-slate-800 p-3 rounded font-mono text-xs mb-2"
              >
                C₁₂H₂₂O₁₁ $\xrightarrow{H_2SO_4}$ 12C + 11H₂O
              </div>
              <button
                onclick="runSugarSim()"
                class="w-full py-3 bg-black text-white font-bold rounded shadow-lg hover:bg-slate-800 transition"
              >
                Nhỏ Acid đặc vào Đường
              </button>
            </div>
          </div>
        </div>

        <!-- DILUTION SAFETY CARD -->
        <div
          class="glass-card p-6 rounded-2xl border-l-8 border-red-500 bg-red-50 dark:bg-red-900/10"
        >
          <div class="flex items-start gap-4">
            <div class="text-3xl text-red-500">
              <i class="fas fa-exclamation-triangle"></i>
            </div>
            <div>
              <h3 class="font-bold text-lg text-red-600 dark:text-red-400">
                AN TOÀN: Pha loãng Acid
              </h3>
              <p class="text-slate-700 dark:text-slate-300 font-bold mt-1">
                "Rót từ từ ACID vào NƯỚC và khuấy đều."
              </p>
              <p class="text-sm text-slate-500 dark:text-slate-400 mt-1">
                ❌ TUYỆT ĐỐI KHÔNG làm ngược lại (nước vào acid) $\to$ Nước sôi
                đột ngột, acid bắn gây bỏng.
              </p>
            </div>
          </div>
        </div>
      </section>

      <!-- ============================================
             QUIZ GAME SECTION
             ============================================ -->
      <section id="quiz-section" class="scroll-mt-28 mb-20">
        <div class="text-center mb-10">
          <span
            class="text-blue-500 font-bold tracking-widest uppercase text-sm"
            >Review Time</span
          >
          <h2
            class="text-3xl font-display font-bold mt-2 text-slate-800 dark:text-white"
          >
            Thử Tài Hóa Học
          </h2>
        </div>

        <div
          class="glass-card max-w-3xl mx-auto rounded-3xl overflow-hidden shadow-2xl relative"
        >
          <!-- Progress Bar -->
          <div class="w-full h-2 bg-slate-200 dark:bg-slate-700">
            <div
              id="quizProgress"
              class="h-full bg-gradient-to-r from-blue-500 to-purple-500 transition-all duration-500"
              style="width: 0%"
            ></div>
          </div>

          <div
            class="p-8 md:p-12 min-h-[400px] flex flex-col justify-center"
            id="quizContainer"
          >
            <!-- Dynamic Question Content -->
            <div class="text-center" id="quiz-intro">
              <div
                class="inline-block p-4 rounded-full bg-blue-100 dark:bg-blue-900/50 text-blue-600 dark:text-blue-300 mb-6 text-2xl animate-bounce"
              >
                <i class="fas fa-brain"></i>
              </div>
              <h3
                class="text-2xl font-bold mb-4 text-slate-800 dark:text-white"
              >
                Sẵn sàng kiểm tra kiến thức Chương 2?
              </h3>
              <button
                onclick="startQuiz()"
                class="px-8 py-3 rounded-xl bg-blue-600 hover:bg-blue-700 text-white font-bold text-lg transition shadow-lg shadow-blue-500/30"
              >
                Bắt đầu ngay
              </button>
            </div>

            <!-- Question View (Hidden initially) -->
            <div id="question-view" class="hidden">
              <h3
                class="text-xl md:text-2xl font-bold mb-8 text-slate-800 dark:text-white text-center"
                id="questionText"
              ></h3>
              <div class="grid grid-cols-1 gap-4" id="answersContainer"></div>
            </div>
          </div>

          <!-- Feedback Overlay -->
          <div
            id="feedbackOverlay"
            class="absolute inset-0 bg-slate-900/95 backdrop-blur-sm hidden flex-col items-center justify-center text-center p-6 z-20"
          >
            <div id="feedbackIcon" class="text-6xl mb-4"></div>
            <h3
              id="feedbackTitle"
              class="text-2xl font-bold text-white mb-2"
            ></h3>
            <p id="feedbackDesc" class="text-slate-300 mb-6 max-w-md"></p>
            <button
              onclick="nextQuestion()"
              class="px-6 py-3 bg-white text-slate-900 rounded-full font-bold hover:bg-slate-200 transition"
            >
              Câu tiếp theo <i class="fas fa-arrow-right ml-2"></i>
            </button>
          </div>
        </div>
      </section>

      <!-- FOOTER NAVIGATION BUTTONS (FIXED) -->
      <section
        class="text-center space-x-4 mb-20 flex flex-col md:flex-row justify-center gap-4 md:gap-0"
      >
        <button
          onclick="document.getElementById('quiz-section').scrollIntoView()"
          style="
            display: inline-flex;
            align-items: center;
            gap: 10px;
            padding: 14px 30px;
            font-size: 1rem;
            font-weight: 600;
            border-radius: 999px;
            border: none;
            cursor: pointer;
            color: #fff;
            background: linear-gradient(135deg, #3b82f6, #6366f1);
            box-shadow: 0 10px 30px rgba(59, 130, 246, 0.35);
            transition: 0.3s ease;
            justify-content: center;
          "
          onmouseover="
            this.style.transform = 'translateY(-3px) scale(1.03)';
            this.style.boxShadow = '0 18px 45px rgba(99,102,241,.55)';
          "
          onmouseout="
            this.style.transform = 'translateY(0) scale(1)';
            this.style.boxShadow = '0 10px 30px rgba(59,130,246,.35)';
          "
        >
          <i class="fas fa-pen-to-square"></i> Bài tập củng cố
        </button>
        <button
          onclick="window.location.reload()"
          style="
            display: inline-flex;
            align-items: center;
            gap: 10px;
            padding: 14px 30px;
            font-size: 1rem;
            font-weight: 600;
            border-radius: 999px;
            border: none;
            cursor: pointer;
            color: #fff;
            background: linear-gradient(135deg, #22c55e, #16a34a);
            box-shadow: 0 10px 30px rgba(34, 197, 94, 0.35);
            transition: 0.3s ease;
            justify-content: center;
          "
          onmouseover="
            this.style.transform = 'translateY(-3px)';
            this.style.boxShadow = '0 18px 45px rgba(22,163,74,.55)';
          "
          onmouseout="
            this.style.transform = 'translateY(0)';
            this.style.boxShadow = '0 10px 30px rgba(34,197,94,.35)';
          "
        >
          <i class="fas fa-sync"></i> Tải lại trang
        </button>
      </section>
    </main>

    <!-- FOOTER (EXACT) -->
    <footer>
      <div class="footer-waves"></div>
      <div class="footer-grid">
        <div class="footer-brand" data-aos="fade-right">
          <h2>EDUMATTER</h2>
          <p style="color: #94a3b8; line-height: 1.8">
            Kiến tạo môi trường học tập cảm xúc, nơi tri thức được số hóa và
            truyền tải đầy cảm hứng.
          </p>
          <div style="display: flex; gap: 15px; margin-top: 30px">
            <a href="https://www.facebook.com/ducnt214" class="icon-btn"
              ><i class="fab fa-facebook" alt="facebook"></i
            ></a>
            <a href="https://github.com/ducnt2104" class="icon-btn" alt="github"
              ><i class="fab fa-github"></i
            ></a>
            <a
              href="https://www.tiktok.com/@ktbtcthm210"
              class="icon-btn"
              alt="tiktok"
              ><i class="fab fa-tiktok"></i
            ></a>
          </div>
        </div>
        <div class="footer-links" data-aos="fade-up">
          <h3>Liên hệ nhanh</h3>
          <div class="contact-item">
            <i class="fas fa-envelope"></i><span>ducnt21042010@gmail.com</span>
          </div>
          <div class="contact-item">
            <i class="fas fa-phone"></i><span>034 226 6204</span>
          </div>
          <div class="contact-item">
            <i class="fas fa-location-dot"></i
            ><span>THPT Tôn Đức Thắng, Đồng Nai</span>
          </div>
        </div>
        <div class="footer-links" data-aos="fade-left">
          <h4>Đội ngũ DNT</h4>
          <p style="color: #94a3b8">
            "Sáng tạo không ngừng - Vươn tầm tri thức"
          </p>
          <div
            style="
              margin-top: 20px;
              padding: 15px;
              background: rgba(255, 255, 255, 0.05);
              border-radius: 15px;
            "
          >
            <p style="font-size: 0.8rem; color: #fff">
              Dự án được phát triển bởi các thành viên đam mê công nghệ tại Việt
              Nam.
            </p>
          </div>
        </div>
      </div>
      <div class="copyright">
        <p>
          © 2024 EDUMATTER Educational Ecosystem. Designed with
          <i class="fas fa-heart" style="color: #ef4444"></i> by DNT Team.
        </p>
      </div>
    </footer>

    <!-- JAVASCRIPT LOGIC -->
    <script>
      /* * LOGIC MODULES:
       * 1. Theme Manager
       * 2. Sim 1: Nitrogen Bond
       * 3. Sim 2: Lightning
       * 4. Sim 4: Fountain
       * 5. Sim 5: HNO3 + Cu
       * 6. Sim 7: Sulfur + Fe
       * 7. Sim 8: Sugar + H2SO4
       * 8. Quiz System
       */

      // --- 1. THEME MANAGER ---
      const themeToggle = document.getElementById("theme-toggle");
      const html = document.documentElement;

      if (
        localStorage.theme === "dark" ||
        (!("theme" in localStorage) &&
          window.matchMedia("(prefers-color-scheme: dark)").matches)
      ) {
        html.classList.add("dark");
      } else {
        html.classList.remove("dark");
      }

      themeToggle.addEventListener("click", () => {
        html.classList.toggle("dark");
        localStorage.theme = html.classList.contains("dark") ? "dark" : "light";
      });

      // --- 2. SIM 1: NITROGEN BOND ---
      function updateNitrogenSim(val) {
        const molecule = document.getElementById("n2-molecule");
        const bonds = document.getElementById("bonds-container");
        const atomLeft = document.getElementById("atom-left");
        const atomRight = document.getElementById("atom-right");
        const fire = document.getElementById("fire-effect");
        const status = document.getElementById("nitrogen-status");

        // Fire opacity
        fire.style.opacity = val / 100;

        // Shaking
        if (val > 10 && val <= 80) {
          // Don't shake if broken
          const shake = val / 20;
          molecule.style.transform = `translate(${Math.random() * shake - shake / 2}px, ${Math.random() * shake - shake / 2}px)`;
        } else {
          molecule.style.transform = "none";
        }

        if (val > 80) {
          // Break logic
          if (bonds) bonds.style.opacity = "0";
          if (atomLeft) atomLeft.style.transform = "translateX(-3rem)"; // Move left
          if (atomRight) atomRight.style.transform = "translateX(3rem)"; // Move right
          status.innerHTML = `<span class="text-red-500">LIÊN KẾT ĐÃ BỊ BẺ GÃY!</span> (Trạng thái hoạt động)`;
        } else {
          // Restore logic
          if (bonds) bonds.style.opacity = "1";
          if (atomLeft) atomLeft.style.transform = "translateX(0)";
          if (atomRight) atomRight.style.transform = "translateX(0)";
          status.innerHTML = `<span class="text-blue-400">Trạng thái: Liên kết bền vững</span>`;
        }
      }

      // --- 3. SIM 2: LIGHTNING ---
      function triggerLightning() {
        const flash = document.getElementById("flash-overlay");
        const text = document.getElementById("cycle-steps");

        // Flash sequence
        flash.style.opacity = "0.9";
        setTimeout(() => (flash.style.opacity = "0"), 100);
        setTimeout(() => (flash.style.opacity = "0.6"), 150);
        setTimeout(() => (flash.style.opacity = "0"), 300);

        // Show text
        text.style.opacity = "1";
        text.innerText = "⚡ 3000°C: N₂ + O₂ → 2NO";

        setTimeout(() => {
          text.innerText = "NO + O₂ → NO₂ (Nâu đỏ)";
        }, 1500);

        setTimeout(() => {
          text.innerText = "NO₂ + O₂ + H₂O → HNO₃ (Theo mưa xuống đất)";
        }, 3000);

        setTimeout(() => {
          text.innerText = "Đất: HNO₃ → Ion Nitrate (NO₃⁻) cho cây trồng";
        }, 4500);
      }

      // --- 4. SIM 4: FOUNTAIN ---
      function startFountain() {
        const spray = document.getElementById("spray");
        const fill = document.getElementById("flask-fill");
        const beaker = document.getElementById("beaker-water");

        // Beaker empties slightly
        beaker.style.height = "10px";

        // Spray shoots up
        spray.style.height = "100px";
        spray.style.opacity = "1";

        // Fill flask with pink liquid
        setTimeout(() => {
          fill.style.height = "100px";
          fill.style.width = "100px"; // fill shape roughly
          fill.style.borderRadius = "50%";
        }, 500);
      }

      function resetFountain() {
        const spray = document.getElementById("spray");
        const fill = document.getElementById("flask-fill");
        const beaker = document.getElementById("beaker-water");

        spray.style.height = "0";
        fill.style.height = "0";
        beaker.style.height = "80px";
      }

      // --- 5. SIM 5: HNO3 + Cu ---
      function runHNO3Sim(type) {
        const acidLiq = document.getElementById("acid-liquid");
        const copper = document.getElementById("copper-piece");
        const gas = document.getElementById("gas-cloud");
        const result = document.getElementById("hno3-result");
        const bubbles = document.getElementById("bubbles-container");

        // Reset
        copper.style.transform = "translateX(-50%) translateY(0)"; // Drop copper
        copper.style.opacity = "1";
        acidLiq.className =
          "absolute bottom-0 w-full h-24 transition-colors duration-1000 bg-white/10";
        gas.style.opacity = "0";
        bubbles.innerHTML = "";

        setTimeout(() => {
          if (type === "dilute") {
            // Blue solution, Colorless gas (NO) that turns brown later? Sim simplified: NO (colorless)
            acidLiq.style.backgroundColor = "rgba(59, 130, 246, 0.6)"; // Blue (Cu(NO3)2)
            result.innerHTML = `
                        <p><strong>3Cu + 8HNO₃(l) → 3Cu(NO₃)₂ + 2NO + 4H₂O</strong></p>
                        <p class="text-blue-500">Dung dịch hóa xanh lam.</p>
                        <p>Khí NO không màu hóa nâu trong không khí.</p>
                    `;
            // Bubbles
            createBubbles("rgba(255,255,255,0.5)");
          } else {
            // Green/Blue solution, Brown gas (NO2)
            acidLiq.style.backgroundColor = "rgba(16, 185, 129, 0.6)"; // Concentrated often looks greenish initially
            gas.style.opacity = "1"; // Brown cloud
            result.innerHTML = `
                        <p><strong>Cu + 4HNO₃(đ) → Cu(NO₃)₂ + 2NO₂ + 2H₂O</strong></p>
                        <p class="text-orange-600">Khí NO₂ màu nâu đỏ thoát ra ngay lập tức!</p>
                        <p>Phản ứng mãnh liệt.</p>
                    `;
            createBubbles("orange");
          }

          // Dissolve copper slightly
          copper.style.width = "0px";
        }, 1000);
      }

      function createBubbles(color) {
        const container = document.getElementById("bubbles-container");
        for (let i = 0; i < 20; i++) {
          const b = document.createElement("div");
          b.className = "absolute bottom-0 w-2 h-2 rounded-full animate-float";
          b.style.backgroundColor = color;
          b.style.left = Math.random() * 100 + "%";
          b.style.animationDuration = Math.random() * 2 + 1 + "s";
          container.appendChild(b);
        }
      }

      // --- 6. SIM 7: SULFUR + Fe ---
      function runSulfurSim() {
        const burner = document.getElementById("burner-flame");
        const mix = document.getElementById("sulfur-mix");
        const glow = document.getElementById("reaction-glow");
        const result = document.getElementById("sulfur-result");

        // Turn on burner
        burner.style.opacity = "1";

        setTimeout(() => {
          // Reaction starts
          glow.style.opacity = "1";
          glow.classList.add("animate-glow");
          mix.style.backgroundColor = "#000"; // Turns black (FeS)
          result.innerHTML =
            "Phản ứng tự tỏa nhiệt mạnh! Tạo ra Sắt(II) sulfide (FeS) màu đen.";
        }, 2000);

        setTimeout(() => {
          burner.style.opacity = "0"; // Remove heat, reaction continues (exothermic)
        }, 3000);
      }

      // --- 7. SIM 8: SUGAR ---
      function runSugarSim() {
        const dropper = document.getElementById("acid-dropper");
        const snake = document.getElementById("carbon-snake");
        const sugar = document.getElementById("sugar-pile");
        const steam = document.getElementById("steam");

        // Show dropper
        dropper.style.opacity = "1";
        dropper.style.top = "80px";

        setTimeout(() => {
          // Reaction
          sugar.style.backgroundColor = "#333"; // Turns brown/black

          setTimeout(() => {
            snake.style.height = "150px"; // Grows up
            steam.style.opacity = "0.6";
          }, 1000);
        }, 1000);
      }

      function resetSugarSim() {
        document.getElementById("carbon-snake").style.height = "0";
        document.getElementById("sugar-pile").style.backgroundColor = "white";
        document.getElementById("steam").style.opacity = "0";
        document.getElementById("acid-dropper").style.opacity = "0";
        document.getElementById("acid-dropper").style.top = "10px";
      }

      // --- 8. QUIZ SYSTEM ---
      const quizData = [
        {
          q: "Liên kết trong phân tử N₂ là liên kết gì?",
          a: ["Liên kết đơn", "Liên kết đôi", "Liên kết ba", "Liên kết ion"],
          correct: 2,
          expl: "Phân tử N₂ có liên kết ba (N≡N) rất bền vững.",
        },
        {
          q: "Khí nào sau đây tan rất nhiều trong nước và làm quỳ tím hóa xanh?",
          a: ["N₂", "NH₃", "NO", "H₂S"],
          correct: 1,
          expl: "Ammonia (NH₃) tan nhiều trong nước tạo môi trường base yếu.",
        },
        {
          q: "Hiện tượng phú dưỡng trong ao hồ chủ yếu do dư thừa ion nào?",
          a: ["Cl⁻, SO₄²⁻", "Na⁺, K⁺", "NO₃⁻, PO₄³⁻", "Ca²⁺, Mg²⁺"],
          correct: 2,
          expl: "Dư thừa Nitrate (NO₃⁻) và Phosphate gây tảo nở hoa.",
        },
        {
          q: "Khi pha loãng H₂SO₄ đặc, cách làm nào đúng?",
          a: [
            "Đổ nhanh nước vào acid",
            "Đổ từ từ nước vào acid",
            "Đổ từ từ acid vào nước",
            "Cách nào cũng được",
          ],
          correct: 2,
          expl: "Phải đổ từ từ ACID vào NƯỚC để tránh sôi trào gây bỏng.",
        },
        {
          q: "Số oxi hóa của Sulfur trong SO₂ là bao nhiêu?",
          a: ["-2", "0", "+4", "+6"],
          correct: 2,
          expl: "Trong SO₂, O là -2 nên S là +4.",
        },
      ];

      let currentQ = 0;
      let score = 0;

      function startQuiz() {
        document.getElementById("quiz-intro").classList.add("hidden");
        document.getElementById("question-view").classList.remove("hidden");
        currentQ = 0;
        score = 0;
        loadQuestion();
      }

      function loadQuestion() {
        if (currentQ >= quizData.length) {
          // Finish
          document.getElementById("question-view").innerHTML = `
                    <div class="text-center">
                        <h3 class="text-3xl font-bold text-green-500 mb-4">Hoàn thành!</h3>
                        <p class="text-xl mb-6">Điểm số: ${score}/${quizData.length}</p>
                        <button onclick="location.reload()" class="px-6 py-3 bg-blue-600 text-white rounded-xl font-bold">Làm lại</button>
                    </div>
                `;
          return;
        }

        const data = quizData[currentQ];
        document.getElementById("questionText").innerText =
          `Câu ${currentQ + 1}: ${data.q}`;
        const container = document.getElementById("answersContainer");
        container.innerHTML = "";

        document.getElementById("quizProgress").style.width =
          (currentQ / quizData.length) * 100 + "%";

        data.a.forEach((ans, idx) => {
          const btn = document.createElement("button");
          btn.className =
            "w-full p-4 rounded-xl bg-white dark:bg-slate-800 text-left border border-slate-200 dark:border-slate-700 hover:bg-blue-50 dark:hover:bg-slate-700 transition font-medium";
          btn.innerHTML = `<span class="inline-block w-8 h-8 bg-slate-200 dark:bg-slate-600 rounded-full text-center leading-8 mr-2 font-bold">${String.fromCharCode(65 + idx)}</span> ${ans}`;
          btn.onclick = () => checkAnswer(idx);
          container.appendChild(btn);
        });
      }

      function checkAnswer(idx) {
        const data = quizData[currentQ];
        const overlay = document.getElementById("feedbackOverlay");

        overlay.classList.remove("hidden");
        overlay.classList.add("flex");

        if (idx === data.correct) {
          score++;
          document.getElementById("feedbackIcon").innerHTML = "🎉";
          document.getElementById("feedbackTitle").innerText = "Chính xác!";
          document.getElementById("feedbackTitle").className =
            "text-2xl font-bold text-green-400 mb-2";
        } else {
          document.getElementById("feedbackIcon").innerHTML = "🤔";
          document.getElementById("feedbackTitle").innerText = "Sai rồi!";
          document.getElementById("feedbackTitle").className =
            "text-2xl font-bold text-red-400 mb-2";
        }
        document.getElementById("feedbackDesc").innerText = data.expl;
      }

      function nextQuestion() {
        document.getElementById("feedbackOverlay").classList.add("hidden");
        document.getElementById("feedbackOverlay").classList.remove("flex");
        currentQ++;
        loadQuestion();
      }
    </script>
  </body>
</html>
