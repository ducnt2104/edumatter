<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Chuy√™n ƒë·ªÅ: C√¢n B·∫±ng H√≥a H·ªçc</title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- React & ReactDOM -->
    <script
      crossorigin
      src="https://unpkg.com/react@18/umd/react.production.min.js"
    ></script>
    <script
      crossorigin
      src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"
    ></script>
    <!-- Babel for JSX -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>
    <!-- Chart.js for Graphs -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <style>
      @import url("https://fonts.googleapis.com/css2?family=Be+Vietnam+Pro:wght@300;400;500;600;700&display=swap");

      body {
        font-family: "Be Vietnam Pro", sans-serif;
        background-color: #f8fafc;
        color: #1e293b;
      }

      .glass-panel {
        background: rgba(255, 255, 255, 0.9);
        backdrop-filter: blur(10px);
        border: 1px solid rgba(255, 255, 255, 0.5);
        box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1),
          0 2px 4px -1px rgba(0, 0, 0, 0.06);
      }

      .molecule {
        transition: all 0.5s ease-in-out;
      }

      /* Custom Scrollbar */
      ::-webkit-scrollbar {
        width: 8px;
      }
      ::-webkit-scrollbar-track {
        background: #f1f1f1;
      }
      ::-webkit-scrollbar-thumb {
        background: #cbd5e1;
        border-radius: 4px;
      }
      ::-webkit-scrollbar-thumb:hover {
        background: #94a3b8;
      }

      .beaker-liquid {
        transition: height 0.3s ease, background-color 0.5s ease;
      }
    </style>
  </head>
  <body>
    <div id="root"></div>

    <script type="text/babel">
      const { useState, useEffect, useRef } = React;

      // --- COMPONENTS ---

      // 1. Navigation & Layout
      const Header = ({ activeTab, setActiveTab }) => {
        const navItems = [
          { id: "intro", label: "Kh√°i ni·ªám", icon: "book-open" },
          { id: "lechatelier", label: "Nguy√™n l√Ω Le Chatelier", icon: "scale" },
          { id: "aqueous", label: "Dung d·ªãch n∆∞·ªõc", icon: "droplets" },
          { id: "ph", label: "pH & Chu·∫©n ƒë·ªô", icon: "flask-conical" },
          { id: "app", label: "·ª®ng d·ª•ng th·ª±c ti·ªÖn", icon: "leaf" },
        ];

        return (
          <header className="sticky top-0 z-50 bg-white/90 backdrop-blur-md border-b border-slate-200 shadow-sm">
            <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
              <div className="flex justify-between items-center h-16">
                <div className="flex items-center gap-2">
                  <div className="bg-blue-600 text-white p-2 rounded-lg">
                    <i data-lucide="atom" className="w-6 h-6"></i>
                  </div>
                  <span className="font-bold text-xl text-slate-800 hidden sm:block">
                    ChemMastery <span className="text-blue-600">11</span>
                  </span>
                </div>
                <nav className="flex space-x-1 overflow-x-auto no-scrollbar py-2">
                  {navItems.map((item) => (
                    <button
                      key={item.id}
                      onClick={() => setActiveTab(item.id)}
                      className={`px-3 py-2 rounded-md text-sm font-medium transition-all duration-200 whitespace-nowrap ${
                        activeTab === item.id
                          ? "bg-blue-50 text-blue-700 shadow-sm ring-1 ring-blue-200"
                          : "text-slate-600 hover:bg-slate-100 hover:text-slate-900"
                      }`}
                    >
                      {item.label}
                    </button>
                  ))}
                </nav>
              </div>
            </div>
          </header>
        );
      };

      const Footer = () => (
        <footer className="bg-slate-900 text-slate-300 py-8 mt-12">
          <div className="max-w-7xl mx-auto px-4 text-center">
            <p>¬© 2024 H√≥a H·ªçc 11 - C√¢n B·∫±ng H√≥a H·ªçc.</p>
            <p className="text-sm text-slate-500 mt-2">
              Thi·∫øt k·∫ø m√¥ ph·ªèng t∆∞∆°ng t√°c h·ªó tr·ª£ h·ªçc t·∫≠p.
            </p>
          </div>
        </footer>
      );

      // 2. Interactive Simulations

      // Simulation: Reversible Reaction
      const ReversibleReactionSim = () => {
        return (
          <div className="bg-white p-6 rounded-xl shadow-lg border border-slate-200 my-6">
            <h3 className="text-lg font-bold text-slate-800 mb-4 flex items-center gap-2">
              <span className="bg-green-100 text-green-600 p-1 rounded">
                M√¥ ph·ªèng
              </span>{" "}
              Ph·∫£n ·ª©ng thu·∫≠n ngh·ªãch
            </h3>
            <div className="relative h-40 bg-slate-50 rounded-lg overflow-hidden border border-slate-200 flex items-center justify-center">
              {/* Static Representation for Simplicity in Code */}
              <div className="flex items-center gap-8 animate-pulse">
                <div className="text-center">
                  <div className="text-2xl font-bold text-blue-600">A + B</div>
                  <div className="text-xs text-slate-500">Ch·∫•t tham gia</div>
                </div>
                <div className="flex flex-col items-center">
                  <div className="text-sm text-slate-400">
                    V<sub>thu·∫≠n</sub>
                  </div>
                  <div className="flex gap-1">
                    <div className="h-1 w-16 bg-blue-500 rounded-full relative">
                      <div className="absolute right-0 -top-1 border-t-4 border-b-4 border-l-8 border-transparent border-l-blue-500"></div>
                    </div>
                  </div>
                  <div className="flex gap-1 mt-1">
                    <div className="h-1 w-16 bg-red-500 rounded-full relative rotate-180">
                      <div className="absolute right-0 -top-1 border-t-4 border-b-4 border-l-8 border-transparent border-l-red-500"></div>
                    </div>
                  </div>
                  <div className="text-sm text-slate-400">
                    V<sub>ngh·ªãch</sub>
                  </div>
                </div>
                <div className="text-center">
                  <div className="text-2xl font-bold text-red-600">C + D</div>
                  <div className="text-xs text-slate-500">S·∫£n ph·∫©m</div>
                </div>
              </div>
            </div>
            <p className="text-sm text-slate-600 mt-3 italic text-center">
              T·∫°i tr·∫°ng th√°i c√¢n b·∫±ng, t·ªëc ƒë·ªô ph·∫£n ·ª©ng thu·∫≠n b·∫±ng t·ªëc ƒë·ªô ph·∫£n
              ·ª©ng ngh·ªãch (V<sub>t</sub> = V<sub>n</sub>), n·ªìng ƒë·ªô c√°c ch·∫•t kh√¥ng
              thay ƒë·ªïi.
            </p>
          </div>
        );
      };

      // Simulation: Le Chatelier
      const LeChatelierLab = () => {
        const [pressure, setPressure] = useState(1); // 1 = normal, 2 = high
        const [temp, setTemp] = useState(1); // 0 = cold, 1 = normal, 2 = hot
        const [reactionState, setReactionState] = useState("C√¢n b·∫±ng");

        // Reaction: 2NO2 (brown) <=> N2O4 (colorless) + Heat
        // Increasing Pressure -> Shifts to N2O4 (fewer moles) -> Colorless
        // Increasing Temp -> Shifts to NO2 (Endothermic direction absorbs heat) -> Brown

        // Wait, let's use the synthesis of NH3: N2 + 3H2 <=> 2NH3 (Exothermic)
        // Or simple color one: 2NO2 (N√¢u ƒë·ªè) <=> N2O4 (Kh√¥ng m√†u) + Q (T·ªèa nhi·ªát)

        const getColor = () => {
          let intensity = 0.5;
          // High Temp -> Shift left (NO2) -> Darker
          if (temp === 2) intensity += 0.3;
          if (temp === 0) intensity -= 0.3;

          // High Pressure -> Shift right (N2O4) -> Lighter
          if (pressure === 2) intensity -= 0.3;

          intensity = Math.max(0.1, Math.min(0.9, intensity));
          return `rgba(180, 83, 9, ${intensity})`; // Brown color
        };

        const getDescription = () => {
          let msg = "H·ªá ƒëang ·ªü tr·∫°ng th√°i c√¢n b·∫±ng.";
          if (temp === 2)
            msg =
              "TƒÉng nhi·ªát ƒë·ªô: C√¢n b·∫±ng chuy·ªÉn d·ªãch theo chi·ªÅu thu nhi·ªát (ngh·ªãch) ƒë·ªÉ gi·∫£m nhi·ªát -> T·∫°o nhi·ªÅu NO2 (M√†u ƒë·∫≠m).";
          if (temp === 0)
            msg =
              "Gi·∫£m nhi·ªát ƒë·ªô: C√¢n b·∫±ng chuy·ªÉn d·ªãch theo chi·ªÅu t·ªèa nhi·ªát (thu·∫≠n) ƒë·ªÉ tƒÉng nhi·ªát -> T·∫°o nhi·ªÅu N2O4 (M√†u nh·∫°t).";
          if (pressure === 2)
            msg =
              "TƒÉng √°p su·∫•t: C√¢n b·∫±ng chuy·ªÉn d·ªãch theo chi·ªÅu gi·∫£m s·ªë mol kh√≠ (thu·∫≠n) -> T·∫°o N2O4 (M√†u nh·∫°t).";
          return msg;
        };

        return (
          <div className="bg-white p-6 rounded-xl shadow-lg border border-slate-200">
            <h3 className="text-lg font-bold text-slate-800 mb-2">
              Th√≠ nghi·ªám ·∫£o: Nguy√™n l√Ω Le Chatelier
            </h3>
            <p className="text-sm text-slate-600 mb-4">
              Ph·∫£n ·ª©ng:{" "}
              <span className="font-mono font-bold text-amber-700">
                2NO‚ÇÇ (N√¢u ƒë·ªè) ‚áå N‚ÇÇO‚ÇÑ (Kh√¥ng m√†u) + Nhi·ªát
              </span>
            </p>

            <div className="flex flex-col md:flex-row gap-6">
              {/* Controls */}
              <div className="w-full md:w-1/3 space-y-4">
                <div>
                  <label className="block text-sm font-medium text-slate-700 mb-1">
                    Nhi·ªát ƒë·ªô
                  </label>
                  <input
                    type="range"
                    min="0"
                    max="2"
                    step="1"
                    value={temp}
                    onChange={(e) => setTemp(parseInt(e.target.value))}
                    className="w-full h-2 bg-slate-200 rounded-lg appearance-none cursor-pointer"
                  />
                  <div className="flex justify-between text-xs text-slate-500 mt-1">
                    <span>L·∫°nh</span>
                    <span>Th∆∞·ªùng</span>
                    <span>N√≥ng</span>
                  </div>
                </div>
                <div>
                  <label className="block text-sm font-medium text-slate-700 mb-1">
                    √Åp su·∫•t
                  </label>
                  <button
                    onClick={() => setPressure(pressure === 1 ? 2 : 1)}
                    className={`w-full py-2 px-4 rounded-lg font-medium transition-colors ${
                      pressure === 2
                        ? "bg-indigo-600 text-white"
                        : "bg-slate-200 text-slate-700 hover:bg-slate-300"
                    }`}
                  >
                    {pressure === 2
                      ? "ƒêang n√©n (√Åp su·∫•t cao)"
                      : "√Åp su·∫•t th∆∞·ªùng"}
                  </button>
                </div>
              </div>

              {/* Visualization Container */}
              <div className="w-full md:w-2/3">
                <div
                  className="relative rounded-xl border-4 border-slate-300 transition-all duration-700 flex items-center justify-center overflow-hidden"
                  style={{
                    height: "200px",
                    width: pressure === 2 ? "60%" : "100%", // Visualizing pressure by volume change
                    backgroundColor: getColor(),
                    margin: "0 auto",
                  }}
                >
                  {/* Particles */}
                  {Array.from({ length: pressure === 2 ? 15 : 10 }).map(
                    (_, i) => (
                      <div
                        key={i}
                        className="absolute rounded-full bg-white opacity-40 animate-bounce"
                        style={{
                          width: "10px",
                          height: "10px",
                          top: `${Math.random() * 80 + 10}%`,
                          left: `${Math.random() * 80 + 10}%`,
                          animationDuration: `${
                            temp === 2 ? 0.5 : temp === 0 ? 3 : 1.5
                          }s`,
                        }}
                      />
                    )
                  )}
                  <span className="relative z-10 font-bold text-white text-shadow-md drop-shadow-md">
                    H·ªón h·ª£p kh√≠
                  </span>
                </div>
                <div className="mt-4 p-3 bg-blue-50 text-blue-800 text-sm rounded-lg border border-blue-100">
                  <strong>Hi·ªán t∆∞·ª£ng:</strong> {getDescription()}
                </div>
              </div>
            </div>
          </div>
        );
      };

      // Simulation: pH Slider
      const PHScaleSim = () => {
        const [ph, setPh] = useState(7);

        const getPhColor = (val) => {
          // Approximate generic pH indicator colors
          const colors = [
            "#ff0000",
            "#ff4000",
            "#ff8000",
            "#ffbf00",
            "#ffff00", // 0-4
            "#bfff00",
            "#80ff00",
            "#00ff00", // 5-7
            "#00ff80",
            "#00ffbf",
            "#00ffff",
            "#00bfff",
            "#0080ff",
            "#0040ff",
            "#0000ff", // 8-14
          ];
          return colors[Math.round(val)] || "#00ff00";
        };

        const getExample = (val) => {
          if (val <= 1) return "Axit trong d·∫° d√†y, Pin";
          if (val <= 3) return "Chanh, Gi·∫•m";
          if (val <= 5) return "C√† ph√™, Chu·ªëi";
          if (val <= 6) return "S·ªØa, N∆∞·ªõc ti·ªÉu";
          if (val === 7) return "N∆∞·ªõc tinh khi·∫øt";
          if (val <= 9) return "Tr·ª©ng, Baking soda";
          if (val <= 11) return "X√† ph√≤ng, S·ªØa r·ª≠a m·∫∑t";
          if (val <= 13) return "Thu·ªëc t·∫©y";
          return "Dung d·ªãch th√¥ng c·ªëng (NaOH)";
        };

        return (
          <div className="bg-white p-6 rounded-xl shadow-lg border border-slate-200">
            <h3 className="text-lg font-bold text-slate-800 mb-4">
              Thang ƒëo pH t∆∞∆°ng t√°c
            </h3>

            <div className="flex items-center gap-4 mb-6">
              <input
                type="range"
                min="0"
                max="14"
                step="0.5"
                value={ph}
                onChange={(e) => setPh(parseFloat(e.target.value))}
                className="w-full h-4 rounded-lg appearance-none cursor-pointer"
                style={{
                  background:
                    "linear-gradient(to right, #ff0000, #ffff00, #00ff00, #00ffff, #0000ff)",
                }}
              />
            </div>

            <div className="flex flex-col items-center justify-center gap-2">
              <div
                className="w-24 h-24 rounded-full shadow-inner flex items-center justify-center border-4 border-slate-100 transition-colors duration-300"
                style={{ backgroundColor: getPhColor(ph) }}
              >
                <span className="text-3xl font-bold text-slate-800 drop-shadow-sm white-stroke">
                  {ph}
                </span>
              </div>
              <div className="text-xl font-bold text-slate-700 mt-2">
                {ph < 7
                  ? "M√¥i tr∆∞·ªùng Axit"
                  : ph > 7
                  ? "M√¥i tr∆∞·ªùng Ki·ªÅm"
                  : "Trung t√≠nh"}
              </div>
              <div className="text-slate-500 font-medium">
                V√≠ d·ª•: {getExample(ph)}
              </div>
            </div>
          </div>
        );
      };

      // Simulation: Titration
      const TitrationSim = () => {
        const [drops, setDrops] = useState(0);
        const [isAnimating, setIsAnimating] = useState(false);

        // Simulation logic for Strong Acid (HCl) + Strong Base (NaOH) + Phenolphthalein
        // Assume equivalence point at 20 drops
        const totalDropsForEquivalence = 20;

        const addDrop = () => {
          if (drops >= 40) return;
          setIsAnimating(true);
          setTimeout(() => {
            setDrops((prev) => prev + 1);
            setIsAnimating(false);
          }, 300);
        };

        const reset = () => setDrops(0);

        // Calculate Visuals
        const currentVolumePercent = 20 + drops * 1.5; // Start at 20%, go up

        // pH Logic (Simplified Sigmoid)
        const calculatePH = (d) => {
          if (d < totalDropsForEquivalence) return 1 + d * 0.2; // Slow rise
          if (d === totalDropsForEquivalence) return 7; // Jump
          return 12 + (d - totalDropsForEquivalence) * 0.05; // Plateau
        };

        const currentPH = calculatePH(drops).toFixed(1);

        // Color Logic (Phenolphthalein)
        // Colorless < 8.2, Pink > 8.2
        const liquidColor =
          parseFloat(currentPH) >= 8.2
            ? "rgba(236, 72, 153, 0.6)"
            : "rgba(203, 213, 225, 0.3)";
        const liquidColorSolid =
          parseFloat(currentPH) >= 8.2 ? "#ec4899" : "#cbd5e1";

        return (
          <div className="bg-white p-6 rounded-xl shadow-lg border border-slate-200">
            <h3 className="text-lg font-bold text-slate-800 mb-2">
              M√¥ ph·ªèng: Chu·∫©n ƒë·ªô Acid - Base
            </h3>
            <p className="text-sm text-slate-500 mb-4">
              Chu·∫©n ƒë·ªô HCl b·∫±ng NaOH v·ªõi ch·ªâ th·ªã Phenolphthalein (PHTH).
            </p>

            <div className="flex flex-col md:flex-row gap-8 items-center justify-center">
              {/* Apparatus */}
              <div className="relative w-40 h-64 flex flex-col items-center">
                {/* Burette */}
                <div className="w-4 h-32 bg-slate-100 border border-slate-300 relative rounded-b-sm mb-1 z-10">
                  <div className="absolute bottom-0 left-1/2 -translate-x-1/2 w-1 h-3 bg-slate-300"></div>
                  {/* Droplet */}
                  {isAnimating && (
                    <div className="absolute -bottom-4 left-1/2 -translate-x-1/2 w-2 h-2 bg-blue-400 rounded-full animate-ping"></div>
                  )}
                </div>

                {/* Beaker */}
                <div className="w-24 h-28 border-2 border-slate-300 border-t-0 rounded-b-xl relative overflow-hidden bg-white">
                  {/* Liquid */}
                  <div
                    className="absolute bottom-0 left-0 w-full beacker-liquid transition-all duration-500"
                    style={{
                      height: `${currentVolumePercent}%`,
                      backgroundColor: liquidColor,
                    }}
                  >
                    {/* Bubbles */}
                    <div className="absolute bottom-2 left-4 w-1 h-1 bg-white rounded-full opacity-50"></div>
                    <div className="absolute bottom-5 right-6 w-2 h-2 bg-white rounded-full opacity-50"></div>
                  </div>
                </div>
              </div>

              {/* Controls & Stats */}
              <div className="flex-1 space-y-4 text-center md:text-left">
                <div className="grid grid-cols-2 gap-4">
                  <div className="bg-slate-50 p-3 rounded-lg border">
                    <div className="text-xs text-slate-500">
                      Gi·ªçt NaOH ƒë√£ th√™m
                    </div>
                    <div className="text-xl font-bold text-blue-600">
                      {drops}
                    </div>
                  </div>
                  <div className="bg-slate-50 p-3 rounded-lg border">
                    <div className="text-xs text-slate-500">pH hi·ªán t·∫°i</div>
                    <div
                      className="text-xl font-bold"
                      style={{ color: liquidColorSolid }}
                    >
                      {currentPH}
                    </div>
                  </div>
                </div>

                <div className="text-sm p-2 bg-yellow-50 text-yellow-800 rounded border border-yellow-100">
                  {drops < 20
                    ? "Dung d·ªãch ch∆∞a chuy·ªÉn m√†u (Acid d∆∞)."
                    : drops === 20
                    ? "ƒêi·ªÉm t∆∞∆°ng ƒë∆∞∆°ng! (pH ~ 7)."
                    : "Dung d·ªãch h√≥a h·ªìng (Base d∆∞)."}
                </div>

                <div className="flex gap-2 justify-center md:justify-start">
                  <button
                    onClick={addDrop}
                    className="bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg font-medium shadow-md active:scale-95 transition-transform"
                  >
                    + Nh·ªè 1 gi·ªçt
                  </button>
                  <button
                    onClick={reset}
                    className="bg-slate-200 hover:bg-slate-300 text-slate-700 px-4 py-2 rounded-lg font-medium"
                  >
                    L√†m l·∫°i
                  </button>
                </div>
              </div>
            </div>
          </div>
        );
      };

      // 3. Main Content Sections

      const SectionIntro = () => (
        <div className="space-y-8 animate-fade-in">
          <div className="text-center py-10 bg-gradient-to-r from-blue-500 to-indigo-600 rounded-2xl text-white shadow-xl">
            <h1 className="text-4xl font-bold mb-4">
              Ch∆∞∆°ng 1: C√¢n B·∫±ng H√≥a H·ªçc
            </h1>
            <p className="text-lg opacity-90">
              Kh√°m ph√° th·∫ø gi·ªõi c·ªßa c√°c ph·∫£n ·ª©ng thu·∫≠n ngh·ªãch v√† s·ª± chuy·ªÉn d·ªãch
              c√¢n b·∫±ng.
            </p>
          </div>

          <div className="grid md:grid-cols-2 gap-6">
            <div className="glass-panel p-6 rounded-xl">
              <h2 className="text-xl font-bold text-blue-700 mb-3 flex items-center gap-2">
                <i data-lucide="arrow-right" className="w-5 h-5"></i> 1. Ph·∫£n
                ·ª©ng m·ªôt chi·ªÅu
              </h2>
              <ul className="list-disc pl-5 space-y-2 text-slate-700">
                <li>Ch·ªâ x·∫£y ra theo m·ªôt h∆∞·ªõng (tr√°i sang ph·∫£i).</li>
                <li>Ch·∫•t ph·∫£n ·ª©ng chuy·ªÉn ho√†n to√†n th√†nh s·∫£n ph·∫©m.</li>
                <li>
                  K√Ω hi·ªáu: <span className="font-bold">‚Üí</span>
                </li>
              </ul>
              <div className="mt-4 bg-slate-100 p-3 rounded border border-slate-200 font-mono text-sm">
                2Na + 2H‚ÇÇO ‚Üí 2NaOH + H‚ÇÇ
              </div>
            </div>

            <div className="glass-panel p-6 rounded-xl border-l-4 border-l-green-500">
              <h2 className="text-xl font-bold text-green-700 mb-3 flex items-center gap-2">
                <i data-lucide="arrow-left-right" className="w-5 h-5"></i> 2.
                Ph·∫£n ·ª©ng thu·∫≠n ngh·ªãch
              </h2>
              <ul className="list-disc pl-5 space-y-2 text-slate-700">
                <li>X·∫£y ra ƒë·ªìng th·ªùi theo hai chi·ªÅu.</li>
                <li>Hi·ªáu su·∫•t kh√¥ng bao gi·ªù ƒë·∫°t 100%.</li>
                <li>
                  K√Ω hi·ªáu: <span className="font-bold">‚áå</span>
                </li>
              </ul>
              <div className="mt-4 bg-slate-100 p-3 rounded border border-slate-200 font-mono text-sm">
                N‚ÇÇ + 3H‚ÇÇ ‚áå 2NH‚ÇÉ
              </div>
            </div>
          </div>

          <div className="glass-panel p-6 rounded-xl">
            <h2 className="text-2xl font-bold text-slate-800 mb-4">
              3. C√¢n b·∫±ng h√≥a h·ªçc l√† g√¨?
            </h2>
            <p className="text-slate-700 mb-4">
              L√† tr·∫°ng th√°i c·ªßa ph·∫£n ·ª©ng thu·∫≠n ngh·ªãch khi{" "}
              <strong>t·ªëc ƒë·ªô ph·∫£n ·ª©ng thu·∫≠n b·∫±ng t·ªëc ƒë·ªô ph·∫£n ·ª©ng ngh·ªãch</strong>
              . T·∫°i ƒë√¢y, n·ªìng ƒë·ªô c√°c ch·∫•t kh√¥ng thay ƒë·ªïi n·ªØa, nh∆∞ng ph·∫£n ·ª©ng v·∫´n
              di·ªÖn ra ·ªü c·∫•p ƒë·ªô vi m√¥ (c√¢n b·∫±ng ƒë·ªông).
            </p>
            <ReversibleReactionSim />
          </div>

          <div className="glass-panel p-6 rounded-xl">
            <h2 className="text-2xl font-bold text-slate-800 mb-4">
              4. H·∫±ng s·ªë c√¢n b·∫±ng (K)
            </h2>
            <div className="flex flex-col md:flex-row items-center gap-8">
              <div className="flex-1">
                <p className="mb-2">
                  X√©t ph·∫£n ·ª©ng:{" "}
                  <strong className="font-mono">aA + bB ‚áå cC + dD</strong>
                </p>
                <div className="bg-yellow-50 p-4 rounded-lg border border-yellow-200 text-center">
                  <span className="text-xl font-serif italic">
                    K<sub>C</sub> ={" "}
                  </span>
                  <span className="text-xl font-serif">
                    <span className="inline-block text-center align-middle">
                      <div className="border-b border-black mb-1">
                        [C]<sup>c</sup> . [D]<sup>d</sup>
                      </div>
                      <div>
                        [A]<sup>a</sup> . [B]<sup>b</sup>
                      </div>
                    </span>
                  </span>
                </div>
                <ul className="mt-4 space-y-2 text-sm text-slate-600">
                  <li>
                    ‚Ä¢ Ch·ªâ ph·ª• thu·ªôc v√†o <strong>nhi·ªát ƒë·ªô</strong>.
                  </li>
                  <li>
                    ‚Ä¢ K &gt;&gt; 1: C√¢n b·∫±ng nghi√™ng v·ªÅ s·∫£n ph·∫©m (ph·∫£n ·ª©ng hi·ªáu
                    qu·∫£).
                  </li>
                  <li>‚Ä¢ K &lt;&lt; 1: C√¢n b·∫±ng nghi√™ng v·ªÅ ch·∫•t tham gia.</li>
                </ul>
              </div>
            </div>
          </div>
        </div>
      );

      const SectionLeChatelier = () => (
        <div className="space-y-8 animate-fade-in">
          <div className="bg-indigo-600 text-white p-6 rounded-xl shadow-lg">
            <h2 className="text-2xl font-bold mb-2">
              Nguy√™n l√Ω chuy·ªÉn d·ªãch c√¢n b·∫±ng Le Chatelier
            </h2>
            <p className="italic opacity-90">
              "M·ªôt h·ªá ƒëang ·ªü tr·∫°ng th√°i c√¢n b·∫±ng, n·∫øu ch·ªãu t√°c ƒë·ªông t·ª´ b√™n ngo√†i
              (n·ªìng ƒë·ªô, nhi·ªát ƒë·ªô, √°p su·∫•t), c√¢n b·∫±ng s·∫Ω chuy·ªÉn d·ªãch theo chi·ªÅu{" "}
              <strong>ch·ªëng l·∫°i</strong> t√°c ƒë·ªông ƒë√≥."
            </p>
          </div>

          <LeChatelierLab />

          <div className="grid md:grid-cols-3 gap-6">
            <div className="bg-white p-5 rounded-lg shadow-sm border border-slate-200 hover:shadow-md transition-shadow">
              <div className="w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center text-blue-600 mb-3">
                <i data-lucide="flask-conical" className="w-5 h-5"></i>
              </div>
              <h3 className="font-bold text-lg mb-2">N·ªìng ƒë·ªô</h3>
              <p className="text-sm text-slate-600">
                TƒÉng n·ªìng ƒë·ªô ch·∫•t n√†o ‚Üí C√¢n b·∫±ng chuy·ªÉn d·ªãch theo chi·ªÅu{" "}
                <strong>ti√™u th·ª•</strong> ch·∫•t ƒë√≥.
              </p>
            </div>
            <div className="bg-white p-5 rounded-lg shadow-sm border border-slate-200 hover:shadow-md transition-shadow">
              <div className="w-10 h-10 bg-red-100 rounded-full flex items-center justify-center text-red-600 mb-3">
                <i data-lucide="thermometer" className="w-5 h-5"></i>
              </div>
              <h3 className="font-bold text-lg mb-2">Nhi·ªát ƒë·ªô</h3>
              <p className="text-sm text-slate-600">
                TƒÉng T ‚Üí Theo chi·ªÅu <strong>thu nhi·ªát</strong>.<br />
                Gi·∫£m T ‚Üí Theo chi·ªÅu <strong>t·ªèa nhi·ªát</strong>.
              </p>
            </div>
            <div className="bg-white p-5 rounded-lg shadow-sm border border-slate-200 hover:shadow-md transition-shadow">
              <div className="w-10 h-10 bg-purple-100 rounded-full flex items-center justify-center text-purple-600 mb-3">
                <i data-lucide="gauge" className="w-5 h-5"></i>
              </div>
              <h3 className="font-bold text-lg mb-2">√Åp su·∫•t</h3>
              <p className="text-sm text-slate-600">
                (Ch·ªâ v·ªõi ch·∫•t kh√≠)
                <br />
                TƒÉng P ‚Üí Chi·ªÅu c√≥ <strong>√≠t mol kh√≠</strong> h∆°n.
                <br />
                Gi·∫£m P ‚Üí Chi·ªÅu c√≥ <strong>nhi·ªÅu mol kh√≠</strong> h∆°n.
              </p>
            </div>
          </div>

          <div className="bg-yellow-50 p-4 rounded-lg border-l-4 border-yellow-500">
            <h4 className="font-bold text-yellow-800">L∆∞u √Ω quan tr·ªçng:</h4>
            <p className="text-yellow-700 text-sm mt-1">
              <strong>Ch·∫•t x√∫c t√°c</strong> kh√¥ng l√†m chuy·ªÉn d·ªãch c√¢n b·∫±ng, n√≥
              ch·ªâ l√†m ph·∫£n ·ª©ng ƒë·∫°t tr·∫°ng th√°i c√¢n b·∫±ng nhanh h∆°n.
            </p>
          </div>
        </div>
      );

      const SectionAqueous = () => (
        <div className="space-y-8 animate-fade-in">
          <div className="glass-panel p-6 rounded-xl">
            <h2 className="text-2xl font-bold text-slate-800 mb-4">
              I. S·ª± ƒëi·ªán li
            </h2>
            <div className="grid md:grid-cols-2 gap-8">
              <div>
                <p className="mb-4 text-slate-700">
                  L√† qu√° tr√¨nh ph√¢n li c√°c ch·∫•t trong n∆∞·ªõc ra th√†nh ion.
                </p>
                <div className="space-y-4">
                  <div className="p-3 bg-green-50 rounded border border-green-100">
                    <strong className="block text-green-800">
                      Ch·∫•t ƒëi·ªán li m·∫°nh
                    </strong>
                    <span className="text-sm text-green-700">
                      Ph√¢n li ho√†n to√†n (Œ± = 1). VD: HCl, NaOH, NaCl.
                    </span>
                  </div>
                  <div className="p-3 bg-blue-50 rounded border border-blue-100">
                    <strong className="block text-blue-800">
                      Ch·∫•t ƒëi·ªán li y·∫øu
                    </strong>
                    <span className="text-sm text-blue-700">
                      Ph√¢n li m·ªôt ph·∫ßn (0 &lt; Œ± &lt; 1). VD: CH‚ÇÉCOOH, H‚ÇÇO.
                    </span>
                  </div>
                  <div className="p-3 bg-slate-50 rounded border border-slate-200">
                    <strong className="block text-slate-800">
                      Ch·∫•t kh√¥ng ƒëi·ªán li
                    </strong>
                    <span className="text-sm text-slate-600">
                      Kh√¥ng t·∫°o ion. VD: ƒê∆∞·ªùng, Ancol etylic.
                    </span>
                  </div>
                </div>
              </div>
              <div className="flex items-center justify-center bg-slate-100 rounded-lg p-4">
                <div className="text-center">
                  <div className="text-6xl mb-2">üí°</div>
                  <p className="text-sm font-medium">
                    Ch·∫•t ƒëi·ªán li d·∫´n ƒëi·ªán ƒë∆∞·ª£c!
                  </p>
                </div>
              </div>
            </div>
          </div>

          <div className="glass-panel p-6 rounded-xl">
            <h2 className="text-2xl font-bold text-slate-800 mb-4">
              II. Thuy·∫øt Br√∏nsted ‚Äì Lowry
            </h2>
            <div className="flex flex-col md:flex-row gap-6 items-center">
              <div className="flex-1 space-y-4">
                <div className="flex items-start gap-3">
                  <div className="bg-red-100 p-2 rounded text-red-600 font-bold">
                    Acid
                  </div>
                  <div>Ch·∫•t cho proton (H‚Å∫)</div>
                </div>
                <div className="flex items-start gap-3">
                  <div className="bg-blue-100 p-2 rounded text-blue-600 font-bold">
                    Base
                  </div>
                  <div>Ch·∫•t nh·∫≠n proton (H‚Å∫)</div>
                </div>
                <div className="mt-4 p-4 bg-slate-50 rounded border border-slate-200">
                  <p className="font-mono text-center text-lg">
                    HCl + H‚ÇÇO ‚Üí H‚ÇÉO‚Å∫ + Cl‚Åª
                  </p>
                  <div className="flex justify-between text-xs text-slate-500 mt-2 px-4">
                    <span>Acid</span>
                    <span>Base</span>
                    <span>Acid LH</span>
                    <span>Base LH</span>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      );

      const SectionPH = () => (
        <div className="space-y-8 animate-fade-in">
          <PHScaleSim />

          <div className="grid md:grid-cols-2 gap-6">
            <div className="glass-panel p-6 rounded-xl">
              <h2 className="text-xl font-bold mb-3">C√¥ng th·ª©c t√≠nh pH</h2>
              <div className="bg-slate-800 text-white p-4 rounded-lg font-mono text-center text-xl mb-4">
                pH = -log[H‚Å∫]
              </div>
              <ul className="space-y-2 text-sm text-slate-700">
                <li>
                  ‚Ä¢ [H‚Å∫] = 10<sup>-pH</sup>
                </li>
                <li>‚Ä¢ pH + pOH = 14</li>
                <li>‚Ä¢ M√¥i tr∆∞·ªùng axit: pH &lt; 7</li>
                <li>‚Ä¢ M√¥i tr∆∞·ªùng ki·ªÅm: pH &gt; 7</li>
              </ul>
            </div>

            <div className="glass-panel p-6 rounded-xl">
              <h2 className="text-xl font-bold mb-3">Ch·∫•t ch·ªâ th·ªã m√†u</h2>
              <div className="overflow-x-auto">
                <table className="w-full text-sm text-left">
                  <thead className="bg-slate-100">
                    <tr>
                      <th className="p-2 rounded-tl-lg">Ch·∫•t ch·ªâ th·ªã</th>
                      <th className="p-2">Kho·∫£ng pH</th>
                      <th className="p-2 rounded-tr-lg">M√†u s·∫Øc</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr className="border-b">
                      <td className="p-2 font-medium">Qu·ª≥ t√≠m</td>
                      <td className="p-2">5.0 - 8.0</td>
                      <td className="p-2">ƒê·ªè ‚Üí T√≠m ‚Üí Xanh</td>
                    </tr>
                    <tr className="border-b">
                      <td className="p-2 font-medium">Phenolphthalein</td>
                      <td className="p-2">8.3 - 10.0</td>
                      <td className="p-2">Kh√¥ng m√†u ‚Üí H·ªìng</td>
                    </tr>
                    <tr>
                      <td className="p-2 font-medium">Methyl da cam</td>
                      <td className="p-2">3.1 - 4.4</td>
                      <td className="p-2">ƒê·ªè ‚Üí V√†ng</td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>
          </div>

          <TitrationSim />
        </div>
      );

      const SectionApp = () => (
        <div className="space-y-8 animate-fade-in">
          <div className="text-center mb-8">
            <h2 className="text-3xl font-bold text-slate-800">
              √ù nghƒ©a th·ª±c ti·ªÖn
            </h2>
            <p className="text-slate-600">
              H√≥a h·ªçc kh√¥ng ch·ªâ n·∫±m trong s√°ch v·ªü, n√≥ ·ªü kh·∫Øp m·ªçi n∆°i!
            </p>
          </div>

          <div className="grid md:grid-cols-2 gap-8">
            {/* Card 1: Al3+ Fe3+ */}
            <div className="glass-panel rounded-xl overflow-hidden hover:shadow-xl transition-all">
              <div className="h-32 bg-gradient-to-br from-orange-100 to-amber-200 flex items-center justify-center">
                <i
                  data-lucide="droplet"
                  className="w-16 h-16 text-amber-600 opacity-50"
                ></i>
              </div>
              <div className="p-6">
                <h3 className="text-xl font-bold text-slate-800 mb-2">
                  1. X·ª≠ l√Ω n∆∞·ªõc (Ph√®n chua)
                </h3>
                <p className="text-sm text-slate-600 mb-4">
                  C√°c ion Al¬≥‚Å∫ v√† Fe¬≥‚Å∫ b·ªã th·ªßy ph√¢n m·∫°nh trong n∆∞·ªõc t·∫°o k·∫øt t·ªßa
                  keo, c√≥ kh·∫£ nƒÉng h·∫•p ph·ª• ch·∫•t b·∫©n l∆° l·ª≠ng.
                </p>
                <div className="bg-slate-50 p-3 rounded border border-slate-200 font-mono text-xs text-slate-700">
                  Al¬≥‚Å∫ + 3H‚ÇÇO ‚áå Al(OH)‚ÇÉ‚Üì + 3H‚Å∫
                </div>
                <div className="mt-3 text-sm text-blue-600 font-medium">
                  ·ª®ng d·ª•ng: L√†m trong n∆∞·ªõc ƒë·ª•c.
                </div>
              </div>
            </div>

            {/* Card 2: CO3 2- */}
            <div className="glass-panel rounded-xl overflow-hidden hover:shadow-xl transition-all">
              <div className="h-32 bg-gradient-to-br from-blue-100 to-cyan-200 flex items-center justify-center">
                <i
                  data-lucide="waves"
                  className="w-16 h-16 text-cyan-600 opacity-50"
                ></i>
              </div>
              <div className="p-6">
                <h3 className="text-xl font-bold text-slate-800 mb-2">
                  2. H·ªá ƒë·ªám t·ª± nhi√™n
                </h3>
                <p className="text-sm text-slate-600 mb-4">
                  Ion CO‚ÇÉ¬≤‚Åª ƒë√≥ng vai tr√≤ quan tr·ªçng trong vi·ªác c√¢n b·∫±ng pH c·ªßa
                  n∆∞·ªõc t·ª± nhi√™n v√† m√°u, c≈©ng nh∆∞ s·ª± h√¨nh th√†nh th·∫°ch nh≈©.
                </p>
                <div className="bg-slate-50 p-3 rounded border border-slate-200 font-mono text-xs text-slate-700">
                  CO‚ÇÉ¬≤‚Åª + H‚ÇÇO ‚áå HCO‚ÇÉ‚Åª + OH‚Åª
                </div>
                <div className="mt-3 text-sm text-blue-600 font-medium">
                  ·ª®ng d·ª•ng: V√¥i h√≥a san h√¥, n∆∞·ªõc kho√°ng.
                </div>
              </div>
            </div>
          </div>
        </div>
      );

      // 4. Main App Container
      const App = () => {
        const [activeTab, setActiveTab] = useState("intro");

        // Initialize Lucide icons
        useEffect(() => {
          lucide.createIcons();
        }, [activeTab]);

        const renderContent = () => {
          switch (activeTab) {
            case "intro":
              return <SectionIntro />;
            case "lechatelier":
              return <SectionLeChatelier />;
            case "aqueous":
              return <SectionAqueous />;
            case "ph":
              return <SectionPH />;
            case "app":
              return <SectionApp />;
            default:
              return <SectionIntro />;
          }
        };

        return (
          <div className="min-h-screen flex flex-col font-sans text-slate-800 bg-slate-50 selection:bg-blue-200 selection:text-blue-900">
            <Header activeTab={activeTab} setActiveTab={setActiveTab} />

            <main className="flex-grow max-w-5xl mx-auto w-full px-4 sm:px-6 lg:px-8 py-8">
              {renderContent()}
            </main>

            <Footer />
          </div>
        );
      };

      const root = ReactDOM.createRoot(document.getElementById("root"));
      root.render(<App />);
    </script>
  </body>
</html>
