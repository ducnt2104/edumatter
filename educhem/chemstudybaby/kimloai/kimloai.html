<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>H√≥a H·ªçc 9: Kim Lo·∫°i & Phi Kim - Interactive Master</title>
    <link
      href="https://fonts.googleapis.com/css2?family=Be+Vietnam+Pro:wght@300;400;600;800&display=swap"
      rel="stylesheet"
    />
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />
    <link rel="stylesheet" href="../../component/component.css" />
    <script src="../../component/component.js"></script>
    <style>
      :root {
        --primary: #6366f1;
        --secondary: #ec4899;
        --dark: #0f172a;
      }
      body {
        font-family: "Be Vietnam Pro", sans-serif;
        background-color: var(--dark);
        color: white;
        overflow-x: hidden;
      }
      /* Custom Scrollbar */
      ::-webkit-scrollbar {
        width: 8px;
      }
      ::-webkit-scrollbar-track {
        background: #1e293b;
      }
      ::-webkit-scrollbar-thumb {
        background: #475569;
        border-radius: 4px;
      }
      ::-webkit-scrollbar-thumb:hover {
        background: #64748b;
      }
      /* Glassmorphism Panel */
      .glass-panel {
        background: rgba(30, 41, 59, 0.7);
        backdrop-filter: blur(12px);
        -webkit-backdrop-filter: blur(12px);
        border: 1px solid rgba(255, 255, 255, 0.1);
      }
      /* Animations */
      @keyframes float {
        0% {
          transform: translateY(0px);
        }
        50% {
          transform: translateY(-10px);
        }
        100% {
          transform: translateY(0px);
        }
      }
      .animate-float {
        animation: float 6s ease-in-out infinite;
      }
      @keyframes pulse-glow {
        0%,
        100% {
          box-shadow: 0 0 10px rgba(99, 102, 241, 0.2);
        }
        50% {
          box-shadow: 0 0 25px rgba(99, 102, 241, 0.6);
        }
      }
      /* 3D Flip Card */
      .perspective-1000 {
        perspective: 1000px;
      }
      .flip-card-inner {
        position: relative;
        width: 100%;
        height: 100%;
        text-align: center;
        transition: transform 0.6s;
        transform-style: preserve-3d;
      }
      .flip-card.flipped .flip-card-inner {
        transform: rotateY(180deg);
      }
      .flip-card-front,
      .flip-card-back {
        position: absolute;
        width: 100%;
        height: 100%;
        backface-visibility: hidden;
        border-radius: 1rem;
        display: flex;
        align-items: center;
        justify-content: center;
        flex-direction: column;
      }
      .flip-card-back {
        transform: rotateY(180deg);
        background: linear-gradient(135deg, #4f46e5, #9333ea);
      }
      /* Custom Range Slider for Activity Series */
      .metal-slider::-webkit-slider-thumb {
        -webkit-appearance: none;
        appearance: none;
        width: 25px;
        height: 25px;
        border-radius: 50%;
        background: #facc15;
        cursor: pointer;
        box-shadow: 0 0 10px #facc15;
      }
    </style>
  </head>
  <body
    class="h-screen flex overflow-hidden bg-[url('https://images.unsplash.com/photo-1532094349884-543bc11b234d?ixlib=rb-4.0.3&auto=format&fit=crop&w=2000&q=80')] bg-cover bg-center bg-no-repeat bg-blend-multiply"
  >
    <aside
      class="w-20 lg:w-64 glass-panel flex flex-col z-20 transition-all duration-300"
    >
      <div
        class="h-20 flex items-center justify-center border-b border-gray-700"
      >
        <i
          class="fa-solid fa-atom text-3xl text-indigo-400 animate-spin-slow"
          style="animation-duration: 10s"
        ></i>
        <span
          class="hidden lg:block ml-3 font-bold text-xl tracking-wider text-transparent bg-clip-text bg-gradient-to-r from-indigo-400 to-pink-400"
          >CHEM 9</span
        >
      </div>
      <nav class="flex-1 overflow-y-auto py-4 space-y-2 px-2">
        <button
          onclick="switchTab('metals')"
          class="nav-btn group w-full flex items-center p-3 rounded-xl hover:bg-white/10 transition text-gray-300 hover:text-white active-tab bg-white/10 text-white shadow-lg border-l-4 border-indigo-500"
        >
          <i
            class="fa-solid fa-cube w-8 text-center text-lg group-hover:text-indigo-400"
          ></i>
          <span class="hidden lg:block font-medium">I. T√≠nh ch·∫•t KL</span>
        </button>
        <button
          onclick="switchTab('series')"
          class="nav-btn group w-full flex items-center p-3 rounded-xl hover:bg-white/10 transition text-gray-300 hover:text-white border-l-4 border-transparent"
        >
          <i
            class="fa-solid fa-arrow-down-wide-short w-8 text-center text-lg group-hover:text-yellow-400"
          ></i>
          <span class="hidden lg:block font-medium">II. D√£y ho·∫°t ƒë·ªông</span>
        </button>
        <button
          onclick="switchTab('production')"
          class="nav-btn group w-full flex items-center p-3 rounded-xl hover:bg-white/10 transition text-gray-300 hover:text-white border-l-4 border-transparent"
        >
          <i
            class="fa-solid fa-industry w-8 text-center text-lg group-hover:text-orange-400"
          ></i>
          <span class="hidden lg:block font-medium">III-IV. Gang & Th√©p</span>
        </button>
        <button
          onclick="switchTab('nonmetals')"
          class="nav-btn group w-full flex items-center p-3 rounded-xl hover:bg-white/10 transition text-gray-300 hover:text-white border-l-4 border-transparent"
        >
          <i
            class="fa-solid fa-vial w-8 text-center text-lg group-hover:text-green-400"
          ></i>
          <span class="hidden lg:block font-medium">V. Phi kim</span>
        </button>
        <div class="border-t border-gray-700 my-2"></div>
        <button
          onclick="switchTab('flashcards')"
          class="nav-btn group w-full flex items-center p-3 rounded-xl hover:bg-white/10 transition text-gray-300 hover:text-white border-l-4 border-transparent"
        >
          <i
            class="fa-solid fa-layer-group w-8 text-center text-lg group-hover:text-cyan-400"
          ></i>
          <span class="hidden lg:block font-medium">Luy·ªán tr√≠ nh·ªõ</span>
        </button>
        <button
          onclick="switchTab('game')"
          class="nav-btn group w-full flex items-center p-3 rounded-xl hover:bg-gradient-to-r hover:from-pink-500 hover:to-rose-500 transition text-gray-300 hover:text-white border-l-4 border-transparent"
        >
          <i
            class="fa-solid fa-gamepad w-8 text-center text-lg text-pink-500 group-hover:text-white"
          ></i>
          <span class="hidden lg:block font-bold">ƒêua T·ªëc ƒê·ªô</span>
        </button>
        <a href="../chemstudybaby.html">Quay v·ªÅ trang ch·ªß</a>
      </nav>
      <div class="p-4 border-t border-gray-700 hidden lg:block">
        <div
          class="bg-gradient-to-br from-indigo-600 to-purple-600 rounded-xl p-4 text-center shadow-lg"
        >
          <h4 class="font-bold text-sm mb-1">C·∫•p ƒë·ªô c·ªßa b·∫°n</h4>
          <div class="text-xs text-indigo-200 mb-2" id="levelText">
            T·∫≠p s·ª± h√≥a h·ªçc
          </div>
          <div class="w-full bg-black/30 rounded-full h-2">
            <div
              class="bg-yellow-400 h-2 rounded-full transition-all duration-1000"
              style="width: 0%"
              id="xpBar"
            ></div>
          </div>
        </div>
      </div>
    </aside>
    <main class="flex-1 relative overflow-hidden flex flex-col">
      <header
        class="h-20 glass-panel flex items-center justify-between px-8 z-10"
      >
        <div>
          <h1 class="text-2xl font-bold text-white" id="pageTitle">
            T√≠nh ch·∫•t chung c·ªßa Kim lo·∫°i
          </h1>
          <p class="text-gray-400 text-sm" id="pageSubtitle">
            Kh√°m ph√° t√≠nh d·∫´n ƒëi·ªán, d·∫´n nhi·ªát v√† √°nh kim
          </p>
        </div>
        <div class="flex items-center gap-4">
          <button
            onclick="playSound('click')"
            class="w-10 h-10 rounded-full bg-white/10 hover:bg-white/20 flex items-center justify-center transition"
          >
            <i class="fa-regular fa-bell"></i>
          </button>
          <div
            class="flex items-center gap-2 bg-white/10 px-4 py-2 rounded-full"
          >
            <i class="fa-solid fa-trophy text-yellow-400"></i>
            <span class="font-bold" id="totalScore">0</span>
          </div>
        </div>
      </header>
      <div
        class="flex-1 overflow-y-auto p-4 lg:p-8 relative scroll-smooth"
        id="contentArea"
      >
        <section
          id="metals"
          class="tab-content max-w-5xl mx-auto space-y-8 animate-float"
        >
          <div class="grid md:grid-cols-2 gap-6">
            <div
              class="glass-panel p-6 rounded-2xl hover:bg-white/5 transition duration-300"
            >
              <div class="flex items-center gap-4 mb-4">
                <div
                  class="w-12 h-12 rounded-xl bg-yellow-500/20 text-yellow-400 flex items-center justify-center text-2xl"
                >
                  <i class="fa-regular fa-sun"></i>
                </div>
                <h3 class="text-xl font-bold">1. T√≠nh ch·∫•t V·∫≠t l√Ω</h3>
              </div>
              <ul class="space-y-3 text-gray-300">
                <li class="flex items-start gap-3">
                  <i class="fa-solid fa-check text-green-400 mt-1"></i
                  ><span><b>√Ånh kim:</b> S√°ng b√≥ng (V√†ng, B·∫°c, Nh√¥m).</span>
                </li>
                <li class="flex items-start gap-3">
                  <i class="fa-solid fa-bolt text-yellow-400 mt-1"></i
                  ><span><b>D·∫´n ƒëi·ªán:</b> Ag > Cu > Au > Al > Fe.</span>
                </li>
                <li class="flex items-start gap-3">
                  <i class="fa-solid fa-fire text-orange-400 mt-1"></i
                  ><span><b>D·∫´n nhi·ªát:</b> Th∆∞·ªùng ƒëi ƒë√¥i v·ªõi d·∫´n ƒëi·ªán.</span>
                </li>
                <li class="flex items-start gap-3">
                  <i class="fa-solid fa-layer-group text-blue-400 mt-1"></i
                  ><span
                    ><b>T√≠nh d·∫ªo:</b> D√°t m·ªèng, k√©o s·ª£i (V√†ng d·∫ªo nh·∫•t).</span
                  >
                </li>
              </ul>
            </div>
            <div class="glass-panel p-6 rounded-2xl relative overflow-hidden">
              <div
                class="absolute top-0 right-0 w-32 h-32 bg-indigo-500/20 rounded-full blur-3xl"
              ></div>
              <h3 class="text-xl font-bold mb-4">
                2. T√≠nh ch·∫•t H√≥a h·ªçc (T√≠nh Kh·ª≠)
              </h3>
              <div class="space-y-4">
                <div
                  class="bg-white/5 p-3 rounded-lg border-l-4 border-red-500"
                >
                  <div class="font-bold text-red-400 text-sm">
                    T√°c d·ª•ng v·ªõi Oxi
                  </div>
                  <div class="font-mono text-xs mt-1">
                    3Fe + 2O‚ÇÇ ‚Üí Fe‚ÇÉO‚ÇÑ (G·ªâ s·∫Øt)
                  </div>
                </div>
                <div
                  class="bg-white/5 p-3 rounded-lg border-l-4 border-green-500"
                >
                  <div class="font-bold text-green-400 text-sm">
                    T√°c d·ª•ng v·ªõi Phi kim (Cl‚ÇÇ, S...)
                  </div>
                  <div class="font-mono text-xs mt-1">
                    2Na + Cl‚ÇÇ ‚Üí 2NaCl (Mu·ªëi ƒÉn)
                  </div>
                </div>
                <div
                  class="bg-white/5 p-3 rounded-lg border-l-4 border-blue-500"
                >
                  <div class="font-bold text-blue-400 text-sm">
                    T√°c d·ª•ng v·ªõi Axit lo√£ng
                  </div>
                  <div class="font-mono text-xs mt-1">
                    Zn + 2HCl ‚Üí ZnCl‚ÇÇ + H‚ÇÇ‚Üë
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="glass-panel p-6 rounded-2xl">
            <h3 class="text-lg font-bold mb-4 flex items-center gap-2">
              <i class="fa-solid fa-table"></i> So s√°nh th√¥ng s·ªë Kim lo·∫°i
            </h3>
            <div class="overflow-x-auto">
              <table class="w-full text-left text-sm">
                <thead class="bg-white/10 text-indigo-300">
                  <tr>
                    <th class="p-3">Kim lo·∫°i</th>
                    <th>M√†u</th>
                    <th>Nhi·ªát ƒë·ªô NC (¬∞C)</th>
                    <th>ƒê·∫∑c ƒëi·ªÉm n·ªïi b·∫≠t</th>
                  </tr>
                </thead>
                <tbody class="divide-y divide-gray-700">
                  <tr>
                    <td class="p-3 font-bold">Al (Nh√¥m)</td>
                    <td>Tr·∫Øng b·∫°c</td>
                    <td>660</td>
                    <td>Nh·∫π, d·∫´n ƒëi·ªán t·ªët</td>
                  </tr>
                  <tr>
                    <td class="p-3 font-bold">Fe (S·∫Øt)</td>
                    <td>Tr·∫Øng x√°m</td>
                    <td>1535</td>
                    <td>C√≥ t·ª´ t√≠nh, n·∫∑ng</td>
                  </tr>
                  <tr>
                    <td class="p-3 font-bold">Cu (ƒê·ªìng)</td>
                    <td>ƒê·ªè</td>
                    <td>1085</td>
                    <td>D·∫´n ƒëi·ªán c·ª±c t·ªët</td>
                  </tr>
                  <tr>
                    <td class="p-3 font-bold">Au (V√†ng)</td>
                    <td>V√†ng</td>
                    <td>1065</td>
                    <td>M·ªÅm, kh√¥ng b·ªã ƒÉn m√≤n</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </section>
        <section id="series" class="tab-content hidden max-w-5xl mx-auto">
          <div
            class="glass-panel p-8 rounded-3xl text-center mb-8 relative overflow-hidden"
          >
            <div
              class="absolute inset-0 bg-gradient-to-r from-red-500/20 via-yellow-500/20 to-blue-500/20 blur-xl"
            ></div>
            <h2 class="text-3xl font-extrabold mb-2 relative z-10">
              D√ÉY HO·∫†T ƒê·ªòNG H√ìA H·ªåC
            </h2>
            <p class="text-gray-300 mb-6 relative z-10">
              K√©o thanh tr∆∞·ª£t ƒë·ªÉ xem ƒë·ªô m·∫°nh c·ªßa kim lo·∫°i
            </p>
            <div
              class="flex justify-between font-mono font-black text-xl md:text-3xl mb-4 text-transparent bg-clip-text bg-gradient-to-r from-red-400 via-yellow-400 to-blue-400"
            >
              <span>K</span><span>Na</span><span>Mg</span><span>Al</span
              ><span>Zn</span><span>Fe</span><span>Pb</span><span>(H)</span
              ><span>Cu</span><span>Ag</span><span>Au</span>
            </div>
            <input
              type="range"
              min="0"
              max="10"
              value="5"
              class="w-full h-3 bg-gray-700 rounded-lg appearance-none cursor-pointer metal-slider relative z-10"
              id="activitySlider"
            />
            <div
              class="mt-8 p-6 bg-black/40 rounded-xl backdrop-blur-md text-left transition-all duration-300"
              id="activityInfo"
            >
              <h4 class="text-xl font-bold text-yellow-400 mb-2" id="metalName">
                S·∫Øt (Fe)
              </h4>
              <ul class="space-y-2 text-sm text-gray-300" id="metalProps">
                <li>‚Ä¢ ƒê·ª©ng sau Mg: Kh√¥ng ph·∫£n ·ª©ng n∆∞·ªõc ·ªü nhi·ªát ƒë·ªô th∆∞·ªùng.</li>
                <li>‚Ä¢ ƒê·ª©ng tr∆∞·ªõc H: T√°c d·ª•ng axit gi·∫£i ph√≥ng H‚ÇÇ.</li>
                <li>‚Ä¢ ƒê·∫©y ƒë∆∞·ª£c Cu, Ag ra kh·ªèi mu·ªëi.</li>
              </ul>
            </div>
          </div>
          <div class="grid md:grid-cols-3 gap-6">
            <div
              class="glass-panel p-5 rounded-2xl text-center hover:scale-105 transition"
            >
              <div class="text-4xl mb-3">‚ö°</div>
              <h4 class="font-bold text-red-400">ƒêi·ªán ph√¢n n√≥ng ch·∫£y</h4>
              <p class="text-xs text-gray-400 mt-2">
                D√πng cho K, Na, Ca, Mg, Al (R·∫•t m·∫°nh)
              </p>
            </div>
            <div
              class="glass-panel p-5 rounded-2xl text-center hover:scale-105 transition"
            >
              <div class="text-4xl mb-3">üî•</div>
              <h4 class="font-bold text-yellow-400">Nhi·ªát luy·ªán</h4>
              <p class="text-xs text-gray-400 mt-2">
                D√πng C, CO kh·ª≠ oxit: Zn, Fe, Pb... (Trung b√¨nh)
              </p>
            </div>
            <div
              class="glass-panel p-5 rounded-2xl text-center hover:scale-105 transition"
            >
              <div class="text-4xl mb-3">üíß</div>
              <h4 class="font-bold text-blue-400">Th·ªßy luy·ªán</h4>
              <p class="text-xs text-gray-400 mt-2">
                D√πng kim lo·∫°i m·∫°nh ƒë·∫©y y·∫øu: Cu, Ag, Au (Y·∫øu)
              </p>
            </div>
          </div>
        </section>
        <section
          id="production"
          class="tab-content hidden max-w-5xl mx-auto space-y-8"
        >
          <div class="grid md:grid-cols-2 gap-8">
            <div class="glass-panel p-6 rounded-2xl border-t-4 border-gray-500">
              <h3
                class="text-2xl font-bold text-gray-300 mb-4 flex items-center gap-3"
              >
                <i class="fa-solid fa-cubes-stacked"></i> GANG
              </h3>
              <div class="text-sm space-y-2 mb-4">
                <p><b>Th√†nh ph·∫ßn:</b> Fe + Carbon (2-5%)</p>
                <p><b>T√≠nh ch·∫•t:</b> C·ª©ng nh∆∞ng Gi√≤n.</p>
                <p><b>S·∫£n xu·∫•t (L√≤ cao):</b></p>
              </div>
              <div
                class="bg-black/30 p-4 rounded-lg font-mono text-xs text-orange-300"
              >
                1. T·∫°o CO: C + O‚ÇÇ ‚Üí CO‚ÇÇ ‚Üí 2CO<br />
                2. Kh·ª≠ s·∫Øt: Fe‚ÇÇO‚ÇÉ + 3CO ‚Üí 2Fe + 3CO‚ÇÇ<br />
                3. T·∫°o x·ªâ: CaO + SiO‚ÇÇ ‚Üí CaSiO‚ÇÉ
              </div>
            </div>
            <div
              class="glass-panel p-6 rounded-2xl border-t-4 border-indigo-500"
            >
              <h3
                class="text-2xl font-bold text-indigo-300 mb-4 flex items-center gap-3"
              >
                <i class="fa-solid fa-building"></i> TH√âP
              </h3>
              <div class="text-sm space-y-2 mb-4">
                <p><b>Th√†nh ph·∫ßn:</b> Fe + Carbon (< 2%)</p>
                <p><b>T√≠nh ch·∫•t:</b> D·∫ªo, ƒë√†n h·ªìi, b·ªÅn.</p>
                <p><b>S·∫£n xu·∫•t (L√≤ th·ªïi):</b></p>
              </div>
              <div
                class="bg-black/30 p-4 rounded-lg font-mono text-xs text-cyan-300"
              >
                Nguy√™n t·∫Øc: Oxi h√≥a t·∫°p ch·∫•t trong gang.<br />
                C + O‚ÇÇ ‚Üí CO‚ÇÇ<br />
                Si + O‚ÇÇ ‚Üí SiO‚ÇÇ...
              </div>
            </div>
          </div>
          <div
            class="glass-panel p-6 rounded-2xl flex flex-col items-center text-center"
          >
            <h3 class="text-xl font-bold mb-2">H·ª£p kim l√† g√¨?</h3>
            <p class="text-gray-400 max-w-2xl">
              L√† ch·∫•t r·∫Øn thu ƒë∆∞·ª£c sau khi l√†m ngu·ªôi h·ªón h·ª£p n√≥ng ch·∫£y c·ªßa nhi·ªÅu
              kim lo·∫°i (ho·∫∑c kim lo·∫°i + phi kim).
            </p>
            <div class="flex gap-4 mt-6">
              <div class="bg-white/10 px-6 py-3 rounded-full">
                Dural (Al-Cu) - M√°y bay
              </div>
              <div class="bg-white/10 px-6 py-3 rounded-full">
                Inox (Fe-Cr-Ni) - Gia d·ª•ng
              </div>
            </div>
          </div>
        </section>
        <section id="nonmetals" class="tab-content hidden max-w-5xl mx-auto">
          <div class="glass-panel p-8 rounded-3xl mb-8">
            <h2 class="text-3xl font-bold text-green-400 mb-6">
              Kim lo·∫°i vs Phi kim
            </h2>
            <div
              class="grid md:grid-cols-2 gap-px bg-gray-600 rounded-xl overflow-hidden border border-gray-600"
            >
              <div class="bg-gray-800 p-6">
                <h4 class="text-xl font-bold text-indigo-400 mb-4 text-center">
                  KIM LO·∫†I
                </h4>
                <ul class="space-y-3 text-sm">
                  <li>‚úÖ D·∫´n ƒëi·ªán, nhi·ªát t·ªët</li>
                  <li>‚úÖ C√≥ √°nh kim</li>
                  <li>‚úÖ Ch·ªâ t·ªìn t·∫°i th·ªÉ R·∫Øn (tr·ª´ Hg)</li>
                  <li>‚úÖ H√≥a h·ªçc: D·ªÖ m·∫•t e (T√≠nh kh·ª≠)</li>
                  <li>‚úÖ T√°c d·ª•ng O‚ÇÇ ‚Üí Oxit Baz∆°</li>
                </ul>
              </div>
              <div class="bg-gray-800 p-6">
                <h4 class="text-xl font-bold text-green-400 mb-4 text-center">
                  PHI KIM
                </h4>
                <ul class="space-y-3 text-sm">
                  <li>‚ùå Kh√¥ng d·∫´n ƒëi·ªán (tr·ª´ than ch√¨)</li>
                  <li>‚ùå Kh√¥ng c√≥ √°nh kim</li>
                  <li>‚ö†Ô∏è R·∫Øn, L·ªèng (Br‚ÇÇ), Kh√≠ (O‚ÇÇ, Cl‚ÇÇ)</li>
                  <li>‚úÖ H√≥a h·ªçc: D·ªÖ nh·∫≠n e (Oxi h√≥a)</li>
                  <li>‚úÖ T√°c d·ª•ng O‚ÇÇ ‚Üí Oxit Axit</li>
                </ul>
              </div>
            </div>
          </div>
          <h3 class="text-xl font-bold mb-4">·ª®ng d·ª•ng ti√™u bi·ªÉu</h3>
          <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
            <div class="glass-panel p-4 rounded-xl text-center">
              <div class="text-3xl mb-2">üèä</div>
              <div class="font-bold text-green-300">Clo (Cl‚ÇÇ)</div>
              <div class="text-xs text-gray-400">Kh·ª≠ tr√πng n∆∞·ªõc, PVC</div>
            </div>
            <div class="glass-panel p-4 rounded-xl text-center">
              <div class="text-3xl mb-2">‚úèÔ∏è</div>
              <div class="font-bold text-gray-300">Carbon (C)</div>
              <div class="text-xs text-gray-400">Than ch√¨, Kim c∆∞∆°ng</div>
            </div>
            <div class="glass-panel p-4 rounded-xl text-center">
              <div class="text-3xl mb-2">üéÜ</div>
              <div class="font-bold text-yellow-300">L∆∞u hu·ª≥nh (S)</div>
              <div class="text-xs text-gray-400">Thu·ªëc s√∫ng, H‚ÇÇSO‚ÇÑ</div>
            </div>
            <div class="glass-panel p-4 rounded-xl text-center">
              <div class="text-3xl mb-2">üå±</div>
              <div class="font-bold text-blue-300">Nit∆° (N‚ÇÇ)</div>
              <div class="text-xs text-gray-400">Ph√¢n ƒë·∫°m, b·∫£o qu·∫£n</div>
            </div>
          </div>
        </section>
        <section
          id="flashcards"
          class="tab-content hidden max-w-5xl mx-auto h-full flex flex-col items-center justify-center min-h-[500px]"
        >
          <h2 class="text-3xl font-bold mb-8 text-center">Luy·ªán T·∫≠p Nhanh</h2>
          <div
            class="relative w-80 h-96 perspective-1000 cursor-pointer group"
            onclick="flipCard()"
          >
            <div
              id="flashCardInner"
              class="flip-card-inner shadow-2xl rounded-2xl"
            >
              <div class="flip-card-front glass-panel border border-white/20">
                <div
                  class="text-sm text-indigo-300 uppercase tracking-widest mb-4"
                >
                  C√¢u h·ªèi
                </div>
                <div class="text-2xl font-bold text-white px-4" id="fcFront">
                  Kim lo·∫°i n√†o d·∫´n ƒëi·ªán t·ªët nh·∫•t?
                </div>
                <div class="absolute bottom-4 text-xs text-gray-500">
                  Ch·∫°m ƒë·ªÉ l·∫≠t
                </div>
              </div>
              <div class="flip-card-back">
                <div
                  class="text-sm text-indigo-200 uppercase tracking-widest mb-4"
                >
                  ƒê√°p √°n
                </div>
                <div class="text-3xl font-bold text-white px-4" id="fcBack">
                  B·∫°c (Ag)
                </div>
                <div class="mt-4 text-xs text-white/80 px-6" id="fcNote">
                  Ag > Cu > Au > Al > Fe
                </div>
              </div>
            </div>
          </div>
          <div class="flex gap-6 mt-10">
            <button
              onclick="nextCard(-1)"
              class="w-12 h-12 rounded-full bg-white/10 hover:bg-white/20 flex items-center justify-center transition"
            >
              <i class="fa-solid fa-arrow-left"></i>
            </button>
            <div class="text-xl font-bold self-center" id="cardCounter">
              1/5
            </div>
            <button
              onclick="nextCard(1)"
              class="w-12 h-12 rounded-full bg-indigo-500 hover:bg-indigo-600 shadow-lg shadow-indigo-500/50 flex items-center justify-center transition"
            >
              <i class="fa-solid fa-arrow-right"></i>
            </button>
          </div>
        </section>
        <section
          id="game"
          class="tab-content hidden max-w-5xl mx-auto h-full relative"
        >
          <div
            id="gameStart"
            class="absolute inset-0 flex flex-col items-center justify-center z-20"
          >
            <div
              class="w-24 h-24 rounded-full bg-gradient-to-r from-pink-500 to-rose-500 flex items-center justify-center text-4xl mb-6 shadow-2xl shadow-pink-500/50 animate-bounce"
            >
              üöÄ
            </div>
            <h2
              class="text-4xl font-black mb-2 text-transparent bg-clip-text bg-gradient-to-r from-pink-400 to-indigo-400"
            >
              TH·ª¨ TH√ÅCH 60 GI√ÇY
            </h2>
            <p class="text-gray-400 mb-8 text-center max-w-md">
              Tr·∫£ l·ªùi ƒë√∫ng c√†ng nhi·ªÅu c√¢u h·ªèi c√†ng t·ªët. Chu·ªói combo s·∫Ω nh√¢n ƒë√¥i
              ƒëi·ªÉm s·ªë!
            </p>
            <button
              onclick="startGame()"
              class="px-10 py-4 bg-white text-indigo-900 font-bold rounded-full hover:scale-105 transition shadow-xl"
            >
              B·∫ÆT ƒê·∫¶U NGAY
            </button>
          </div>
          <div id="gameUI" class="hidden flex flex-col h-full py-4">
            <div
              class="flex justify-between items-center mb-6 bg-black/20 p-4 rounded-xl"
            >
              <div>
                <div class="text-xs text-gray-400">ƒêI·ªÇM S·ªê</div>
                <div class="text-2xl font-bold text-yellow-400" id="gameScore">
                  0
                </div>
              </div>
              <div class="flex-1 mx-6">
                <div class="flex justify-between text-xs mb-1">
                  <span>Th·ªùi gian</span>
                  <span id="timeText" class="font-bold text-red-400">60s</span>
                </div>
                <div
                  class="w-full bg-gray-700 h-3 rounded-full overflow-hidden"
                >
                  <div
                    id="timeBar"
                    class="bg-red-500 h-full transition-all duration-1000 ease-linear"
                    style="width: 100%"
                  ></div>
                </div>
              </div>
            </div>
            <div class="flex-1 flex flex-col justify-center items-center">
              <div
                class="glass-panel p-8 rounded-2xl w-full max-w-2xl text-center mb-6"
              >
                <h3 class="text-2xl font-bold leading-relaxed" id="qText">
                  C√¢u h·ªèi ·ªü ƒë√¢y?
                </h3>
              </div>
              <div
                class="grid grid-cols-1 md:grid-cols-2 gap-4 w-full max-w-2xl"
                id="ansGrid"
              ></div>
              <div
                id="comboText"
                class="h-8 mt-4 text-orange-400 font-bold font-mono text-xl tracking-widest"
              ></div>
            </div>
          </div>
          <div
            id="gameEnd"
            class="hidden absolute inset-0 bg-dark/90 backdrop-blur-md flex flex-col items-center justify-center z-30"
          >
            <h2 class="text-5xl font-black text-white mb-2">H·∫æT GI·ªú!</h2>
            <div class="text-xl text-gray-300 mb-6">T·ªïng ƒëi·ªÉm c·ªßa b·∫°n</div>
            <div
              class="text-7xl font-bold text-yellow-400 mb-8 text-shadow-glow"
              id="finalScore"
            >
              1500
            </div>
            <button
              onclick="startGame()"
              class="px-8 py-3 bg-indigo-600 hover:bg-indigo-700 text-white rounded-xl font-bold transition"
            >
              Ch∆°i L·∫°i
            </button>
          </div>
        </section>
      </div>
    </main>
    <script>
      /* --- SOUND ENGINE (No external files needed) --- */
      const audioCtx = new (window.AudioContext || window.webkitAudioContext)();
      function playSound(type) {
        if (audioCtx.state === "suspended") audioCtx.resume();
        const osc = audioCtx.createOscillator();
        const gain = audioCtx.createGain();
        osc.connect(gain);
        gain.connect(audioCtx.destination);
        const now = audioCtx.currentTime;
        if (type === "click") {
          osc.type = "sine";
          osc.frequency.setValueAtTime(600, now);
          gain.gain.setValueAtTime(0.05, now);
          gain.gain.exponentialRampToValueAtTime(0.001, now + 0.1);
          osc.start(now);
          osc.stop(now + 0.1);
        } else if (type === "correct") {
          osc.type = "triangle";
          osc.frequency.setValueAtTime(400, now);
          osc.frequency.exponentialRampToValueAtTime(800, now + 0.1);
          gain.gain.setValueAtTime(0.1, now);
          gain.gain.exponentialRampToValueAtTime(0.001, now + 0.3);
          osc.start(now);
          osc.stop(now + 0.3);
        } else if (type === "wrong") {
          osc.type = "sawtooth";
          osc.frequency.setValueAtTime(150, now);
          osc.frequency.linearRampToValueAtTime(100, now + 0.2);
          gain.gain.setValueAtTime(0.1, now);
          gain.gain.exponentialRampToValueAtTime(0.001, now + 0.3);
          osc.start(now);
          osc.stop(now + 0.3);
        }
      }

      /* --- DATA B·ªî SUNG V√Ä HO√ÄN THI·ªÜN --- */
      const flashcardsData = [
        {
          f: "Kim lo·∫°i d·∫´n ƒëi·ªán t·ªët nh·∫•t?",
          b: "B·∫°c (Ag)",
          n: "Ag > Cu > Au > Al > Fe",
        },
        {
          f: "Th√†nh ph·∫ßn ch√≠nh c·ªßa Th√©p?",
          b: "Fe v√† C (< 2%)",
          n: "D·∫ªo, ƒë√†n h·ªìi, √≠t b·ªã ƒÉn m√≤n",
        },
        {
          f: "Ph∆∞∆°ng ph√°p s·∫£n xu·∫•t Nh√¥m (Al)?",
          b: "ƒêi·ªán ph√¢n n√≥ng ch·∫£y",
          n: "T·ª´ qu·∫∑ng Bauxite (Al‚ÇÇO‚ÇÉ)",
        },
        {
          f: "Kim lo·∫°i l·ªèng ·ªü ƒëi·ªÅu ki·ªán th∆∞·ªùng?",
          b: "Th·ªßy ng√¢n (Hg)",
          n: "R·∫•t ƒë·ªôc, d√πng trong nhi·ªát k·∫ø",
        },
        {
          f: "Phi kim n√†o d√πng kh·ª≠ tr√πng n∆∞·ªõc?",
          b: "Clo (Cl‚ÇÇ)",
          n: "Kh√≠ m√†u v√†ng l·ª•c, m√πi h·∫Øc",
        },
        {
          f: "Fe + CuSO‚ÇÑ ‚Üí ?",
          b: "FeSO‚ÇÑ + Cu",
          n: "S·∫Øt m·∫°nh h∆°n ƒê·ªìng n√™n ƒë·∫©y ƒê·ªìng ra",
        },
        {
          f: "Gang kh√°c Th√©p ch·ªó n√†o?",
          b: "H√†m l∆∞·ª£ng Carbon",
          n: "Gang (2-5% C) > Th√©p (< 2% C)",
        },
        {
          f: "Ch·∫•t kh·ª≠ oxit s·∫Øt trong l√≤ cao?",
          b: "Kh√≠ Carbon monoxide (CO)",
          n: "Fe‚ÇÇO‚ÇÉ + 3CO ‚Üí 2Fe + 3CO‚ÇÇ",
        },
        {
          f: "Kim lo·∫°i ph·∫£n ·ª©ng ƒë∆∞·ª£c v·ªõi dung d·ªãch ki·ªÅm (NaOH)?",
          b: "Nh√¥m (Al)",
          n: "2Al + 2NaOH + 2H‚ÇÇO ‚Üí 2NaAlO‚ÇÇ + 3H‚ÇÇ‚Üë",
        },
        {
          f: "Th√†nh ph·∫ßn ch√≠nh c·ªßa qu·∫∑ng Boxit?",
          b: "Nh√¥m oxit (Al‚ÇÇO‚ÇÉ)",
          n: "Nguy√™n li·ªáu ch√≠nh ƒë·ªÉ s·∫£n xu·∫•t Nh√¥m",
        },
      ];

      const quizData = [
        {
          q: "Kim lo·∫°i n√†o c√≥ nhi·ªát ƒë·ªô n√≥ng ch·∫£y cao nh·∫•t (l√†m d√¢y t√≥c b√≥ng ƒë√®n)?",
          a: ["Vonfram (W)", "S·∫Øt (Fe)", "ƒê·ªìng (Cu)", "Nh√¥m (Al)"],
          c: 0,
        },
        {
          q: "ƒê·ªÉ b·∫£o v·ªá v·ªè t√†u bi·ªÉn b·∫±ng th√©p, ng∆∞·ªùi ta g·∫Øn t·∫•m kim lo·∫°i n√†o?",
          a: ["K·∫Ωm (Zn)", "ƒê·ªìng (Cu)", "B·∫°c (Ag)", "Ch√¨ (Pb)"],
          c: 0,
        },
        {
          q: "Kim lo·∫°i n√†o KH√îNG ph·∫£n ·ª©ng v·ªõi H‚ÇÇSO‚ÇÑ lo√£ng?",
          a: ["ƒê·ªìng (Cu)", "S·∫Øt (Fe)", "Nh√¥m (Al)", "K·∫Ωm (Zn)"],
          c: 0,
        },
        {
          q: "Trong d√£y ho·∫°t ƒë·ªông h√≥a h·ªçc, kim lo·∫°i ƒë·ª©ng sau H s·∫Ω...?",
          a: [
            "Kh√¥ng t√°c d·ª•ng axit lo√£ng",
            "T√°c d·ª•ng m·∫°nh v·ªõi n∆∞·ªõc",
            "ƒê·∫©y ƒë∆∞·ª£c kim lo·∫°i tr∆∞·ªõc n√≥",
            "Tan trong ki·ªÅm",
          ],
          c: 0,
        },
        {
          q: "Qu·∫∑ng Boxit l√† nguy√™n li·ªáu s·∫£n xu·∫•t kim lo·∫°i n√†o?",
          a: ["Nh√¥m (Al)", "S·∫Øt (Fe)", "ƒê·ªìng (Cu)", "Ch√¨ (Pb)"],
          c: 0,
        },
        {
          q: "Phi kim n√†o d·∫´n ƒëi·ªán ƒë∆∞·ª£c?",
          a: ["Than ch√¨", "L∆∞u hu·ª≥nh", "Photpho", "Clo"],
          c: 0,
        },
        {
          q: "Ph·∫£n ·ª©ng nhi·ªát luy·ªán d√πng ch·∫•t kh·ª≠ n√†o?",
          a: ["CO, C, H‚ÇÇ", "O‚ÇÇ", "Cl‚ÇÇ", "Dung d·ªãch axit"],
          c: 0,
        },
        {
          q: "ƒê∆°n ch·∫•t n√†o sau ƒë√¢y ·ªü th·ªÉ l·ªèng?",
          a: ["Br‚ÇÇ", "Cl‚ÇÇ", "I‚ÇÇ", "C"],
          c: 0,
        },
        {
          q: "Qu√° tr√¨nh n√†o ƒë∆∞·ª£c s·ª≠ d·ª•ng ƒë·ªÉ lo·∫°i b·ªè Carbon ra kh·ªèi Gang ƒë·ªÉ t·∫°o th√†nh Th√©p?",
          a: ["Oxi h√≥a", "Kh·ª≠", "Th·ªßy ph√¢n", "ƒêi·ªán ph√¢n"],
          c: 0,
        },
        {
          q: "Ch·∫•t n√†o ƒë∆∞·ª£c t·∫°o th√†nh khi L∆∞u hu·ª≥nh t√°c d·ª•ng v·ªõi Oxi?",
          a: [
            "L∆∞u hu·ª≥nh ƒëioxit (SO‚ÇÇ)",
            "Axit sunfuric (H‚ÇÇSO‚ÇÑ)",
            "L∆∞u hu·ª≥nh trioxit (SO‚ÇÉ)",
            "Hidro sunfua (H‚ÇÇS)",
          ],
          c: 0,
        },
        {
          q: "Kim lo·∫°i n√†o c√≥ t√≠nh d·∫ªo nh·∫•t?",
          a: ["V√†ng (Au)", "B·∫°c (Ag)", "ƒê·ªìng (Cu)", "S·∫Øt (Fe)"],
          c: 0,
        },
        {
          q: "Ph∆∞∆°ng ph√°p Th·ªßy luy·ªán ph√π h·ª£p ƒë·ªÉ ƒëi·ªÅu ch·∫ø kim lo·∫°i n√†o?",
          a: ["ƒê·ªìng (Cu)", "Kali (K)", "Magie (Mg)", "Nh√¥m (Al)"],
          c: 0,
        },
      ];

      const metalActivityInfo = [
        {
          name: "Kali (K)",
          info: "R·∫•t m·∫°nh. N·ªï khi g·∫∑p n∆∞·ªõc. ƒê·∫©y m·ªçi kim lo·∫°i sau n√≥.",
        },
        {
          name: "Natri (Na)",
          info: "M·∫°nh. Ph·∫£n ·ª©ng m√£nh li·ªát v·ªõi n∆∞·ªõc t·∫°o Baz∆° + H‚ÇÇ.",
        },
        {
          name: "Magie (Mg)",
          info: "M·∫°nh. Ch√°y s√°ng r·ª±c trong Oxi. Kh√¥ng tan trong n∆∞·ªõc th∆∞·ªùng.",
        },
        {
          name: "Nh√¥m (Al)",
          info: "M·∫°nh trung b√¨nh. B·ªÅn nh·ªù l·ªõp Oxit b·∫£o v·ªá. Ph·∫£n ·ª©ng v·ªõi c·∫£ Axit v√† Ki·ªÅm.",
        },
        {
          name: "K·∫Ωm (Zn)",
          info: "Trung b√¨nh. D√πng ƒë·ªÉ tr√°ng t√¥n (ch·ªëng g·ªâ). T√°c d·ª•ng axit t·∫°o H‚ÇÇ.",
        },
        {
          name: "S·∫Øt (Fe)",
          info: "Trung b√¨nh. C√≥ nhi·ªÅu h√≥a tr·ªã (II, III). B·ªã nam ch√¢m h√∫t.",
        },
        {
          name: "Ch√¨ (Pb)",
          info: "Y·∫øu. R·∫•t n·∫∑ng, ƒë·ªôc. NgƒÉn c·∫£n tia ph√≥ng x·∫°.",
        },
        {
          name: "Hydro (H)",
          info: "M·ªëc so s√°nh. Kim lo·∫°i ƒë·ª©ng tr∆∞·ªõc H tan trong axit lo√£ng.",
        },
        {
          name: "ƒê·ªìng (Cu)",
          info: "Y·∫øu. D·∫´n ƒëi·ªán t·ªët th·ª© 2. Kh√¥ng tan trong HCl, H‚ÇÇSO‚ÇÑ lo√£ng.",
        },
        {
          name: "B·∫°c (Ag)",
          info: "Y·∫øu. D·∫´n ƒëi·ªán t·ªët nh·∫•t. D√πng l√†m ƒë·ªì trang s·ª©c, g∆∞∆°ng.",
        },
        {
          name: "V√†ng (Au)",
          info: "R·∫•t y·∫øu. Kh√¥ng b·ªã oxi h√≥a. Tan trong n∆∞·ªõc c∆∞·ªùng toan.",
        },
      ];

      /* --- LOGIC: NAVIGATION --- */
      function switchTab(id) {
        playSound("click"); // Hide all tabs
        document
          .querySelectorAll(".tab-content")
          .forEach((el) => el.classList.add("hidden"));
        // Show selected
        document.getElementById(id).classList.remove("hidden");
        // Update sidebar active state
        document.querySelectorAll(".nav-btn").forEach((btn) => {
          btn.classList.remove(
            "active-tab",
            "bg-white/10",
            "text-white",
            "shadow-lg",
            "border-indigo-500"
          );
          btn.classList.add("border-transparent");
          const span = btn.querySelector("span");
          if (span) span.classList.remove("font-bold");
        });

        // L·∫•y button ƒë∆∞·ª£c click th√¥ng qua event.currentTarget n·∫øu c√≥
        const currentBtn =
          event.currentTarget ||
          document.querySelector(`.nav-btn[onclick*="'${id}'"]`);
        if (currentBtn) {
          currentBtn.classList.add(
            "active-tab",
            "bg-white/10",
            "text-white",
            "shadow-lg",
            "border-indigo-500"
          );
          currentBtn.classList.remove("border-transparent");
          const span = currentBtn.querySelector("span");
          if (span) span.classList.add("font-bold");
        }

        // Title Update
        const titles = {
          metals: "T√≠nh ch·∫•t Kim lo·∫°i",
          series: "D√£y ho·∫°t ƒë·ªông H√≥a h·ªçc",
          production: "S·∫£n xu·∫•t Gang & Th√©p",
          nonmetals: "Phi kim & So s√°nh",
          flashcards: "Flashcards √în t·∫≠p",
          game: "ƒê·∫•u tr∆∞·ªùng H√≥a h·ªçc",
        };
        document.getElementById("pageTitle").innerText = titles[id];
      }

      /* --- LOGIC: ACTIVITY SLIDER --- */
      const slider = document.getElementById("activitySlider");
      // ƒê·∫£m b·∫£o slider t·ªìn t·∫°i tr∆∞·ªõc khi th√™m event listener
      if (slider) {
        slider.addEventListener("input", (e) => {
          const idx = parseInt(e.target.value);
          const data = metalActivityInfo[idx];
          document.getElementById("metalName").innerText = data.name;
          document.getElementById(
            "metalProps"
          ).innerHTML = `<li>‚Ä¢ ${data.info}</li>`;
          // Color change logic
          const colors = [
            "#ef4444",
            "#f97316",
            "#eab308",
            "#84cc16",
            "#22c55e",
            "#06b6d4",
            "#3b82f6",
            "#6366f1",
            "#8b5cf6",
            "#d946ef",
            "#f43f5e",
          ];
          document.getElementById("metalName").style.color = colors[idx];
          playSound("click");
        });
      }

      /* --- LOGIC: FLASHCARDS --- */
      let fcIndex = 0;
      let isFlipped = false;
      function updateCard() {
        const data = flashcardsData[fcIndex];
        const cardInner = document.querySelector("#flashCardInner");

        if (document.getElementById("fcFront"))
          document.getElementById("fcFront").innerText = data.f;
        if (document.getElementById("fcBack"))
          document.getElementById("fcBack").innerText = data.b;
        if (document.getElementById("fcNote"))
          document.getElementById("fcNote").innerText = data.n;
        if (document.getElementById("cardCounter"))
          document.getElementById("cardCounter").innerText = `${fcIndex + 1}/${
            flashcardsData.length
          }`;

        if (cardInner) {
          const cardParent = cardInner.parentNode;
          if (cardParent.classList.contains("flipped")) {
            cardParent.classList.remove("flipped");
            isFlipped = false;
          }
        }
      }

      function flipCard() {
        const cardInner = document.querySelector("#flashCardInner");
        if (!cardInner) return;

        const card = cardInner.parentNode;
        card.classList.toggle("flipped");
        isFlipped = !isFlipped;
        playSound("click");
      }

      function nextCard(dir) {
        fcIndex =
          (fcIndex + dir + flashcardsData.length) % flashcardsData.length;
        updateCard();
        playSound("click");
      }

      /* --- LOGIC: GAME --- */
      let score = 0,
        timer,
        timeLeft = 60,
        combo = 0;
      function startGame() {
        playSound("click");
        document.getElementById("gameStart").classList.add("hidden");
        document.getElementById("gameEnd").classList.add("hidden");
        document.getElementById("gameUI").classList.remove("hidden");
        score = 0;
        timeLeft = 60;
        combo = 0;
        updateScoreUI();
        timer = setInterval(() => {
          timeLeft--;
          if (document.getElementById("timeText"))
            document.getElementById("timeText").innerText = timeLeft + "s";
          if (document.getElementById("timeBar"))
            document.getElementById("timeBar").style.width =
              (timeLeft / 60) * 100 + "%";
          if (timeLeft <= 0) endGame();
        }, 1000);
        nextQuestion();
      }

      function nextQuestion() {
        const q = quizData[Math.floor(Math.random() * quizData.length)];
        if (document.getElementById("qText"))
          document.getElementById("qText").innerText = q.q;
        const grid = document.getElementById("ansGrid");
        if (!grid) return;

        grid.innerHTML = "";
        // Shuffle answers
        let indices = [0, 1, 2, 3].sort(() => Math.random() - 0.5);
        indices.forEach((i) => {
          const btn = document.createElement("button");
          btn.className =
            "p-4 bg-white/10 rounded-xl hover:bg-white/20 font-bold text-gray-200 transition border border-white/5";
          btn.innerText = q.a[i];
          btn.onclick = () => checkAnswer(i === q.c, btn);
          grid.appendChild(btn);
        });
      }

      function checkAnswer(isCorrect, btn) {
        const grid = document.getElementById("ansGrid");
        if (grid) Array.from(grid.children).forEach((b) => (b.disabled = true));

        if (isCorrect) {
          playSound("correct");
          btn.className =
            "p-4 bg-green-500 rounded-xl font-bold text-white shadow-lg shadow-green-500/50 scale-105 transition";
          combo++;
          let points = 100 + (combo > 1 ? combo * 20 : 0);
          score += points;
          if (document.getElementById("comboText"))
            document.getElementById("comboText").innerText =
              combo > 1 ? `COMBO x${combo} üî•` : "";
          confetti({ particleCount: 30, spread: 50, origin: { y: 0.7 } });
        } else {
          playSound("wrong");
          btn.className =
            "p-4 bg-red-500 rounded-xl font-bold text-white opacity-80";
          combo = 0;
          if (document.getElementById("comboText"))
            document.getElementById("comboText").innerText = "";
        }
        updateScoreUI();
        setTimeout(() => {
          if (timeLeft > 0) nextQuestion();
        }, 1000);
      }

      function updateScoreUI() {
        if (document.getElementById("gameScore"))
          document.getElementById("gameScore").innerText = score;
      }

      function endGame() {
        clearInterval(timer);
        if (document.getElementById("gameUI"))
          document.getElementById("gameUI").classList.add("hidden");
        if (document.getElementById("gameEnd"))
          document.getElementById("gameEnd").classList.remove("hidden");
        if (document.getElementById("finalScore"))
          document.getElementById("finalScore").innerText = score;
        if (document.getElementById("totalScore"))
          document.getElementById("totalScore").innerText = score; // Update top header
        // XP Bar Logic (Fake Level Up)
        let width = (score / 2000) * 100;
        if (width > 100) width = 100;
        if (document.getElementById("xpBar"))
          document.getElementById("xpBar").style.width = width + "%";
        if (score > 1000 && document.getElementById("levelText"))
          document.getElementById("levelText").innerText =
            "Chuy√™n gia Luy·ªán kim üß™";
        confetti({ particleCount: 150, spread: 100 });
        playSound("correct");
      }

      // Init function
      document.addEventListener("DOMContentLoaded", () => {
        // Kh·ªüi t·∫°o tab m·∫∑c ƒë·ªãnh
        switchTab("metals");

        // Kh·ªüi t·∫°o Activity Slider Info
        if (slider) {
          const initialSliderIdx = parseInt(slider.value);
          const initialData = metalActivityInfo[initialSliderIdx];
          if (document.getElementById("metalName"))
            document.getElementById("metalName").innerText = initialData.name;
          if (document.getElementById("metalProps"))
            document.getElementById(
              "metalProps"
            ).innerHTML = `<li>‚Ä¢ ${initialData.info}</li>`;
        }

        // Kh·ªüi t·∫°o Flashcard
        updateCard();
      });
    </script>
  </body>
</html>
