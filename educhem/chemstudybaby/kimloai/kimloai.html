<!doctype html>
<html lang="vi" class="scroll-smooth">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Kim Loại & Phi Kim - Interactive Learning</title>

    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- Font Awesome -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />

    <!-- Google Fonts -->
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&family=Space+Grotesk:wght@500;700&display=swap"
      rel="stylesheet"
    />

    <!-- Tailwind Config -->
    <script>
      tailwind.config = {
        darkMode: "class",
        theme: {
          extend: {
            fontFamily: {
              sans: ["Inter", "sans-serif"],
              display: ["Space Grotesk", "sans-serif"],
            },
            colors: {
              primary: "#3b82f6", // Blue 500
              secondary: "#10b981", // Emerald 500
              accent: "#8b5cf6", // Violet 500
              dark: "#0f172a", // Slate 900
              light: "#f8fafc", // Slate 50
            },
            animation: {
              float: "float 6s ease-in-out infinite",
              "pulse-slow": "pulse 4s cubic-bezier(0.4, 0, 0.6, 1) infinite",
              "spin-slow": "spin 12s linear infinite",
            },
            keyframes: {
              float: {
                "0%, 100%": { transform: "translateY(0)" },
                "50%": { transform: "translateY(-20px)" },
              },
            },
          },
        },
      };
    </script>

    <style>
      /* Custom Variables & Global Styles */
      :root {
        --glass-bg: rgba(255, 255, 255, 0.7);
        --glass-border: rgba(255, 255, 255, 0.5);
        --footer-bg: #0f172a;
        --footer-text: #e2e8f0;
        --p-primary: #3b82f6;
      }

      .dark {
        --glass-bg: rgba(15, 23, 42, 0.7);
        --glass-border: rgba(255, 255, 255, 0.1);
      }

      body {
        transition:
          background-color 0.3s ease,
          color 0.3s ease;
      }

      /* Glassmorphism Card */
      .glass-card {
        background: var(--glass-bg);
        backdrop-filter: blur(12px);
        -webkit-backdrop-filter: blur(12px);
        border: 1px solid var(--glass-border);
        box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.15);
      }

      /* Footer Specifics */
      footer {
        background: var(--footer-bg);
        color: var(--footer-text);
        padding: 100px 5% 40px;
        position: relative;
        overflow: hidden;
        transition:
          background-color 0.8s ease,
          color 0.8s ease;
      }
      .footer-waves {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 60px;
        background: var(--footer-bg);
        clip-path: polygon(
          0% 45%,
          16% 44%,
          33% 50%,
          54% 60%,
          70% 61%,
          84% 59%,
          100% 52%,
          100% 100%,
          0% 100%
        );
        transition: background-color 0.8s;
        transform: translateY(-1px);
      }

      .footer-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        gap: 60px;
        max-width: 1200px;
        margin: 0 auto;
      }
      .footer-brand h2 {
        font-family: "Space Grotesk", sans-serif;
        font-size: 2rem;
        margin-bottom: 20px;
      }
      .footer-links h4,
      .footer-links h3 {
        margin-bottom: 25px;
        text-transform: uppercase;
        letter-spacing: 2px;
        color: var(--p-primary);
      }
      .contact-item {
        margin-bottom: 15px;
        display: flex;
        align-items: center;
        gap: 15px;
        color: #94a3b8;
        transition: 0.3s;
      }
      .contact-item i {
        color: var(--p-primary);
      }
      .contact-item:hover {
        color: white;
        transform: translateX(5px);
      }
      .copyright {
        margin-top: 80px;
        text-align: center;
        padding-top: 30px;
        border-top: 1px solid rgba(255, 255, 255, 0.05);
        color: #475569;
        font-size: 0.9rem;
      }
      .icon-btn {
        color: #94a3b8;
        font-size: 1.5rem;
        transition: 0.3s;
      }
      .icon-btn:hover {
        color: var(--p-primary);
        transform: translateY(-3px);
      }

      /* Experiment Animations */
      @keyframes smoke {
        0% {
          opacity: 0;
          transform: translateY(0) scale(0.5);
        }
        50% {
          opacity: 0.8;
          transform: translateY(-20px) scale(1.2);
        }
        100% {
          opacity: 0;
          transform: translateY(-40px) scale(1.5);
        }
      }
      .animate-smoke {
        animation: smoke 2s ease-out forwards;
      }

      @keyframes dropIn {
        0% {
          transform: translateY(-100px);
          opacity: 0;
        }
        100% {
          transform: translateY(0);
          opacity: 1;
        }
      }

      .furnace-particle {
        fill: #ef4444;
        animation: dropDown 3s infinite linear;
      }
      @keyframes dropDown {
        0% {
          transform: translateY(0);
          opacity: 1;
        }
        100% {
          transform: translateY(200px);
          opacity: 0;
        }
      }

      /* Range Slider Styling */
      input[type="range"] {
        -webkit-appearance: none;
        background: transparent;
      }
      input[type="range"]::-webkit-slider-thumb {
        -webkit-appearance: none;
      }
      input[type="range"]:focus {
        outline: none;
      }
    </style>
  </head>
  <body
    class="bg-slate-50 dark:bg-slate-900 text-slate-800 dark:text-slate-100 font-sans antialiased overflow-x-hidden"
  >
    <!-- 1. HEADER -->
    <header
      class="fixed w-full z-50 transition-all duration-300 glass-card border-none rounded-none shadow-sm top-0"
    >
      <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="flex justify-between items-center h-20">
          <!-- Logo -->
          <div class="flex items-center gap-3">
            <div
              class="w-10 h-10 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-xl flex items-center justify-center text-white shadow-lg shadow-blue-500/30"
            >
              <i class="fas fa-atom fa-lg"></i>
            </div>
            <span class="font-display font-bold text-xl tracking-tight"
              >CHEM<span class="text-blue-600 dark:text-blue-400"
                >STUDY</span
              ></span
            >
          </div>

          <!-- Desktop Menu -->
          <nav class="hidden md:flex space-x-8">
            <a
              href="#kimloai"
              class="text-sm font-medium hover:text-blue-600 dark:hover:text-blue-400 transition-colors"
              >Kim Loại</a
            >
            <a
              href="#phikim"
              class="text-sm font-medium hover:text-blue-600 dark:hover:text-blue-400 transition-colors"
              >Phi Kim</a
            >
            <a
              href="#thinghiem"
              class="text-sm font-medium hover:text-blue-600 dark:hover:text-blue-400 transition-colors"
              >Thí Nghiệm</a
            >
            <a
              href="#quiz"
              class="text-sm font-medium hover:text-blue-600 dark:hover:text-blue-400 transition-colors"
              >Luyện Tập</a
            >
          </nav>

          <!-- Dark Mode Toggle -->
          <button
            id="theme-toggle"
            class="w-10 h-10 rounded-full bg-slate-100 dark:bg-slate-800 flex items-center justify-center hover:ring-2 ring-blue-500 transition-all focus:outline-none"
          >
            <i
              class="fas fa-moon text-slate-600 dark:text-yellow-400 text-lg transition-transform"
              id="theme-icon"
            ></i>
          </button>
        </div>
      </div>
    </header>

    <main class="pt-20">
      <!-- 2. HERO SECTION -->
      <section
        class="relative min-h-[85vh] flex items-center justify-center overflow-hidden"
      >
        <!-- Background Elements -->
        <div
          class="absolute top-20 left-10 w-20 h-20 bg-blue-500 rounded-full mix-blend-multiply filter blur-xl opacity-30 animate-float"
        ></div>
        <div
          class="absolute bottom-20 right-10 w-32 h-32 bg-purple-500 rounded-full mix-blend-multiply filter blur-xl opacity-30 animate-float"
          style="animation-delay: 2s"
        ></div>

        <div class="text-center z-10 px-4 max-w-4xl mx-auto" data-aos="fade-up">
          <div
            class="inline-block mb-4 px-4 py-1.5 rounded-full bg-blue-100 dark:bg-blue-900/30 text-blue-600 dark:text-blue-300 text-sm font-semibold tracking-wide border border-blue-200 dark:border-blue-800"
          >
            Hóa học Lớp 9 - THCS
          </div>
          <h1
            class="font-display text-5xl md:text-7xl font-bold mb-6 bg-clip-text text-transparent bg-gradient-to-r from-blue-600 to-indigo-600 dark:from-blue-400 dark:to-indigo-400 leading-tight"
          >
            Khám phá Thế giới <br />
            Kim Loại & Phi Kim
          </h1>
          <p
            class="text-lg md:text-xl text-slate-600 dark:text-slate-300 mb-10 max-w-2xl mx-auto leading-relaxed"
          >
            Hành trình từ cấu trúc nguyên tử đến ứng dụng thực tế. Trải nghiệm
            thí nghiệm ảo, mô phỏng tương tác và làm chủ kiến thức ngay hôm nay.
          </p>
          <a
            href="#kimloai"
            class="group relative inline-flex items-center justify-center px-8 py-3 text-lg font-bold text-white transition-all duration-200 bg-blue-600 font-display rounded-full focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-600 hover:bg-blue-700 hover:shadow-lg hover:shadow-blue-500/40"
          >
            <span>Vào bài học ngay</span>
            <i
              class="fas fa-arrow-right ml-2 group-hover:translate-x-1 transition-transform"
            ></i>
          </a>
        </div>
      </section>

      <!-- 3. PHẦN 1: KIM LOẠI (LÝ THUYẾT + TƯƠNG TÁC) -->
      <section id="kimloai" class="py-20 px-4">
        <div class="max-w-6xl mx-auto">
          <div class="text-center mb-16">
            <h2 class="font-display text-4xl font-bold mb-4">
              <span class="text-blue-500">I.</span> Tính chất của Kim Loại
            </h2>
            <div class="h-1 w-20 bg-blue-500 mx-auto rounded-full"></div>
          </div>

          <!-- 1. TÍNH CHẤT VẬT LÝ (Cards) -->
          <div class="mb-16">
            <h3 class="text-2xl font-bold mb-8 flex items-center gap-3">
              <i class="fas fa-cube text-blue-500"></i> 1. Tính chất Vật lý
            </h3>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
              <!-- Card 1 -->
              <div
                class="glass-card p-6 rounded-2xl hover:-translate-y-2 transition-transform duration-300 border-t-4 border-yellow-400"
              >
                <div
                  class="w-12 h-12 bg-yellow-100 dark:bg-yellow-900/30 rounded-full flex items-center justify-center text-yellow-600 mb-4"
                >
                  <i class="fas fa-ring text-xl"></i>
                </div>
                <h4 class="font-bold text-lg mb-2">Tính dẻo</h4>
                <p class="text-sm text-slate-600 dark:text-slate-400">
                  Dễ dát mỏng, kéo sợi. <br /><strong>Ví dụ:</strong> Vàng (Au)
                  có tính dẻo cao, làm đồ trang sức.
                </p>
              </div>
              <!-- Card 2 -->
              <div
                class="glass-card p-6 rounded-2xl hover:-translate-y-2 transition-transform duration-300 border-t-4 border-blue-400"
              >
                <div
                  class="w-12 h-12 bg-blue-100 dark:bg-blue-900/30 rounded-full flex items-center justify-center text-blue-600 mb-4"
                >
                  <i class="fas fa-bolt text-xl"></i>
                </div>
                <h4 class="font-bold text-lg mb-2">Dẫn điện</h4>
                <p class="text-sm text-slate-600 dark:text-slate-400">
                  Ag > Cu > Au > Al.<br /><strong>Ví dụ:</strong> Bạc dẫn điện
                  tốt nhất, Đồng làm dây dẫn.
                </p>
              </div>
              <!-- Card 3 -->
              <div
                class="glass-card p-6 rounded-2xl hover:-translate-y-2 transition-transform duration-300 border-t-4 border-red-400"
              >
                <div
                  class="w-12 h-12 bg-red-100 dark:bg-red-900/30 rounded-full flex items-center justify-center text-red-600 mb-4"
                >
                  <i class="fas fa-fire text-xl"></i>
                </div>
                <h4 class="font-bold text-lg mb-2">Dẫn nhiệt</h4>
                <p class="text-sm text-slate-600 dark:text-slate-400">
                  Thường đi kèm dẫn điện.<br /><strong>Ví dụ:</strong> Nhôm,
                  Đồng làm dụng cụ nấu ăn.
                </p>
              </div>
              <!-- Card 4 -->
              <div
                class="glass-card p-6 rounded-2xl hover:-translate-y-2 transition-transform duration-300 border-t-4 border-slate-400"
              >
                <div
                  class="w-12 h-12 bg-slate-100 dark:bg-slate-700 rounded-full flex items-center justify-center text-slate-600 dark:text-slate-300 mb-4"
                >
                  <i class="fas fa-star text-xl"></i>
                </div>
                <h4 class="font-bold text-lg mb-2">Ánh kim</h4>
                <p class="text-sm text-slate-600 dark:text-slate-400">
                  Vẻ sáng lấp lánh.<br /><strong>Ví dụ:</strong> Vàng, Bạc dùng
                  làm trang sức.
                </p>
              </div>
            </div>
          </div>

          <!-- 2. TÍNH CHẤT HÓA HỌC & DÃY HOẠT ĐỘNG (Interactive Slider) -->
          <div class="mb-16">
            <h3 class="text-2xl font-bold mb-8 flex items-center gap-3">
              <i class="fas fa-flask text-blue-500"></i> 2. Hóa học & Dãy hoạt
              động
            </h3>

            <div class="glass-card p-8 rounded-3xl">
              <div class="mb-6">
                <h4 class="font-bold text-xl mb-2 text-center">
                  Dãy hoạt động hóa học
                </h4>
                <p class="text-center text-sm text-slate-500 mb-6">
                  Kéo thanh trượt để xem tính chất của từng nhóm kim loại
                </p>

                <!-- Custom Range Slider -->
                <div class="relative pt-10 pb-6 px-4 select-none">
                  <div
                    class="absolute top-0 left-0 w-full flex justify-between px-2 text-xs font-bold text-slate-400 uppercase tracking-widest"
                  >
                    <span>Mạnh nhất</span>
                    <span>Trung bình</span>
                    <span>Yếu</span>
                  </div>
                  <input
                    type="range"
                    min="0"
                    max="100"
                    value="50"
                    class="w-full h-3 bg-slate-200 dark:bg-slate-700 rounded-lg appearance-none cursor-pointer accent-blue-600"
                    id="activitySlider"
                  />

                  <!-- Elements Display -->
                  <div
                    class="flex justify-between mt-4 font-mono font-bold text-lg md:text-xl relative"
                    id="elementContainer"
                  >
                    <span class="text-red-500 transition-all opacity-100"
                      >K</span
                    >
                    <span class="text-red-500 transition-all opacity-100"
                      >Na</span
                    >
                    <span class="text-red-500 transition-all opacity-100"
                      >Ca</span
                    >
                    <span class="text-orange-500 transition-all opacity-50"
                      >Mg</span
                    >
                    <span class="text-orange-500 transition-all opacity-50"
                      >Al</span
                    >
                    <span class="text-yellow-500 transition-all opacity-50"
                      >Zn</span
                    >
                    <span class="text-yellow-500 transition-all opacity-50"
                      >Fe</span
                    >
                    <span class="text-green-500 transition-all opacity-50"
                      >Pb</span
                    >
                    <span
                      class="text-slate-400 bg-slate-100 dark:bg-slate-800 px-2 rounded border border-dashed border-slate-400"
                      >(H)</span
                    >
                    <span class="text-blue-500 transition-all opacity-50"
                      >Cu</span
                    >
                    <span class="text-purple-500 transition-all opacity-50"
                      >Ag</span
                    >
                    <span class="text-purple-500 transition-all opacity-50"
                      >Au</span
                    >
                  </div>
                </div>
              </div>

              <!-- Reactive Information Box -->
              <div class="grid md:grid-cols-2 gap-8 mt-6">
                <div
                  class="bg-blue-50 dark:bg-blue-900/20 p-6 rounded-xl border border-blue-100 dark:border-blue-800"
                >
                  <h5 class="font-bold text-blue-600 mb-2" id="groupName">
                    Kim loại Trung bình
                  </h5>
                  <ul class="space-y-2 text-sm" id="groupProperties">
                    <li>
                      <i class="fas fa-check text-green-500 mr-2"></i>Tác dụng
                      với O2 tạo Oxide Base.
                    </li>
                    <li>
                      <i class="fas fa-check text-green-500 mr-2"></i>Tác dụng
                      với HCl, H2SO4 loãng giải phóng H2.
                    </li>
                    <li>
                      <i class="fas fa-check text-green-500 mr-2"></i>Tác dụng
                      với dung dịch muối (đẩy KL yếu hơn).
                    </li>
                  </ul>
                </div>
                <div class="flex items-center justify-center">
                  <div class="text-center">
                    <p class="font-bold mb-2">Quy tắc thế:</p>
                    <div
                      class="bg-white dark:bg-slate-800 p-4 rounded-lg shadow-inner text-sm font-mono"
                    >
                      Kim loại đứng TRƯỚC đẩy kim loại đứng SAU ra khỏi muối.<br />
                      <span class="text-blue-500">Fe</span> + CuSO4 &rarr; FeSO4
                      + <span class="text-red-500">Cu</span>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- 3. TÁCH KIM LOẠI & LÒ CAO (SVG Model) -->
          <div class="mb-16">
            <h3 class="text-2xl font-bold mb-8 flex items-center gap-3">
              <i class="fas fa-industry text-blue-500"></i> 3. Tách Kim Loại &
              Hợp Kim
            </h3>

            <div class="grid lg:grid-cols-2 gap-10 items-center">
              <div>
                <div class="space-y-6">
                  <div>
                    <h4 class="font-bold text-lg text-primary">
                      Phương pháp tách
                    </h4>
                    <ul
                      class="list-disc list-inside text-slate-600 dark:text-slate-300 ml-2 space-y-1"
                    >
                      <li>
                        <strong>Điện phân nóng chảy:</strong> Dùng cho kim loại
                        mạnh như Al, Na.
                      </li>
                      <li>
                        <strong>Nhiệt luyện:</strong> Dùng chất khử (C, CO) để
                        tách kim loại trung bình/yếu (Fe, Zn) từ oxide.
                      </li>
                    </ul>
                  </div>
                  <div>
                    <h4 class="font-bold text-lg text-primary">Hợp kim Sắt</h4>
                    <div class="flex gap-4 mt-2">
                      <div
                        class="flex-1 bg-slate-100 dark:bg-slate-800 p-3 rounded-lg text-center"
                      >
                        <span class="block font-bold">GANG</span>
                        <span class="text-xs text-slate-500">2-5% Carbon</span>
                        <span class="block text-xs mt-1">Cứng, giòn</span>
                      </div>
                      <div
                        class="flex-1 bg-blue-50 dark:bg-blue-900/20 p-3 rounded-lg text-center border border-blue-200"
                      >
                        <span class="block font-bold">THÉP</span>
                        <span class="text-xs text-slate-500">< 2% Carbon</span>
                        <span class="block text-xs mt-1">Dẻo, đàn hồi</span>
                      </div>
                    </div>
                  </div>
                </div>
              </div>

              <!-- Blast Furnace SVG Animation -->
              <div class="glass-card p-6 rounded-2xl relative overflow-hidden">
                <h4 class="font-bold text-center mb-4">
                  Mô phỏng Lò Cao Luyện Gang
                </h4>
                <div
                  class="relative h-64 w-full flex justify-center bg-slate-200 dark:bg-slate-700 rounded-lg overflow-hidden border border-slate-300 dark:border-slate-600"
                >
                  <!-- Furnace Shape -->
                  <svg viewBox="0 0 100 100" class="h-full w-auto z-10">
                    <path
                      d="M 30,10 L 20,80 L 10,90 L 90,90 L 80,80 L 70,10 Z"
                      fill="#475569"
                      stroke="#334155"
                      stroke-width="2"
                    />
                    <!-- Tuyeres (Air blast) -->
                    <path
                      d="M 15,85 L 25,85"
                      stroke="orange"
                      stroke-width="2"
                      stroke-dasharray="2,1"
                    />
                    <path
                      d="M 85,85 L 75,85"
                      stroke="orange"
                      stroke-width="2"
                      stroke-dasharray="2,1"
                    />
                  </svg>

                  <!-- Particles (Raw materials) -->
                  <div
                    class="absolute top-0 left-[45%] w-2 h-2 bg-black rounded-full furnace-particle"
                    style="animation-duration: 2s"
                  ></div>
                  <div
                    class="absolute top-0 left-[50%] w-2 h-2 bg-yellow-700 rounded-full furnace-particle"
                    style="animation-duration: 2.5s; animation-delay: 0.5s"
                  ></div>
                  <div
                    class="absolute top-0 left-[55%] w-2 h-2 bg-gray-400 rounded-full furnace-particle"
                    style="animation-duration: 2.2s; animation-delay: 1s"
                  ></div>

                  <!-- Molten Iron -->
                  <div
                    class="absolute bottom-0 w-full h-4 bg-red-600 animate-pulse opacity-80 z-20"
                  ></div>
                  <div
                    class="absolute bottom-2 left-1/2 transform -translate-x-1/2 text-[10px] text-white font-bold z-30"
                  >
                    Gang lỏng
                  </div>

                  <!-- Gas CO flow -->
                  <div
                    class="absolute bottom-10 left-[40%] text-orange-400 text-xs animate-[float_3s_infinite] opacity-70"
                  >
                    ↑ CO
                  </div>
                  <div
                    class="absolute bottom-14 left-[60%] text-orange-400 text-xs animate-[float_3s_infinite] opacity-70"
                    style="animation-delay: 1s"
                  >
                    ↑ CO
                  </div>
                </div>
                <div class="mt-2 text-xs text-center text-slate-500">
                  1. Nguyên liệu nạp trên &darr; | 2. Khí nóng thổi dưới &uarr;
                  | 3. CO khử oxide sắt
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- 4. PHẦN 2: PHI KIM & SO SÁNH -->
      <section id="phikim" class="py-20 px-4 bg-slate-100 dark:bg-slate-800/50">
        <div class="max-w-6xl mx-auto">
          <div class="text-center mb-16">
            <h2 class="font-display text-4xl font-bold mb-4">
              <span class="text-green-500">II.</span> Phi Kim & So Sánh
            </h2>
            <div class="h-1 w-20 bg-green-500 mx-auto rounded-full"></div>
          </div>

          <!-- 1. CÁC PHI KIM QUAN TRỌNG -->
          <div class="grid md:grid-cols-3 gap-6 mb-16">
            <div
              class="glass-card p-6 rounded-2xl relative group overflow-hidden"
            >
              <div
                class="absolute -right-4 -top-4 w-24 h-24 bg-black/10 rounded-full group-hover:scale-150 transition-transform"
              ></div>
              <h3 class="text-xl font-bold mb-2">Carbon (C)</h3>
              <p class="text-sm text-slate-600 dark:text-slate-400 mb-2">
                Các dạng thù hình:
              </p>
              <ul class="text-sm space-y-1 list-disc ml-4">
                <li><strong>Kim cương:</strong> Cứng, trang sức.</li>
                <li><strong>Graphite:</strong> Dẫn điện, điện cực.</li>
                <li><strong>Than hoạt tính:</strong> Hấp phụ mùi.</li>
              </ul>
            </div>

            <div
              class="glass-card p-6 rounded-2xl relative group overflow-hidden"
            >
              <div
                class="absolute -right-4 -top-4 w-24 h-24 bg-yellow-400/20 rounded-full group-hover:scale-150 transition-transform"
              ></div>
              <h3
                class="text-xl font-bold mb-2 text-yellow-600 dark:text-yellow-400"
              >
                Lưu huỳnh (S)
              </h3>
              <p class="text-sm text-slate-600 dark:text-slate-400 mb-2">
                Chất rắn màu vàng.
              </p>
              <ul class="text-sm space-y-1 list-disc ml-4">
                <li>Sản xuất Sulfuric Acid (H2SO4).</li>
                <li>Lưu hóa cao su.</li>
                <li>Chất cháy.</li>
              </ul>
            </div>

            <div
              class="glass-card p-6 rounded-2xl relative group overflow-hidden"
            >
              <div
                class="absolute -right-4 -top-4 w-24 h-24 bg-green-400/20 rounded-full group-hover:scale-150 transition-transform"
              ></div>
              <h3
                class="text-xl font-bold mb-2 text-green-600 dark:text-green-400"
              >
                Chlorine (Cl2)
              </h3>
              <p class="text-sm text-slate-600 dark:text-slate-400 mb-2">
                Khí vàng lục, độc.
              </p>
              <ul class="text-sm space-y-1 list-disc ml-4">
                <li>Khử trùng nước.</li>
                <li>Chất tẩy rửa.</li>
                <li>Sản xuất chất dẻo.</li>
              </ul>
            </div>
          </div>

          <!-- 2. SO SÁNH (Interactive Flip/Comparison) -->
          <div class="glass-card p-8 rounded-3xl">
            <h3 class="text-2xl font-bold mb-6 text-center">
              So sánh Kim Loại vs Phi Kim
            </h3>
            <div
              class="grid grid-cols-1 md:grid-cols-2 gap-0 md:gap-8 relative"
            >
              <!-- VS Badge -->
              <div
                class="absolute left-1/2 top-1/2 transform -translate-x-1/2 -translate-y-1/2 bg-white dark:bg-slate-700 rounded-full w-12 h-12 flex items-center justify-center font-bold shadow-lg z-10 border border-slate-200 dark:border-slate-600"
              >
                VS
              </div>

              <!-- Metal Column -->
              <div
                class="bg-blue-50 dark:bg-blue-900/10 p-6 rounded-xl border border-blue-100 dark:border-blue-800"
              >
                <h4 class="text-xl font-bold text-blue-600 text-center mb-4">
                  KIM LOẠI
                </h4>
                <ul class="space-y-3">
                  <li class="flex items-start gap-2">
                    <i class="fas fa-bolt mt-1 text-blue-500"></i>
                    <span>Dẫn điện, dẫn nhiệt <strong>TỐT</strong>.</span>
                  </li>
                  <li class="flex items-start gap-2">
                    <i class="fas fa-gem mt-1 text-blue-500"></i>
                    <span>Có ánh kim, dẻo.</span>
                  </li>
                  <li class="flex items-start gap-2">
                    <i class="fas fa-atom mt-1 text-blue-500"></i>
                    <span
                      >Xu hướng <strong>nhường e</strong> tạo Ion Dương
                      (M<sup>n+</sup>).</span
                    >
                  </li>
                  <li class="flex items-start gap-2">
                    <i class="fas fa-thermometer-half mt-1 text-blue-500"></i>
                    <span>Nhiệt độ nóng chảy cao (thường).</span>
                  </li>
                </ul>
              </div>

              <!-- Non-Metal Column -->
              <div
                class="bg-green-50 dark:bg-green-900/10 p-6 rounded-xl border border-green-100 dark:border-green-800 mt-8 md:mt-0"
              >
                <h4 class="text-xl font-bold text-green-600 text-center mb-4">
                  PHI KIM
                </h4>
                <ul class="space-y-3">
                  <li class="flex items-start gap-2">
                    <i class="fas fa-bolt mt-1 text-green-500 opacity-50"></i>
                    <span
                      >Dẫn điện, nhiệt <strong>KÉM</strong> (trừ than
                      chì).</span
                    >
                  </li>
                  <li class="flex items-start gap-2">
                    <i class="fas fa-ban mt-1 text-green-500"></i>
                    <span>Không có ánh kim, giòn.</span>
                  </li>
                  <li class="flex items-start gap-2">
                    <i class="fas fa-atom mt-1 text-green-500"></i>
                    <span
                      >Xu hướng <strong>nhận e</strong> tạo Ion Âm
                      (X<sup>n-</sup>).</span
                    >
                  </li>
                  <li class="flex items-start gap-2">
                    <i class="fas fa-thermometer-empty mt-1 text-green-500"></i>
                    <span>Nhiệt độ nóng chảy thấp hơn.</span>
                  </li>
                </ul>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- 5. PHẦN 3: THÍ NGHIỆM ẢO (Interactive Lab) -->
      <section id="thinghiem" class="py-20 px-4">
        <div class="max-w-6xl mx-auto">
          <div class="text-center mb-16">
            <h2 class="font-display text-4xl font-bold mb-4">
              <span class="text-purple-500">III.</span> Phòng Thí Nghiệm Ảo
            </h2>
            <p class="text-slate-500">
              Tương tác trực tiếp để quan sát hiện tượng
            </p>
          </div>

          <!-- EXPERIMENT 1: Na + Cl2 -->
          <div
            class="glass-card p-6 md:p-8 rounded-3xl mb-12 border-l-8 border-yellow-400"
          >
            <div class="flex flex-col md:flex-row gap-8">
              <!-- Controls & Info -->
              <div class="flex-1">
                <h3 class="text-2xl font-bold mb-2">
                  Thí nghiệm 1: Natri tác dụng Chlorine
                </h3>
                <p class="text-sm text-slate-500 mb-4">
                  2Na + Cl2 &rarr; 2NaCl
                </p>

                <div
                  class="bg-slate-50 dark:bg-slate-800 p-4 rounded-lg mb-6 text-sm"
                >
                  <h4 class="font-bold mb-2 text-yellow-600">
                    Quy trình mô phỏng:
                  </h4>
                  <ol
                    class="list-decimal list-inside space-y-1 text-slate-700 dark:text-slate-300"
                  >
                    <li>Chuẩn bị bình chứa khí Cl2 (vàng lục).</li>
                    <li>Lấy mẩu Natri, đốt nóng chảy trên ngọn lửa.</li>
                    <li>Đưa nhanh Natri vào bình Chlorine.</li>
                  </ol>
                </div>

                <button
                  onclick="runExp1()"
                  id="btnExp1"
                  class="w-full py-3 bg-yellow-500 hover:bg-yellow-600 text-white rounded-xl font-bold shadow-lg shadow-yellow-500/30 transition-all active:scale-95"
                >
                  <i class="fas fa-play mr-2"></i> Tiến hành thí nghiệm
                </button>

                <div
                  id="resultExp1"
                  class="mt-4 p-3 bg-green-100 text-green-800 rounded-lg hidden transition-all"
                >
                  <strong>Hiện tượng:</strong> Natri cháy sáng chói, khí
                  chlorine nhạt màu, xuất hiện khói trắng (muối NaCl).
                </div>
              </div>

              <!-- Visualization Stage -->
              <div
                class="flex-1 flex items-center justify-center bg-slate-200 dark:bg-slate-900 rounded-2xl h-64 relative overflow-hidden border border-slate-300 dark:border-slate-700"
              >
                <!-- Flask -->
                <div class="relative w-32 h-40">
                  <!-- Glass Body -->
                  <div
                    class="absolute bottom-0 w-32 h-32 bg-yellow-200/40 dark:bg-yellow-900/20 border-2 border-slate-400 rounded-full z-10 overflow-hidden transition-all duration-1000"
                    id="flaskContent"
                  >
                    <!-- Gas Color -->
                    <div
                      class="w-full h-full bg-yellow-400/20 absolute top-0 left-0"
                      id="gasCl2"
                    ></div>
                    <!-- Smoke Layer (Hidden initially) -->
                    <div
                      class="w-full h-full bg-white absolute top-0 left-0 opacity-0 transition-opacity duration-2000"
                      id="smokeNaCl"
                    ></div>
                  </div>
                  <!-- Neck -->
                  <div
                    class="absolute top-0 left-1/2 -translate-x-1/2 w-10 h-10 border-x-2 border-slate-400 bg-transparent z-10"
                  ></div>
                </div>

                <!-- Spoon with Na -->
                <div
                  id="spoonNa"
                  class="absolute top-0 left-1/2 -translate-x-1/2 -translate-y-full transition-all duration-1000 z-20"
                >
                  <div class="w-1 h-24 bg-gray-500 mx-auto"></div>
                  <div
                    class="w-4 h-4 bg-gray-300 rounded-full mx-auto relative"
                  >
                    <div
                      id="fireNa"
                      class="absolute -top-1 -left-1 w-6 h-6 bg-orange-500 rounded-full blur-sm opacity-0 transition-opacity"
                    ></div>
                  </div>
                </div>

                <!-- Bright Flash Overlay -->
                <div
                  id="flashExp1"
                  class="absolute inset-0 bg-white z-30 opacity-0 pointer-events-none transition-opacity duration-200"
                ></div>
              </div>
            </div>
          </div>

          <!-- EXPERIMENT 2: Fe + CuSO4 -->
          <div
            class="glass-card p-6 md:p-8 rounded-3xl border-l-8 border-blue-500"
          >
            <div class="flex flex-col md:flex-row gap-8">
              <!-- Visualization Stage (Left this time) -->
              <div
                class="flex-1 flex items-center justify-center bg-slate-200 dark:bg-slate-900 rounded-2xl h-64 relative border border-slate-300 dark:border-slate-700 select-none"
              >
                <!-- Beaker -->
                <div
                  class="relative w-32 h-40 border-b-4 border-x-2 border-slate-400 rounded-b-xl overflow-hidden bg-white/10 backdrop-blur-sm z-10"
                >
                  <!-- Liquid -->
                  <div
                    id="liquidCuSO4"
                    class="absolute bottom-0 w-full h-3/4 bg-blue-500/60 transition-colors duration-2000 ease-in-out"
                  ></div>
                  <!-- Nail (Target Position) -->
                  <div
                    id="nailTarget"
                    class="absolute bottom-4 left-1/2 -translate-x-1/2 w-4 h-24 opacity-0"
                  ></div>
                </div>

                <!-- Draggable Nail -->
                <div
                  id="nailFe"
                  class="absolute top-4 left-4 cursor-pointer hover:scale-110 transition-transform z-20"
                  onclick="runExp2()"
                >
                  <div
                    class="w-2 h-16 bg-gray-400 rounded-full shadow-lg relative overflow-hidden"
                  >
                    <div
                      id="copperCoat"
                      class="absolute bottom-0 w-full h-0 bg-red-700 transition-all duration-2000"
                    ></div>
                  </div>
                  <div class="text-xs text-center mt-1 font-bold">
                    Đinh sắt<br />(Click me)
                  </div>
                </div>

                <!-- Instruction Overlay -->
                <div
                  id="hintExp2"
                  class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 text-slate-500 text-sm animate-pulse pointer-events-none"
                >
                  <i class="fas fa-hand-pointer"></i> Click vào đinh sắt
                </div>
              </div>

              <!-- Controls & Info -->
              <div class="flex-1">
                <h3 class="text-2xl font-bold mb-2">
                  Thí nghiệm 2: Sắt đẩy Đồng
                </h3>
                <p class="text-sm text-slate-500 mb-4">
                  Fe + CuSO4 &rarr; FeSO4 + Cu
                </p>

                <div
                  class="bg-slate-50 dark:bg-slate-800 p-4 rounded-lg mb-6 text-sm"
                >
                  <h4 class="font-bold mb-2 text-blue-600">
                    Quy trình mô phỏng:
                  </h4>
                  <ol
                    class="list-decimal list-inside space-y-1 text-slate-700 dark:text-slate-300"
                  >
                    <li>Chuẩn bị 2-3ml dung dịch CuSO4 (xanh lam).</li>
                    <li>Lấy đinh sắt sạch, thả vào ống nghiệm.</li>
                    <li>Để yên 3-5 phút và quan sát.</li>
                  </ol>
                </div>

                <button
                  onclick="resetExp2()"
                  class="w-full py-2 bg-slate-200 dark:bg-slate-700 hover:bg-slate-300 text-slate-700 dark:text-slate-200 rounded-xl font-bold transition-all"
                >
                  <i class="fas fa-redo mr-2"></i> Làm lại
                </button>

                <div
                  id="resultExp2"
                  class="mt-4 p-3 bg-green-100 text-green-800 rounded-lg transition-all hidden"
                >
                  <strong>Hiện tượng:</strong> Có lớp kim loại màu đỏ (Cu) bám
                  lên đinh sắt. Màu xanh lam của dung dịch nhạt dần (tạo FeSO4).
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- 6. ỨNG DỤNG THỰC TẾ -->
      <section
        class="py-16 bg-gradient-to-br from-blue-600 to-indigo-700 text-white"
      >
        <div class="max-w-6xl mx-auto px-4">
          <h2 class="text-3xl font-bold mb-10 text-center font-display">
            Ứng dụng trong Đời sống
          </h2>
          <div class="grid md:grid-cols-2 lg:grid-cols-4 gap-6">
            <div
              class="bg-white/10 backdrop-blur-md p-6 rounded-xl border border-white/20 hover:bg-white/20 transition-all"
            >
              <i class="fas fa-bolt text-4xl mb-4 text-yellow-300"></i>
              <h3 class="font-bold text-lg mb-2">Dây dẫn điện</h3>
              <p class="text-sm text-blue-100">
                Đồng & Nhôm dùng làm lõi dây điện nhờ khả năng dẫn điện tốt và
                giá thành hợp lý.
              </p>
            </div>
            <div
              class="bg-white/10 backdrop-blur-md p-6 rounded-xl border border-white/20 hover:bg-white/20 transition-all"
            >
              <i class="fas fa-plane text-4xl mb-4 text-slate-300"></i>
              <h3 class="font-bold text-lg mb-2">Hàng không</h3>
              <p class="text-sm text-blue-100">
                Duralumin (Hợp kim nhôm) nhẹ, bền dùng làm vỏ máy bay.
              </p>
            </div>
            <div
              class="bg-white/10 backdrop-blur-md p-6 rounded-xl border border-white/20 hover:bg-white/20 transition-all"
            >
              <i class="fas fa-seedling text-4xl mb-4 text-green-300"></i>
              <h3 class="font-bold text-lg mb-2">Nông nghiệp</h3>
              <p class="text-sm text-blue-100">
                Lưu huỳnh dùng sản xuất phân bón và thuốc bảo vệ thực vật.
              </p>
            </div>
            <div
              class="bg-white/10 backdrop-blur-md p-6 rounded-xl border border-white/20 hover:bg-white/20 transition-all"
            >
              <i class="fas fa-filter text-4xl mb-4 text-gray-300"></i>
              <h3 class="font-bold text-lg mb-2">Y tế & Đời sống</h3>
              <p class="text-sm text-blue-100">
                Than hoạt tính dùng trong khẩu trang y tế và máy lọc nước.
              </p>
            </div>
          </div>
        </div>
      </section>

      <!-- 7. BÀI TẬP CỦNG CỐ (QUIZ) -->
      <section id="quiz" class="py-20 px-4">
        <div class="max-w-4xl mx-auto">
          <div class="text-center mb-10">
            <h2 class="font-display text-4xl font-bold mb-4">
              Thử thách Kiến thức
            </h2>
            <p>Hoàn thành 10 câu hỏi để nhận huy hiệu!</p>
          </div>

          <div class="glass-card rounded-3xl overflow-hidden shadow-2xl">
            <!-- Progress Bar -->
            <div class="w-full bg-gray-200 h-2">
              <div
                id="progressBar"
                class="bg-blue-600 h-2 transition-all duration-500"
                style="width: 0%"
              ></div>
            </div>

            <div class="p-8 md:p-12">
              <!-- Question Container -->
              <div id="quizContainer">
                <div class="flex justify-between items-center mb-6">
                  <span
                    class="text-sm font-bold text-slate-400"
                    id="questionCounter"
                    >Câu 1/10</span
                  >
                  <span
                    class="text-sm font-bold text-blue-600"
                    id="scoreCounter"
                    >Điểm: 0</span
                  >
                </div>

                <h3
                  class="text-xl md:text-2xl font-bold mb-8"
                  id="questionText"
                >
                  Loading...
                </h3>

                <div class="grid gap-4" id="answersGrid">
                  <!-- Answers generated by JS -->
                </div>

                <div id="feedback" class="mt-6 p-4 rounded-xl hidden"></div>
              </div>

              <!-- Result Screen (Hidden initially) -->
              <div id="resultScreen" class="hidden text-center py-10">
                <div
                  class="w-24 h-24 bg-yellow-400 rounded-full flex items-center justify-center mx-auto mb-6 text-white text-4xl shadow-lg animate-bounce"
                >
                  <i class="fas fa-trophy"></i>
                </div>
                <h3 class="text-3xl font-bold mb-2">Chúc mừng!</h3>
                <p class="text-lg text-slate-600 dark:text-slate-300 mb-6">
                  Bạn đã hoàn thành bài kiểm tra.
                </p>
                <div
                  class="text-5xl font-display font-bold text-blue-600 mb-8"
                  id="finalScore"
                >
                  0/10
                </div>
                <button
                  onclick="restartQuiz()"
                  class="px-8 py-3 bg-blue-600 text-white rounded-full font-bold hover:bg-blue-700 transition-colors"
                >
                  Làm lại bài
                </button>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- Navigation Buttons -->
      <div class="flex flex-wrap justify-center gap-6 pb-20 px-4">
        <button
          onclick="window.location.href = 'bai_tap.html'"
          style="
            display: inline-flex;
            align-items: center;
            gap: 10px;
            padding: 14px 30px;
            font-size: 1rem;
            font-weight: 600;
            border-radius: 999px;
            border: none;
            cursor: pointer;
            color: #fff;
            background: linear-gradient(135deg, #3b82f6, #6366f1);
            box-shadow: 0 10px 30px rgba(59, 130, 246, 0.35);
            transition: 0.3s ease;
          "
          onmouseover="
            this.style.transform = 'translateY(-3px) scale(1.03)';
            this.style.boxShadow = '0 18px 45px rgba(99,102,241,.55)';
          "
          onmouseout="
            this.style.transform = 'translateY(0) scale(1)';
            this.style.boxShadow = '0 10px 30px rgba(59,130,246,.35)';
          "
        >
          <i class="fas fa-pen-to-square"></i> Bài tập củng cố
        </button>
        <button
          onclick="window.location.href = '../chemstudybaby.html'"
          style="
            display: inline-flex;
            align-items: center;
            gap: 10px;
            padding: 14px 30px;
            font-size: 1rem;
            font-weight: 600;
            border-radius: 999px;
            border: none;
            cursor: pointer;
            color: #fff;
            background: linear-gradient(135deg, #22c55e, #16a34a);
            box-shadow: 0 10px 30px rgba(34, 197, 94, 0.35);
            transition: 0.3s ease;
          "
          onmouseover="
            this.style.transform = 'translateY(-3px)';
            this.style.boxShadow = '0 18px 45px rgba(22,163,74,.55)';
          "
          onmouseout="
            this.style.transform = 'translateY(0)';
            this.style.boxShadow = '0 10px 30px rgba(34,197,94,.35)';
          "
        >
          <i class="fas fa-arrow-left"></i> Quay về CS Junior
        </button>
      </div>
    </main>

    <!-- 10. FOOTER (EXACT STRUCTURE PRESERVED) -->
    <footer>
      <div class="footer-waves"></div>
      <div class="footer-grid">
        <div class="footer-brand">
          <h2>EDUMATTER</h2>
          <p style="color: #94a3b8; line-height: 1.8">
            Kiến tạo môi trường học tập cảm xúc, nơi tri thức được số hóa và
            truyền tải đầy cảm hứng.
          </p>
          <div style="display: flex; gap: 15px; margin-top: 30px">
            <a href="https://www.facebook.com/ducnt214" class="icon-btn"
              ><i class="fab fa-facebook" alt="facebook"></i
            ></a>
            <a href="https://github.com/ducnt2104" class="icon-btn" alt="github"
              ><i class="fab fa-github"></i
            ></a>
            <a
              href="https://www.tiktok.com/@ktbtcthm210"
              class="icon-btn"
              alt="tiktok"
              ><i class="fab fa-tiktok"></i
            ></a>
          </div>
        </div>
        <div class="footer-links">
          <h3>Liên hệ nhanh</h3>
          <div class="contact-item">
            <i class="fas fa-envelope"></i>
            <span>ducnt21042010@gmail.com</span>
          </div>
          <div class="contact-item">
            <i class="fas fa-phone"></i>
            <span>034 226 6204</span>
          </div>
          <div class="contact-item">
            <i class="fas fa-location-dot"></i>
            <span>THPT Tôn Đức Thắng, Đồng Nai</span>
          </div>
        </div>
        <div class="footer-links">
          <h4>Đội ngũ DNT</h4>
          <p style="color: #94a3b8">
            "Sáng tạo không ngừng - Vươn tầm tri thức"
          </p>
          <div
            style="
              margin-top: 20px;
              padding: 15px;
              background: rgba(255, 255, 255, 0.05);
              border-radius: 15px;
            "
          >
            <p style="font-size: 0.8rem; color: #fff">
              Dự án được phát triển bởi các thành viên đam mê công nghệ tại Việt
              Nam.
            </p>
          </div>
        </div>
      </div>
      <div class="copyright">
        <p>
          © 2024 EDUMATTER Educational Ecosystem. Designed with
          <i class="fas fa-heart" style="color: #ef4444"></i> by DNT Team.
        </p>
      </div>
    </footer>

    <!-- JAVASCRIPT LOGIC -->
    <script>
      // --- 1. THEME TOGGLE LOGIC ---
      const themeToggle = document.getElementById("theme-toggle");
      const themeIcon = document.getElementById("theme-icon");
      const html = document.documentElement;

      // Check local storage or system preference
      if (
        localStorage.theme === "dark" ||
        (!("theme" in localStorage) &&
          window.matchMedia("(prefers-color-scheme: dark)").matches)
      ) {
        html.classList.add("dark");
        themeIcon.classList.remove("fa-moon");
        themeIcon.classList.add("fa-sun");
      }

      themeToggle.addEventListener("click", () => {
        html.classList.toggle("dark");
        if (html.classList.contains("dark")) {
          localStorage.theme = "dark";
          themeIcon.classList.remove("fa-moon");
          themeIcon.classList.add("fa-sun");
        } else {
          localStorage.theme = "light";
          themeIcon.classList.remove("fa-sun");
          themeIcon.classList.add("fa-moon");
        }
      });

      // --- 2. REACTIVITY SERIES SLIDER LOGIC ---
      const slider = document.getElementById("activitySlider");
      const elementContainer = document.getElementById("elementContainer");
      const groupName = document.getElementById("groupName");
      const groupProperties = document.getElementById("groupProperties");

      const elements = elementContainer.children;

      slider.addEventListener("input", (e) => {
        const val = e.target.value;
        let activeIndex = 0;

        // Simple mapping of slider value to element index groups
        if (val < 30)
          activeIndex = 0; // Strong
        else if (val < 70)
          activeIndex = 1; // Medium
        else activeIndex = 2; // Weak

        // Highlight Logic
        // Reset opacities
        for (let el of elements) {
          el.style.opacity = "0.4";
          el.style.transform = "scale(1)";
        }

        if (activeIndex === 0) {
          // Strong: K, Na, Ca
          elements[0].style.opacity = "1";
          elements[0].style.transform = "scale(1.3)";
          elements[1].style.opacity = "1";
          elements[1].style.transform = "scale(1.3)";
          elements[2].style.opacity = "1";
          elements[2].style.transform = "scale(1.3)";
          groupName.innerText = "Kim loại Mạnh (K, Na, Ca...)";
          groupProperties.innerHTML = `
                    <li><i class="fas fa-check text-green-500 mr-2"></i>Tác dụng với nước ở nhiệt độ thường (tạo Hydroxide + H2).</li>
                    <li><i class="fas fa-check text-green-500 mr-2"></i>Tác dụng mạnh với Acid.</li>
                    <li><i class="fas fa-exclamation-triangle text-yellow-500 mr-2"></i>Bảo quản trong dầu hỏa (Na, K).</li>
                `;
        } else if (activeIndex === 1) {
          // Medium: Mg -> Pb
          for (let i = 3; i <= 7; i++) {
            elements[i].style.opacity = "1";
            elements[i].style.transform = "scale(1.2)";
          }
          groupName.innerText = "Kim loại Trung Bình (Mg, Al, Zn, Fe)";
          groupProperties.innerHTML = `
                    <li><i class="fas fa-check text-green-500 mr-2"></i>Tác dụng với O2 khi đốt nóng.</li>
                    <li><i class="fas fa-check text-green-500 mr-2"></i>Đẩy H ra khỏi acid loãng (HCl, H2SO4).</li>
                    <li><i class="fas fa-times text-red-500 mr-2"></i>Không tác dụng với nước ở nhiệt độ thường.</li>
                `;
        } else {
          // Weak: Cu, Ag, Au
          for (let i = 9; i <= 11; i++) {
            elements[i].style.opacity = "1";
            elements[i].style.transform = "scale(1.2)";
          }
          groupName.innerText = "Kim loại Yếu (Cu, Ag, Au)";
          groupProperties.innerHTML = `
                    <li><i class="fas fa-times text-red-500 mr-2"></i>Không tác dụng với HCl, H2SO4 loãng.</li>
                    <li><i class="fas fa-check text-green-500 mr-2"></i>Tác dụng với H2SO4 đặc nóng.</li>
                    <li><i class="fas fa-gem text-blue-500 mr-2"></i>Bền trong không khí (Vàng, Bạc).</li>
                `;
        }
      });

      // --- 3. EXPERIMENT 1 LOGIC (Na + Cl2) ---
      function runExp1() {
        const btn = document.getElementById("btnExp1");
        const spoon = document.getElementById("spoonNa");
        const fire = document.getElementById("fireNa");
        const flash = document.getElementById("flashExp1");
        const smoke = document.getElementById("smokeNaCl");
        const result = document.getElementById("resultExp1");
        const gas = document.getElementById("gasCl2");

        btn.disabled = true;
        btn.innerHTML =
          '<i class="fas fa-spinner fa-spin"></i> Đang thực hiện...';

        // Step 1: Heat Na
        fire.style.opacity = "1";

        setTimeout(() => {
          // Step 2: Move into flask
          spoon.style.transform = "translate(-50%, 40px)";

          setTimeout(() => {
            // Step 3: Reaction happens
            flash.style.opacity = "0.9"; // Bright flash

            setTimeout(() => {
              flash.style.opacity = "0";
              fire.style.opacity = "0"; // Fire extinguished by reaction
              gas.style.opacity = "0.2"; // Gas fades
              smoke.classList.add("animate-smoke"); // Smoke appears

              // Show text result
              result.classList.remove("hidden");
              btn.innerHTML = '<i class="fas fa-check"></i> Hoàn thành';
            }, 500); // Flash duration
          }, 1000); // Moving duration
        }, 1000); // Heating duration
      }

      // --- 4. EXPERIMENT 2 LOGIC (Fe + CuSO4) ---
      let exp2Done = false;
      function runExp2() {
        if (exp2Done) return;

        const nail = document.getElementById("nailFe");
        const hint = document.getElementById("hintExp2");
        const liquid = document.getElementById("liquidCuSO4");
        const coat = document.getElementById("copperCoat");
        const result = document.getElementById("resultExp2");

        hint.style.display = "none";
        nail.style.transition = "all 1s ease";
        // Move nail into beaker
        nail.style.top = "unset";
        nail.style.bottom = "1rem";
        nail.style.left = "50%";
        nail.style.transform = "translateX(-50%)";
        nail.style.cursor = "default";

        setTimeout(() => {
          // Reaction starts
          // Liquid changes Blue -> Pale Green
          liquid.classList.remove("bg-blue-500/60");
          liquid.classList.add("bg-green-200/60");

          // Nail gets coated Red
          coat.style.height = "70%"; // Covers bottom part

          result.classList.remove("hidden");
          exp2Done = true;
        }, 1500);
      }

      function resetExp2() {
        const nail = document.getElementById("nailFe");
        const hint = document.getElementById("hintExp2");
        const liquid = document.getElementById("liquidCuSO4");
        const coat = document.getElementById("copperCoat");
        const result = document.getElementById("resultExp2");

        nail.style.transition = "none";
        nail.style.top = "1rem";
        nail.style.bottom = "unset";
        nail.style.left = "1rem";
        nail.style.transform = "none";
        nail.style.cursor = "pointer";

        hint.style.display = "block";

        liquid.classList.add("bg-blue-500/60");
        liquid.classList.remove("bg-green-200/60");

        coat.style.height = "0";
        result.classList.add("hidden");

        exp2Done = false;
      }

      // --- 5. QUIZ LOGIC (Updated to match exact new requirements) ---
      const questions = [
        {
          q: "1. Vì sao dây điện cao thế thường làm bằng nhôm mà không làm bằng bạc dù bạc dẫn điện tốt hơn?",
          a: [
            "Vì nhôm nhẹ hơn và rẻ tiền hơn.",
            "Vì nhôm dẫn điện tốt hơn bạc.",
            "Vì nhôm cứng hơn bạc.",
            "Vì bạc không có tính dẻo.",
          ],
          correct: 0,
          hint: "Hãy cân nhắc đến yếu tố kinh tế và trọng lượng khi treo trên cột cao.",
        },
        {
          q: "2. Dựa vào tính chất nào người ta dùng kim loại Tungsten (W) làm dây tóc bóng đèn?",
          a: [
            "Tính dẫn điện tốt.",
            "Nhiệt độ nóng chảy rất cao.",
            "Tính dẻo cao.",
            "Tính ánh kim.",
          ],
          correct: 1,
          hint: "Dây tóc bóng đèn phải chịu được nhiệt độ rất cao khi phát sáng.",
        },
        {
          q: "3. Sản phẩm của phản ứng đốt bột Nhôm (Al) trong khí Oxygen là gì?",
          a: ["Al(OH)3", "AlCl3", "Al2O3", "Al2(SO4)3"],
          correct: 2,
          hint: "Kim loại + Oxygen -> Oxide base.",
        },
        {
          q: "4. Hiện tượng xảy ra khi cho một mẩu Natri vào nước có pha Phenolphthalein?",
          a: [
            "Không có hiện tượng.",
            "Dung dịch chuyển màu xanh.",
            "Dung dịch chuyển màu hồng, có khí bay ra.",
            "Có kết tủa trắng.",
          ],
          correct: 2,
          hint: "Phản ứng tạo ra kiềm (Base) và khí H2. Kiềm làm Phenolphthalein chuyển hồng.",
        },
        {
          q: "5. Sắp xếp các kim loại sau theo chiều hoạt động hóa học tăng dần: Cu, Na, Al, Ag, Fe",
          a: [
            "Ag, Cu, Fe, Al, Na",
            "Na, Al, Fe, Cu, Ag",
            "Cu, Ag, Fe, Al, Na",
            "Fe, Al, Cu, Ag, Na",
          ],
          correct: 0,
          hint: "Ag yếu nhất (sau H), Na mạnh nhất (tan trong nước).",
        },
        {
          q: "6. Dùng dung dịch nào để tách (lấy) được Đồng nguyên chất từ hỗn hợp bột Đồng và bột Sắt?",
          a: ["Dung dịch HCl", "Dung dịch NaOH", "Dung dịch NaCl", "Nước"],
          correct: 0,
          hint: "Fe phản ứng với HCl tan ra, còn Cu không phản ứng với HCl.",
        },
        {
          q: "7. Sự khác biệt chính về thành phần giữa Gang và Thép là gì?",
          a: [
            "Gang chứa nhiều sắt hơn thép.",
            "Gang chứa hàm lượng Carbon cao hơn (2-5%).",
            "Thép chứa hàm lượng Carbon cao hơn.",
            "Gang không chứa Carbon.",
          ],
          correct: 1,
          hint: "Gang giòn hơn do chứa nhiều Carbon hơn (2-5%), thép dẻo hơn (<2%).",
        },
        {
          q: "8. Tại sao than hoạt tính lại được dùng trong mặt nạ phòng độc?",
          a: [
            "Vì nó cháy được.",
            "Vì nó có tính khử mạnh.",
            "Vì nó có khả năng hấp phụ tốt các khí độc.",
            "Vì nó rẻ tiền.",
          ],
          correct: 2,
          hint: "Cấu trúc xốp rỗng giúp giữ lại các chất khí độc hại.",
        },
        {
          q: "9. Liên kết trong phân tử NaCl được hình thành dựa trên xu hướng nào?",
          a: [
            "Dùng chung electron.",
            "Nhường/Nhận electron (Liên kết Ion).",
            "Lực hút tĩnh điện giữa các phân tử.",
            "Liên kết kim loại.",
          ],
          correct: 1,
          hint: "Kim loại (Na) nhường e, Phi kim (Cl) nhận e tạo ion trái dấu.",
        },
        {
          q: "10. So sánh tính chất của Oxide tạo ra khi đốt Lưu huỳnh (S) và đốt Magnesium (Mg)?",
          a: [
            "Cả hai đều là Oxide base.",
            "Cả hai đều là Oxide acid.",
            "S tạo Oxide acid (SO2), Mg tạo Oxide base (MgO).",
            "S tạo Oxide base, Mg tạo Oxide acid.",
          ],
          correct: 2,
          hint: "Phi kim thường tạo Oxide acid, Kim loại tạo Oxide base.",
        },
      ];

      let currentQ = 0;
      let score = 0;

      function renderQuiz() {
        if (currentQ >= questions.length) {
          showResult();
          return;
        }

        const q = questions[currentQ];
        document.getElementById("questionText").innerText = q.q;
        document.getElementById("questionCounter").innerText =
          `Câu ${currentQ + 1}/${questions.length}`;
        document.getElementById("scoreCounter").innerText = `Điểm: ${score}`;
        document.getElementById("progressBar").style.width =
          `${(currentQ / questions.length) * 100}%`;

        const grid = document.getElementById("answersGrid");
        grid.innerHTML = "";

        q.a.forEach((ans, idx) => {
          const btn = document.createElement("button");
          btn.className =
            "w-full text-left p-4 rounded-xl border border-slate-200 dark:border-slate-700 hover:bg-blue-50 dark:hover:bg-slate-800 transition-colors flex items-center gap-3";
          btn.innerHTML = `<span class="w-8 h-8 rounded-full bg-slate-100 dark:bg-slate-700 flex items-center justify-center font-bold text-sm">${String.fromCharCode(65 + idx)}</span> ${ans}`;
          btn.onclick = () => checkAnswer(idx);
          grid.appendChild(btn);
        });

        document.getElementById("feedback").className =
          "mt-6 p-4 rounded-xl hidden";
      }

      function checkAnswer(idx) {
        const q = questions[currentQ];
        const feedback = document.getElementById("feedback");
        const btns = document.getElementById("answersGrid").children;

        // Disable all buttons
        for (let btn of btns) btn.disabled = true;

        if (idx === q.correct) {
          score++;
          btns[idx].classList.add(
            "bg-green-100",
            "border-green-500",
            "text-green-800",
          );
          btns[idx].querySelector("span").classList.add("bg-green-200");
          feedback.innerHTML = `<i class="fas fa-check-circle text-green-600"></i> <strong>Chính xác!</strong>`;
          feedback.className =
            "mt-6 p-4 rounded-xl bg-green-50 text-green-800 block animate-pulse";
        } else {
          btns[idx].classList.add(
            "bg-red-100",
            "border-red-500",
            "text-red-800",
          );
          btns[q.correct].classList.add(
            "bg-green-100",
            "border-green-500",
            "text-green-800",
          ); // Show correct
          feedback.innerHTML = `<i class="fas fa-times-circle text-red-600"></i> <strong>Sai rồi!</strong><br><em>Gợi ý: ${q.hint}</em>`;
          feedback.className =
            "mt-6 p-4 rounded-xl bg-red-50 text-red-800 block";
        }

        // Next question timer
        setTimeout(() => {
          currentQ++;
          renderQuiz();
        }, 3000); // 3 seconds to read explanation
      }

      function showResult() {
        document.getElementById("quizContainer").classList.add("hidden");
        document.getElementById("resultScreen").classList.remove("hidden");
        document.getElementById("finalScore").innerText =
          `${score}/${questions.length}`;
        document.getElementById("progressBar").style.width = "100%";
      }

      function restartQuiz() {
        currentQ = 0;
        score = 0;
        document.getElementById("quizContainer").classList.remove("hidden");
        document.getElementById("resultScreen").classList.add("hidden");
        renderQuiz();
      }

      // Initialize Quiz
      renderQuiz();
    </script>
  </body>
</html>
