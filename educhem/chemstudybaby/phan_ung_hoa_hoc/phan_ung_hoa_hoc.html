<!doctype html>
<html lang="vi" class="scroll-smooth">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>EDUMATTER | H√≥a H·ªçc T∆∞∆°ng T√°c</title>

    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- Font Awesome -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />

    <!-- Google Fonts -->
    <link
      href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;600;700&family=Inter:wght@300;400;600&display=swap"
      rel="stylesheet"
    />

    <!-- Tailwind Config -->
    <script>
      tailwind.config = {
        darkMode: "class",
        theme: {
          extend: {
            fontFamily: {
              sans: ["Inter", "sans-serif"],
              display: ["Space Grotesk", "sans-serif"],
            },
            colors: {
              primary: "#3b82f6",
              secondary: "#10b981",
              accent: "#8b5cf6",
              dark: "#0f172a",
              glass: "rgba(255, 255, 255, 0.1)",
              glassDark: "rgba(15, 23, 42, 0.6)",
            },
            animation: {
              float: "float 6s ease-in-out infinite",
              "pulse-slow": "pulse 4s cubic-bezier(0.4, 0, 0.6, 1) infinite",
            },
            keyframes: {
              float: {
                "0%, 100%": { transform: "translateY(0)" },
                "50%": { transform: "translateY(-20px)" },
              },
            },
          },
        },
      };
    </script>

    <style>
      /* Custom Variables for Footer provided in prompt */
      :root {
        --footer-bg: #0f172a;
        --footer-text: #e2e8f0;
        --p-primary: #3b82f6;
      }

      html.dark :root {
        --footer-bg: #020617;
      }

      /* Glassmorphism Utilities */
      .glass-panel {
        background: rgba(255, 255, 255, 0.7);
        backdrop-filter: blur(12px);
        -webkit-backdrop-filter: blur(12px);
        border: 1px solid rgba(255, 255, 255, 0.3);
      }

      .dark .glass-panel {
        background: rgba(15, 23, 42, 0.7);
        border: 1px solid rgba(255, 255, 255, 0.05);
      }

      .glass-card {
        background: rgba(255, 255, 255, 0.5);
        backdrop-filter: blur(8px);
        border: 1px solid rgba(255, 255, 255, 0.2);
        transition: all 0.3s ease;
      }

      .dark .glass-card {
        background: rgba(30, 41, 59, 0.5);
        border: 1px solid rgba(255, 255, 255, 0.05);
      }

      .glass-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 10px 30px -10px rgba(0, 0, 0, 0.1);
      }

      /* Gradient Text */
      .text-gradient {
        background-clip: text;
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-image: linear-gradient(to right, #3b82f6, #8b5cf6, #ec4899);
      }

      /* Custom Scrollbar */
      ::-webkit-scrollbar {
        width: 8px;
      }
      ::-webkit-scrollbar-track {
        background: #f1f1f1;
      }
      .dark ::-webkit-scrollbar-track {
        background: #0f172a;
      }
      ::-webkit-scrollbar-thumb {
        background: #888;
        border-radius: 4px;
      }
      ::-webkit-scrollbar-thumb:hover {
        background: #555;
      }

      /* Footer Styles (From Request) */
      footer {
        background: var(--footer-bg);
        color: var(--footer-text);
        padding: 100px 5% 40px;
        position: relative;
        overflow: hidden;
        transition:
          background-color 0.8s ease,
          color 0.8s ease;
      }
      .footer-waves {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 60px;
        background: var(--footer-bg);
        clip-path: polygon(
          0% 45%,
          16% 44%,
          33% 50%,
          54% 60%,
          70% 61%,
          84% 59%,
          100% 52%,
          100% 100%,
          0% 100%
        );
        transition: background-color 0.8s;
      }
      .footer-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        gap: 60px;
        max-width: 1200px;
        margin: 0 auto;
      }
      .footer-brand h2 {
        font-family: "Space Grotesk", sans-serif;
        font-size: 2rem;
        margin-bottom: 20px;
      }
      .footer-links h4,
      h3 {
        margin-bottom: 25px;
        text-transform: uppercase;
        letter-spacing: 2px;
        color: var(--p-primary);
      }
      .contact-item {
        margin-bottom: 15px;
        display: flex;
        align-items: center;
        gap: 15px;
        color: #94a3b8;
        transition: 0.3s;
      }
      .contact-item i {
        color: var(--p-primary);
      }
      .contact-item:hover {
        color: white;
        transform: translateX(5px);
      }
      .copyright {
        margin-top: 80px;
        text-align: center;
        padding-top: 30px;
        border-top: 1px solid rgba(255, 255, 255, 0.05);
        color: #475569;
        font-size: 0.9rem;
      }
      .icon-btn {
        color: #94a3b8;
        font-size: 1.2rem;
        transition: 0.3s;
      }
      .icon-btn:hover {
        color: white;
        transform: scale(1.1);
      }

      /* Interactive Elements */
      .slider-thumb::-webkit-slider-thumb {
        -webkit-appearance: none;
        appearance: none;
        width: 20px;
        height: 20px;
        background: #3b82f6;
        cursor: pointer;
        border-radius: 50%;
      }

      /* Utility for content boxes */
      .content-box {
        @apply p-6 rounded-xl bg-white/50 dark:bg-slate-800/50 border border-slate-200 dark:border-slate-700;
      }
      .knowledge-list li {
        @apply mb-2 flex items-start gap-2;
      }
      .knowledge-list i {
        @apply mt-1.5 text-xs;
      }
    </style>
  </head>
  <body
    class="bg-slate-50 text-slate-800 dark:bg-slate-900 dark:text-slate-100 transition-colors duration-300 font-sans selection:bg-primary selection:text-white"
  >
    <!-- HEADER -->
    <header
      class="fixed w-full top-0 z-50 glass-panel border-b border-slate-200 dark:border-slate-800"
    >
      <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="flex justify-between items-center h-16">
          <!-- Logo -->
          <div
            class="flex-shrink-0 flex items-center gap-2 cursor-pointer"
            onclick="window.scrollTo(0, 0)"
          >
            <i
              class="fa-solid fa-atom text-3xl text-primary animate-spin-slow"
            ></i>
            <span class="font-display font-bold text-2xl tracking-tight"
              >EDU<span class="text-primary">MATTER</span></span
            >
          </div>

          <!-- Navigation -->
          <nav class="hidden md:flex space-x-6">
            <a
              href="#topic1"
              class="text-xs lg:text-sm font-medium hover:text-primary transition-colors"
              >Bi·∫øn ƒë·ªïi</a
            >
            <a
              href="#topic2"
              class="text-xs lg:text-sm font-medium hover:text-primary transition-colors"
              >NƒÉng l∆∞·ª£ng</a
            >
            <a
              href="#topic3"
              class="text-xs lg:text-sm font-medium hover:text-primary transition-colors"
              >B·∫£o to√†n</a
            >
            <a
              href="#topic4"
              class="text-xs lg:text-sm font-medium hover:text-primary transition-colors"
              >Mol</a
            >
            <a
              href="#topic5"
              class="text-xs lg:text-sm font-medium hover:text-primary transition-colors"
              >T·ªëc ƒë·ªô</a
            >
            <a
              href="#topic6"
              class="text-xs lg:text-sm font-medium hover:text-primary transition-colors"
              >N·ªìng ƒë·ªô</a
            >
          </nav>

          <!-- Dark Mode Toggle -->
          <button
            id="theme-toggle"
            class="p-2 rounded-full hover:bg-slate-200 dark:hover:bg-slate-700 transition-colors focus:outline-none"
          >
            <i class="fas fa-moon dark:hidden text-slate-600"></i>
            <i class="fas fa-sun hidden dark:block text-yellow-400"></i>
          </button>
        </div>
      </div>
    </header>

    <!-- HERO SECTION -->
    <section class="relative pt-32 pb-20 overflow-hidden">
      <div class="absolute inset-0 z-0">
        <div
          class="absolute top-20 left-10 w-72 h-72 bg-purple-400 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-float"
        ></div>
        <div
          class="absolute top-40 right-10 w-72 h-72 bg-blue-400 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-float"
          style="animation-delay: 2s"
        ></div>
        <div
          class="absolute -bottom-10 left-1/2 w-72 h-72 bg-pink-400 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-float"
          style="animation-delay: 4s"
        ></div>
      </div>

      <div class="relative z-10 max-w-7xl mx-auto px-4 text-center">
        <span
          class="inline-block py-1 px-3 rounded-full bg-blue-100 dark:bg-blue-900 text-blue-600 dark:text-blue-300 text-xs font-semibold tracking-wide uppercase mb-4"
        >
          Ch∆∞∆°ng tr√¨nh H√≥a H·ªçc 8-9
        </span>
        <h1
          class="font-display text-5xl md:text-7xl font-bold mb-6 leading-tight"
        >
          Kh√°m Ph√° Th·∫ø Gi·ªõi <br />
          <span class="text-gradient">Nguy√™n T·ª≠ & Ph·∫£n ·ª®ng</span>
        </h1>
        <p
          class="mt-4 max-w-2xl mx-auto text-xl text-slate-600 dark:text-slate-300"
        >
          H·ªá th·ªëng ki·∫øn th·ª©c t∆∞∆°ng t√°c h√≥a h·ªçc hi·ªán ƒë·∫°i.
        </p>
        <div class="mt-10 flex justify-center gap-4">
          <a
            href="#topic1"
            class="px-8 py-3 rounded-full bg-primary hover:bg-blue-600 text-white font-semibold shadow-lg shadow-blue-500/30 transition-all transform hover:-translate-y-1"
          >
            V√†o b√†i h·ªçc ngay <i class="fas fa-arrow-right ml-2"></i>
          </a>
        </div>
      </div>
    </section>

    <main class="max-w-7xl mx-auto px-4 pb-20 space-y-24">
      <!-- TOPIC 1: BI·∫æN ƒê·ªîI V·∫¨T L√ç & H√ìA H·ªåC -->
      <section id="topic1" class="scroll-mt-24">
        <div class="flex items-center gap-4 mb-8">
          <div
            class="w-12 h-12 rounded-xl bg-blue-100 dark:bg-blue-900 flex items-center justify-center text-primary text-xl"
          >
            <i class="fas fa-shapes"></i>
          </div>
          <h2 class="font-display text-3xl font-bold">
            I. Bi·∫øn ƒê·ªïi V·∫≠t L√≠ & H√≥a H·ªçc
          </h2>
        </div>

        <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
          <!-- Theory & Content -->
          <div class="glass-card p-8 rounded-2xl h-full space-y-6">
            <div>
              <h3
                class="text-xl font-bold mb-3 flex items-center gap-2 text-primary"
              >
                <i class="fas fa-book-open"></i> 1. Ki·∫øn th·ª©c tr·ªçng t√¢m
              </h3>
              <ul
                class="knowledge-list text-slate-600 dark:text-slate-300 text-sm"
              >
                <li>
                  <i class="fas fa-circle text-[8px] text-blue-500"></i>
                  <span
                    ><strong>Bi·∫øn ƒë·ªïi v·∫≠t l√≠:</strong> Hi·ªán t∆∞·ª£ng ch·∫•t c√≥ s·ª±
                    bi·∫øn ƒë·ªïi v·ªÅ tr·∫°ng th√°i, k√≠ch th∆∞·ªõc, h√¨nh d·∫°ng... nh∆∞ng v·∫´n
                    gi·ªØ nguy√™n l√† ch·∫•t ban ƒë·∫ßu.</span
                  >
                </li>
                <li>
                  <i class="fas fa-circle text-[8px] text-red-500"></i>
                  <span
                    ><strong>Bi·∫øn ƒë·ªïi h√≥a h·ªçc:</strong> Hi·ªán t∆∞·ª£ng ch·∫•t c√≥ s·ª±
                    bi·∫øn ƒë·ªïi t·∫°o ra ch·∫•t m·ªõi.</span
                  >
                </li>
              </ul>
            </div>

            <div>
              <h3 class="text-lg font-bold mb-3 text-secondary">
                <i class="fas fa-list-ul"></i> 2. V√≠ d·ª• c·ª• th·ªÉ
              </h3>
              <ul class="text-sm space-y-2">
                <li
                  class="p-2 bg-blue-50 dark:bg-blue-900/20 rounded border-l-4 border-blue-500"
                >
                  <strong>V·∫≠t l√≠:</strong> N∆∞·ªõc ƒë√° tan ch·∫£y, h√≤a tan ƒë∆∞·ªùng, b·∫ª
                  cong d√¢y s·∫Øt.
                </li>
                <li
                  class="p-2 bg-red-50 dark:bg-red-900/20 rounded border-l-4 border-red-500"
                >
                  <strong>H√≥a h·ªçc:</strong> ƒê·ªët ch√°y gi·∫•y, ƒëinh s·∫Øt g·ªâ, nung ƒë√°
                  v√¥i.
                </li>
              </ul>
            </div>

            <div>
              <h3 class="text-lg font-bold mb-3 text-accent">
                <i class="fas fa-pen-fancy"></i> 3. B√†i t·∫≠p v·∫≠n d·ª•ng
              </h3>
              <div
                class="text-sm bg-slate-100 dark:bg-slate-800 p-3 rounded italic"
              >
                <p class="mb-2"><strong>B√†i 1:</strong> Ph√¢n lo·∫°i:</p>
                <ul class="list-disc pl-5">
                  <li>a) Th·ªïi th·ªßy tinh (V·∫≠t l√≠)</li>
                  <li>b) C∆°m √¥i thiu (H√≥a h·ªçc)</li>
                  <li>c) B·∫ª vi√™n ph·∫•n (V·∫≠t l√≠)</li>
                </ul>
                <p class="mt-2">
                  <strong>B√†i 2:</strong> ƒê·ªët n·∫øn: N·∫øn ch·∫£y l·ªèng (V·∫≠t l√≠) -> N·∫øn
                  ch√°y t·∫°o CO2 (H√≥a h·ªçc).
                </p>
              </div>
            </div>
          </div>

          <!-- Simulation & Experiment Detail -->
          <div
            class="glass-card p-8 rounded-2xl bg-white dark:bg-slate-800 border-l-4 border-primary"
          >
            <div class="flex justify-between items-center mb-4">
              <h3 class="text-xl font-bold text-primary">
                <i class="fas fa-flask"></i> 4. Th√≠ nghi·ªám chi ti·∫øt
              </h3>
              <span class="text-xs bg-primary/10 text-primary px-2 py-1 rounded"
                >Mu·ªëi ƒÉn (V·∫≠t L√≠)</span
              >
            </div>

            <!-- Experiment Text Description -->
            <div
              class="text-sm text-slate-600 dark:text-slate-400 mb-4 bg-slate-50 dark:bg-slate-900 p-3 rounded"
            >
              <strong>Quy tr√¨nh:</strong> H√≤a tan mu·ªëi v√†o n∆∞·ªõc (B1) -> ƒêun s√¥i
              dung d·ªãch (B3) -> N∆∞·ªõc bay h∆°i h·∫øt, thu l·∫°i ƒë∆∞·ª£c mu·ªëi r·∫Øn (Hi·ªán
              t∆∞·ª£ng). <br /><em class="text-xs text-blue-500"
                >K·∫øt lu·∫≠n: Kh√¥ng t·∫°o ch·∫•t m·ªõi -> Bi·∫øn ƒë·ªïi v·∫≠t l√≠.</em
              >
            </div>

            <!-- Interactive Sim -->
            <div
              class="bg-slate-100 dark:bg-slate-900 rounded-xl p-6 mb-4 min-h-[180px] flex items-center justify-center relative overflow-hidden"
              id="sim1-display"
            >
              <div
                id="sim1-content"
                class="text-center transition-all duration-500"
              >
                <i class="fas fa-cube text-6xl text-blue-400 mb-2"></i>
                <p>N∆∞·ªõc ƒê√° (R·∫Øn)</p>
              </div>
            </div>

            <div class="grid grid-cols-2 gap-4">
              <button
                onclick="runSim1('physical')"
                class="px-4 py-2 rounded-lg bg-blue-500 hover:bg-blue-600 text-white font-medium transition-all text-sm"
              >
                M√¥ ph·ªèng: N∆∞·ªõc ƒë√° tan
              </button>
              <button
                onclick="runSim1('chemical')"
                class="px-4 py-2 rounded-lg bg-red-500 hover:bg-red-600 text-white font-medium transition-all text-sm"
              >
                M√¥ ph·ªèng: ƒê·ªët ch√°y gi·∫•y
              </button>
            </div>
            <p
              id="sim1-feedback"
              class="mt-4 text-sm text-center italic text-slate-500 min-h-[20px]"
            ></p>
          </div>
        </div>
      </section>

      <!-- TOPIC 2: NƒÇNG L∆Ø·ª¢NG PH·∫¢N ·ª®NG -->
      <section id="topic2" class="scroll-mt-24">
        <div class="flex items-center gap-4 mb-8">
          <div
            class="w-12 h-12 rounded-xl bg-purple-100 dark:bg-purple-900 flex items-center justify-center text-purple-600 text-xl"
          >
            <i class="fas fa-bolt"></i>
          </div>
          <h2 class="font-display text-3xl font-bold">
            II. Ph·∫£n ·ª®ng & NƒÉng L∆∞·ª£ng
          </h2>
        </div>

        <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
          <div class="lg:col-span-1 glass-card p-8 rounded-2xl">
            <h3 class="text-xl font-bold mb-4 text-purple-600">
              1. Ki·∫øn Th·ª©c & B√†i T·∫≠p
            </h3>

            <div class="mb-4">
              <h4 class="font-bold text-sm mb-2">Kh√°i ni·ªám:</h4>
              <p class="text-xs mb-2">
                Ch·∫•t ph·∫£n ·ª©ng -> S·∫£n ph·∫©m. Li√™n k·∫øt thay ƒë·ªïi, s·ªë nguy√™n t·ª≠ gi·ªØ
                nguy√™n.
              </p>
            </div>

            <div class="space-y-2 mb-6">
              <div
                class="p-2 bg-red-50 dark:bg-red-900/20 rounded border-l-2 border-red-500 text-xs"
              >
                <strong class="text-red-600">T·ªèa nhi·ªát:</strong> Gi·∫£i ph√≥ng
                nhi·ªát (ƒê·ªët than).
              </div>
              <div
                class="p-2 bg-blue-50 dark:bg-blue-900/20 rounded border-l-2 border-blue-500 text-xs"
              >
                <strong class="text-blue-600">Thu nhi·ªát:</strong> Nh·∫≠n nhi·ªát
                (Nung v√¥i).
              </div>
            </div>

            <div class="border-t pt-4 border-slate-200 dark:border-slate-700">
              <h4 class="font-bold text-sm mb-2 text-accent">
                2. B√†i t·∫≠p v·∫≠n d·ª•ng
              </h4>
              <ul class="text-xs space-y-2 list-disc pl-4">
                <li>
                  <strong>B√†i 1:</strong> ƒê·ªët Methane (CH4). Ch·∫•t P∆Ø: CH4, O2.
                  S·∫£n ph·∫©m: CO2, H2O.
                </li>
                <li>
                  <strong>B√†i 2:</strong> Gi·∫•m + Baking soda -> S·ªßi b·ªçt kh√≠ (D·∫•u
                  hi·ªáu c√≥ P∆Ø).
                </li>
              </ul>
            </div>
          </div>

          <div class="lg:col-span-2 glass-card p-8 rounded-2xl">
            <h3 class="text-xl font-bold mb-4 text-purple-600">
              <i class="fas fa-fire-burner"></i> 3. M√¥ ph·ªèng: S·∫Øt + L∆∞u Hu·ª≥nh
            </h3>
            <div class="flex flex-col md:flex-row gap-6">
              <div
                class="flex-1 bg-slate-900 rounded-xl p-4 relative overflow-hidden h-64 flex items-center justify-center border border-slate-700"
              >
                <!-- Animation Container -->
                <div id="sim2-container" class="relative text-center">
                  <div
                    id="sim2-substance"
                    class="w-24 h-8 bg-gray-400 rounded mx-auto mb-2 transition-colors duration-1000"
                  ></div>
                  <div
                    id="sim2-fire"
                    class="hidden text-red-500 text-4xl animate-bounce absolute -bottom-8 left-1/2 -translate-x-1/2"
                  >
                    <i class="fas fa-fire"></i>
                  </div>
                  <p id="sim2-label" class="text-white mt-2 font-mono">
                    Fe + S (B·ªôt)
                  </p>
                </div>
                <div
                  id="sim2-magnet"
                  class="absolute top-4 right-4 text-red-500 text-4xl hidden transition-transform duration-500"
                >
                  <i class="fas fa-magnet"></i>
                </div>
              </div>
              <div class="flex-1 space-y-4">
                <div class="space-y-2 text-sm">
                  <button
                    onclick="sim2Action('mix')"
                    class="w-full text-left px-4 py-2 bg-slate-100 dark:bg-slate-700 rounded hover:bg-slate-200 dark:hover:bg-slate-600 transition"
                  >
                    B1: Tr·ªôn Fe v√† S (7:4)
                  </button>
                  <button
                    onclick="sim2Action('magnet_before')"
                    class="w-full text-left px-4 py-2 bg-slate-100 dark:bg-slate-700 rounded hover:bg-slate-200 dark:hover:bg-slate-600 transition"
                  >
                    B2: Th·ª≠ nam ch√¢m (H√∫t Fe)
                  </button>
                  <button
                    onclick="sim2Action('heat')"
                    class="w-full text-left px-4 py-2 bg-red-100 dark:bg-red-900/30 text-red-600 rounded hover:bg-red-200 transition"
                  >
                    B3: ƒêun n√≥ng (T·ªèa nhi·ªát)
                  </button>
                  <button
                    onclick="sim2Action('magnet_after')"
                    class="w-full text-left px-4 py-2 bg-slate-100 dark:bg-slate-700 rounded hover:bg-slate-200 dark:hover:bg-slate-600 transition"
                  >
                    B4: Th·ª≠ nam ch√¢m (Sau P∆Ø)
                  </button>
                </div>
                <div
                  id="sim2-log"
                  class="text-xs p-3 bg-black text-green-400 font-mono rounded h-24 overflow-y-auto"
                >
                  > S·∫µn s√†ng th√≠ nghi·ªám...
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- TOPIC 3: B·∫¢O TO√ÄN KH·ªêI L∆Ø·ª¢NG -->
      <section id="topic3" class="scroll-mt-24">
        <div class="flex items-center gap-4 mb-8">
          <div
            class="w-12 h-12 rounded-xl bg-green-100 dark:bg-green-900 flex items-center justify-center text-green-600 text-xl"
          >
            <i class="fas fa-scale-balanced"></i>
          </div>
          <h2 class="font-display text-3xl font-bold">
            III. B·∫£o To√†n Kh·ªëi L∆∞·ª£ng
          </h2>
        </div>

        <div class="glass-card p-8 rounded-2xl">
          <div class="grid grid-cols-1 md:grid-cols-2 gap-10 items-start">
            <!-- Theory Section -->
            <div>
              <h3 class="text-xl font-bold mb-4">1. Ki·∫øn Th·ª©c Tr·ªçng T√¢m</h3>
              <p class="mb-4 text-sm text-slate-600 dark:text-slate-300">
                <strong>ƒê·ªãnh lu·∫≠t:</strong> T·ªïng kh·ªëi l∆∞·ª£ng s·∫£n ph·∫©m = T·ªïng kh·ªëi
                l∆∞·ª£ng ch·∫•t tham gia.
              </p>
              <div
                class="bg-primary/10 p-3 rounded-lg border-l-4 border-primary font-mono text-primary text-sm font-bold mb-6"
              >
                m(tham gia) = m(s·∫£n ph·∫©m)
              </div>

              <h3 class="text-xl font-bold mb-3 text-secondary">
                2. B√†i T·∫≠p V·∫≠n D·ª•ng
              </h3>
              <div class="space-y-3 text-sm">
                <div class="bg-green-50 dark:bg-green-900/20 p-3 rounded">
                  <strong>B√†i 1:</strong> T√≠nh m(BaSO4)<br />
                  20.8g BaCl2 + 14.2g Na2SO4 -> m(BaSO4) + 11.7g NaCl<br />
                  <span class="text-green-600 font-bold"
                    >=> m = 20.8 + 14.2 - 11.7 = 23.3g</span
                  >
                </div>
                <div class="bg-green-50 dark:bg-green-900/20 p-3 rounded">
                  <strong>B√†i 2:</strong> C√¢n b·∫±ng: 3Fe + 2O2 -> Fe3O4<br />
                  T·ªâ l·ªá s·ªë ph√¢n t·ª≠: 3 : 2 : 1
                </div>
              </div>
            </div>

            <!-- Experiment Simulation -->
            <div
              class="bg-slate-50 dark:bg-slate-900 p-6 rounded-xl border border-slate-200 dark:border-slate-700 relative"
            >
              <h4 class="text-center font-bold mb-4 text-green-600">
                3. Th√≠ nghi·ªám: BaCl2 + Na2SO4
              </h4>
              <div class="text-xs text-center mb-4 text-slate-500">
                M·ª•c ti√™u: Ch·ª©ng minh t·ªïng kh·ªëi l∆∞·ª£ng kh√¥ng ƒë·ªïi (mA = mB)
              </div>

              <div class="flex justify-center items-end h-40 gap-8 mb-4">
                <!-- Beaker 1 -->
                <div
                  id="beaker1"
                  class="w-16 h-24 border-2 border-slate-400 border-t-0 rounded-b-lg relative bg-white/10 backdrop-blur cursor-pointer transition-transform hover:-translate-y-2"
                  onclick="mixChemicals()"
                >
                  <div
                    class="absolute bottom-0 w-full h-1/2 bg-blue-300/50 rounded-b-sm flex items-center justify-center text-xs"
                  >
                    BaCl‚ÇÇ
                  </div>
                  <div class="absolute -top-6 w-full text-center text-xs">
                    C·ªëc 1
                  </div>
                </div>
                <!-- Beaker 2 -->
                <div
                  id="beaker2"
                  class="w-16 h-24 border-2 border-slate-400 border-t-0 rounded-b-lg relative bg-white/10 backdrop-blur"
                >
                  <div
                    id="liquid2"
                    class="absolute bottom-0 w-full h-1/2 bg-yellow-300/50 rounded-b-sm flex items-center justify-center text-xs transition-all duration-1000"
                  >
                    Na‚ÇÇSO‚ÇÑ
                  </div>
                  <div class="absolute -top-6 w-full text-center text-xs">
                    C·ªëc 2
                  </div>
                </div>
              </div>

              <!-- Scale Display -->
              <div
                class="w-48 mx-auto bg-gray-800 text-red-500 font-mono text-2xl py-2 px-4 rounded text-center border-4 border-gray-300 shadow-inner"
              >
                <span id="weight-display">250.00</span> g
              </div>

              <div class="mt-4 text-center">
                <button
                  onclick="mixChemicals()"
                  class="px-6 py-2 bg-green-500 text-white rounded-full hover:bg-green-600 transition shadow-lg shadow-green-500/30 text-sm"
                >
                  <i class="fas fa-flask mr-2"></i>ƒê·ªï C·ªëc 1 v√†o C·ªëc 2
                </button>
                <button
                  onclick="resetScale()"
                  class="ml-2 px-4 py-2 text-slate-500 hover:text-slate-700"
                >
                  <i class="fas fa-rotate-right"></i>
                </button>
              </div>
              <p
                id="scale-result"
                class="text-center mt-2 text-sm text-green-600 font-bold h-6"
              ></p>
            </div>
          </div>
        </div>
      </section>

      <!-- TOPIC 4: MOL & T·ªà KH·ªêI -->
      <section id="topic4" class="scroll-mt-24">
        <div class="flex items-center gap-4 mb-8">
          <div
            class="w-12 h-12 rounded-xl bg-yellow-100 dark:bg-yellow-900 flex items-center justify-center text-yellow-600 text-xl"
          >
            <i class="fas fa-cloud"></i>
          </div>
          <h2 class="font-display text-3xl font-bold">
            IV. Mol & T·ªâ Kh·ªëi Ch·∫•t Kh√≠
          </h2>
        </div>

        <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
          <!-- Concept & Exercises -->
          <div class="glass-card p-6 rounded-2xl">
            <h3 class="text-xl font-bold mb-4">1. Ki·∫øn th·ª©c & B√†i t·∫≠p</h3>
            <ul class="space-y-3 text-sm mb-6">
              <li>üß™ <strong>Mol:</strong> 6,022 x 10¬≤¬≥ h·∫°t.</li>
              <li>‚öñÔ∏è <strong>Kh·ªëi l∆∞·ª£ng Mol (M):</strong> g/mol.</li>
              <li>üéà <strong>Th·ªÉ t√≠ch Mol (ƒëkc):</strong> 24,79 l√≠t.</li>
              <li>üìè <strong>T·ªâ kh·ªëi:</strong> dA/B = MA/MB. (kk = 29).</li>
            </ul>

            <div
              class="bg-yellow-50 dark:bg-yellow-900/20 p-4 rounded-lg border border-yellow-200 dark:border-yellow-800"
            >
              <h4
                class="font-bold text-sm text-yellow-700 dark:text-yellow-400 mb-2"
              >
                2. B√†i t·∫≠p v·∫≠n d·ª•ng:
              </h4>
              <div class="space-y-2 text-sm">
                <p>
                  <strong>B√†i 1:</strong> Kh·ªëi l∆∞·ª£ng 0.5 mol O2?<br />
                  m = n √ó M = 0.5 √ó 32 =
                  <span class="font-bold text-red-500">16g</span>
                </p>
                <div class="h-px bg-yellow-200 dark:bg-yellow-800 my-2"></div>
                <p>
                  <strong>B√†i 2:</strong> CO2 n·∫∑ng/nh·∫π h∆°n kh√¥ng kh√≠?<br />
                  d(CO2/kk) = 44/29 ‚âà 1.52 > 1<br />
                  <span class="font-bold text-red-500"
                    >=> N·∫∑ng h∆°n kh√¥ng kh√≠ 1.52 l·∫ßn.</span
                  >
                </p>
              </div>
            </div>
          </div>

          <!-- Interactive Balloon -->
          <div
            class="glass-card p-6 rounded-2xl flex flex-col items-center justify-center bg-sky-50 dark:bg-slate-800"
          >
            <h4 class="font-bold text-sky-600 mb-4">
              M√¥ ph·ªèng Th·ªÉ T√≠ch Kh√≠ (ƒëkc)
            </h4>

            <div
              class="relative h-48 w-full flex items-center justify-center border-b border-slate-300 dark:border-slate-600 mb-4"
            >
              <div
                id="balloon"
                class="w-16 h-16 bg-red-400 rounded-full opacity-80 transition-all duration-700 flex items-center justify-center text-white font-bold shadow-xl"
              >
                1 mol
              </div>
            </div>

            <div class="w-full px-8">
              <label class="block text-sm font-medium mb-2"
                >S·ªë mol (n):
                <span id="mol-val" class="text-primary font-bold"
                  >1</span
                ></label
              >
              <input
                type="range"
                min="0.5"
                max="3"
                step="0.5"
                value="1"
                id="mol-slider"
                class="w-full h-2 bg-slate-200 rounded-lg appearance-none cursor-pointer slider-thumb"
                oninput="updateBalloon(this.value)"
              />
              <div class="flex justify-between text-xs mt-2 text-slate-500">
                <span>0.5 mol</span>
                <span>3 mol</span>
              </div>
            </div>
            <div class="mt-4 text-center">
              <p class="text-sm">
                Th·ªÉ t√≠ch V =
                <span id="volume-val" class="font-bold text-sky-600"
                  >24.79</span
                >
                l√≠t
              </p>
            </div>
          </div>
        </div>
      </section>

      <!-- TOPIC 5: T√çNH TO√ÅN & T·ªêC ƒê·ªò -->
      <section id="topic5" class="scroll-mt-24">
        <div class="flex items-center gap-4 mb-8">
          <div
            class="w-12 h-12 rounded-xl bg-red-100 dark:bg-red-900 flex items-center justify-center text-red-600 text-xl"
          >
            <i class="fas fa-gauge-high"></i>
          </div>
          <h2 class="font-display text-3xl font-bold">
            V. T√≠nh Theo PTHH & T·ªëc ƒê·ªô
          </h2>
        </div>

        <div class="glass-card p-8 rounded-2xl mb-8">
          <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
            <!-- Theory Column -->
            <div class="space-y-6">
              <div>
                <h3 class="text-lg font-bold mb-2">1. Ki·∫øn th·ª©c & B√†i t·∫≠p</h3>
                <ul class="text-sm list-disc pl-5 space-y-1">
                  <li>T√≠nh theo PTHH: n = m/M, V, ...</li>
                  <li>Hi·ªáu su·∫•t H% = (Th·ª±c t·∫ø / L√Ω thuy·∫øt) x 100%.</li>
                  <li>
                    Y·∫øu t·ªë ·∫£nh h∆∞·ªüng t·ªëc ƒë·ªô: N·ªìng ƒë·ªô, nhi·ªát ƒë·ªô, di·ªán t√≠ch, x√∫c
                    t√°c.
                  </li>
                </ul>
              </div>
              <div class="bg-red-50 dark:bg-red-900/20 p-4 rounded text-sm">
                <h4 class="font-bold text-red-600 mb-2">2. B√†i t·∫≠p v·∫≠n d·ª•ng</h4>
                <p class="mb-2">
                  <strong>B√†i 1:</strong> Nung 25g CaCO3 -> CaO?<br />
                  nCaCO3 = 0.25 mol -> nCaO = 0.25 -> mCaO = 0.25x56 =
                  <span class="font-bold">14g</span>.
                </p>
                <p>
                  <strong>B√†i 2:</strong> T·∫°i sao ch·∫ª nh·ªè c·ªßi d·ªÖ ch√°y?<br />
                  => TƒÉng <span class="font-bold">di·ªán t√≠ch ti·∫øp x√∫c</span> gi·ªØa
                  c·ªßi v√† oxi.
                </p>
              </div>
            </div>

            <!-- Experiment Column -->
            <div
              class="border-l pl-0 md:pl-8 border-slate-200 dark:border-slate-700"
            >
              <h3 class="text-lg font-bold mb-4 text-red-600">
                3. Th√≠ nghi·ªám: X√∫c t√°c H‚ÇÇO‚ÇÇ + MnO‚ÇÇ
              </h3>
              <p class="text-xs mb-4">
                M√¥ ph·ªèng ·∫£nh h∆∞·ªüng c·ªßa ch·∫•t x√∫c t√°c MnO2 l√™n t·ªëc ƒë·ªô ph√¢n h·ªßy
                H2O2.
              </p>

              <div class="flex gap-4 mb-4">
                <button
                  onclick="runCatalyst(false)"
                  class="flex-1 py-2 text-sm border border-slate-300 rounded hover:bg-slate-100 dark:hover:bg-slate-700 transition"
                >
                  Kh√¥ng x√∫c t√°c
                </button>
                <button
                  onclick="runCatalyst(true)"
                  class="flex-1 py-2 text-sm bg-red-500 text-white rounded hover:bg-red-600 transition shadow-lg shadow-red-500/30"
                >
                  Th√™m MnO‚ÇÇ
                </button>
              </div>

              <div
                class="bg-white dark:bg-slate-900 rounded-xl border border-slate-200 dark:border-slate-700 h-48 relative flex items-end justify-center gap-12 pb-4"
              >
                <!-- Tube 1 -->
                <div
                  class="relative w-12 h-32 border-2 border-slate-400 border-t-0 rounded-b-lg bg-blue-50/30"
                >
                  <div
                    class="absolute bottom-0 w-full h-16 bg-blue-200/50"
                  ></div>
                  <div
                    id="bubbles-1"
                    class="absolute bottom-0 w-full h-16 overflow-hidden"
                  ></div>
                  <span
                    class="absolute -bottom-6 w-full text-center text-[10px]"
                    >Th∆∞·ªùng</span
                  >
                </div>
                <!-- Tube 2 -->
                <div
                  class="relative w-12 h-32 border-2 border-slate-400 border-t-0 rounded-b-lg bg-blue-50/30"
                >
                  <div
                    class="absolute bottom-0 w-full h-16 bg-blue-200/50"
                  ></div>
                  <div
                    id="mno2-powder"
                    class="absolute bottom-0 w-full h-2 bg-black hidden"
                  ></div>
                  <div
                    id="bubbles-2"
                    class="absolute bottom-0 w-full h-16 overflow-hidden"
                  ></div>
                  <span
                    class="absolute -bottom-6 w-full text-center text-[10px] text-red-500 font-bold"
                    >+ MnO‚ÇÇ</span
                  >
                </div>
              </div>
              <div class="mt-4 text-xs italic" id="catalyst-desc">
                Ch·ªçn ƒëi·ªÅu ki·ªán...
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- TOPIC 6: N·ªíNG ƒê·ªò DUNG D·ªäCH -->
      <section id="topic6" class="scroll-mt-24">
        <div class="flex items-center gap-4 mb-8">
          <div
            class="w-12 h-12 rounded-xl bg-pink-100 dark:bg-pink-900 flex items-center justify-center text-pink-600 text-xl"
          >
            <i class="fas fa-vial"></i>
          </div>
          <h2 class="font-display text-3xl font-bold">VI. N·ªìng ƒê·ªô Dung D·ªãch</h2>
        </div>

        <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
          <!-- Theory -->
          <div class="space-y-6">
            <div class="glass-card p-6 rounded-xl border-l-4 border-pink-500">
              <h4 class="font-bold text-lg mb-2">1. Ki·∫øn th·ª©c</h4>
              <p
                class="font-mono bg-slate-100 dark:bg-slate-800 p-2 rounded text-center text-sm mb-2"
              >
                C% = (mct / mdd) √ó 100%
              </p>
              <p
                class="font-mono bg-slate-100 dark:bg-slate-800 p-2 rounded text-center text-sm"
              >
                CM = n / V (mol/l)
              </p>
            </div>

            <div class="glass-card p-6 rounded-xl border-l-4 border-purple-500">
              <h4 class="font-bold text-lg mb-2">2. B√†i t·∫≠p v·∫≠n d·ª•ng</h4>
              <div class="text-sm space-y-3">
                <p>
                  <strong>B√†i 1:</strong> 20g mu·ªëi + 80g n∆∞·ªõc.<br />
                  mdd = 20 + 80 = 100g. <br />
                  <span class="font-bold text-pink-600"
                    >=> C% = (20/100)*100 = 20%.</span
                  >
                </p>

                <p>
                  <strong>B√†i 2:</strong> 200ml dd ch·ª©a 0.1 mol NaOH.<br />
                  V = 0.2 l√≠t. <br />
                  <span class="font-bold text-purple-600"
                    >=> CM = 0.1 / 0.2 = 0.5 M.</span
                  >
                </p>
              </div>
            </div>
          </div>

          <!-- Simulation: Mixing -->
          <div class="glass-card p-6 rounded-2xl">
            <h3 class="font-bold mb-2 text-center">
              3. Th√≠ nghi·ªám: Pha 100g dd ƒê∆∞·ªùng 15%
            </h3>
            <p class="text-xs text-center text-slate-500 mb-4">
              T√≠nh to√°n: m(ƒë∆∞·ªùng) = 15g, m(n∆∞·ªõc) = 85g.
            </p>

            <div class="flex flex-col items-center">
              <div
                class="relative w-40 h-48 border-2 border-slate-400 border-t-0 rounded-b-xl mb-4 bg-white/5"
              >
                <div
                  id="solute"
                  class="absolute bottom-0 w-full h-0 bg-white opacity-80 transition-all duration-500"
                ></div>
                <!-- Sugar -->
                <div
                  id="solvent"
                  class="absolute bottom-0 w-full h-0 bg-blue-300 opacity-40 transition-all duration-500"
                ></div>
                <!-- Water -->
                <div
                  class="absolute top-1/2 left-1/2 -translate-x-1/2 text-xs font-mono"
                  id="beaker-label"
                >
                  Tr·ªëng
                </div>
              </div>

              <div class="flex gap-2 mb-4">
                <button
                  onclick="addSugar()"
                  class="px-3 py-1 bg-white border border-slate-300 rounded text-sm hover:bg-slate-50 dark:bg-slate-700 dark:border-slate-600"
                >
                  B1: +15g ƒê∆∞·ªùng
                </button>
                <button
                  onclick="addWater()"
                  class="px-3 py-1 bg-blue-100 border border-blue-200 text-blue-700 rounded text-sm hover:bg-blue-200"
                >
                  B2: +85g N∆∞·ªõc
                </button>
                <button
                  onclick="mixSolution()"
                  class="px-3 py-1 bg-pink-500 text-white rounded text-sm hover:bg-pink-600"
                >
                  B3: Khu·∫•y
                </button>
              </div>
              <div id="concentration-result" class="font-bold text-pink-600">
                C% = 0%
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- GAME H√ìA - B√ÄI T·∫¨P C·ª¶NG C·ªê -->
      <section id="quiz" class="py-12">
        <div
          class="glass-panel p-8 rounded-3xl border border-primary/20 shadow-2xl shadow-primary/10 relative overflow-hidden"
        >
          <div class="absolute top-0 left-0 w-full h-2 bg-slate-200">
            <div
              id="progress-bar"
              class="h-full bg-gradient-to-r from-primary to-accent w-0 transition-all duration-500"
            ></div>
          </div>

          <div class="text-center mb-8 mt-4">
            <span
              class="text-accent font-bold tracking-widest uppercase text-sm"
              >Th·ª≠ Th√°ch</span
            >
            <h2 class="text-3xl font-display font-bold mt-2">
              Ki·ªÉm Tra Ki·∫øn Th·ª©c
            </h2>
          </div>

          <div id="quiz-container" class="max-w-2xl mx-auto">
            <!-- Question injected here -->
            <div id="question-box" class="text-center space-y-6">
              <h3 id="question-text" class="text-xl font-medium">Loading...</h3>
              <div
                id="options-grid"
                class="grid grid-cols-1 md:grid-cols-2 gap-4"
              >
                <!-- Options -->
              </div>
              <p id="feedback" class="h-6 text-sm font-bold"></p>
            </div>

            <!-- Result Screen (Hidden by default) -->
            <div id="result-box" class="hidden text-center">
              <div class="text-6xl mb-4">üéâ</div>
              <h3 class="text-2xl font-bold mb-2">Ho√†n Th√†nh Xu·∫•t S·∫Øc!</h3>
              <p class="text-slate-500 mb-6">
                B·∫°n ƒë√£ n·∫Øm v·ªØng c√°c ki·∫øn th·ª©c c∆° b·∫£n.
              </p>
              <button
                onclick="resetQuiz()"
                class="px-6 py-2 bg-primary text-white rounded-full"
              >
                L√†m l·∫°i
              </button>
            </div>
          </div>
        </div>
      </section>

      <!-- Action Buttons (From Prompt) -->
      <div
        class="flex flex-col sm:flex-row justify-center items-center gap-6 mt-12 mb-20"
      >
        <button
          onclick="window.location.href = 'bai_tap.html'"
          style="
            display: inline-flex;
            align-items: center;
            gap: 10px;
            padding: 14px 30px;
            font-size: 1rem;
            font-weight: 600;
            border-radius: 999px;
            border: none;
            cursor: pointer;
            color: #fff;
            background: linear-gradient(135deg, #3b82f6, #6366f1);
            box-shadow: 0 10px 30px rgba(59, 130, 246, 0.35);
            transition: 0.3s ease;
          "
          onmouseover="
            this.style.transform = 'translateY(-3px) scale(1.03)';
            this.style.boxShadow = '0 18px 45px rgba(99,102,241,.55)';
          "
          onmouseout="
            this.style.transform = 'translateY(0) scale(1)';
            this.style.boxShadow = '0 10px 30px rgba(59,130,246,.35)';
          "
        >
          <i class="fas fa-pen-to-square"></i> B√†i t·∫≠p c·ªßng c·ªë
        </button>

        <button
          onclick="window.location.href = '../chemstudybaby.html'"
          style="
            display: inline-flex;
            align-items: center;
            gap: 10px;
            padding: 14px 30px;
            font-size: 1rem;
            font-weight: 600;
            border-radius: 999px;
            border: none;
            cursor: pointer;
            color: #fff;
            background: linear-gradient(135deg, #22c55e, #16a34a);
            box-shadow: 0 10px 30px rgba(34, 197, 94, 0.35);
            transition: 0.3s ease;
          "
          onmouseover="
            this.style.transform = 'translateY(-3px)';
            this.style.boxShadow = '0 18px 45px rgba(22,163,74,.55)';
          "
          onmouseout="
            this.style.transform = 'translateY(0)';
            this.style.boxShadow = '0 10px 30px rgba(34,197,94,.35)';
          "
        >
          <i class="fas fa-arrow-left"></i> Quay v·ªÅ CS Junior
        </button>
      </div>
    </main>

    <!-- Footer (From Prompt - EXACT STRUCTURE) -->
    <footer>
      <div class="footer-waves"></div>
      <div class="footer-grid">
        <div class="footer-brand" data-aos="fade-right">
          <h2>EDUMATTER</h2>
          <p style="color: #94a3b8; line-height: 1.8">
            Ki·∫øn t·∫°o m√¥i tr∆∞·ªùng h·ªçc t·∫≠p c·∫£m x√∫c, n∆°i tri th·ª©c ƒë∆∞·ª£c s·ªë h√≥a v√†
            truy·ªÅn t·∫£i ƒë·∫ßy c·∫£m h·ª©ng.
          </p>
          <div style="display: flex; gap: 15px; margin-top: 30px">
            <a href="https://www.facebook.com/ducnt214" class="icon-btn"
              ><i class="fab fa-facebook" alt="facebook"></i
            ></a>
            <a href="https://github.com/ducnt2104" class="icon-btn" alt="github"
              ><i class="fab fa-github"></i
            ></a>
            <a
              href="https://www.tiktok.com/@ktbtcthm210"
              class="icon-btn"
              alt="tiktok"
              ><i class="fab fa-tiktok"></i
            ></a>
          </div>
        </div>
        <div class="footer-links" data-aos="fade-up">
          <h3>Li√™n h·ªá nhanh</h3>
          <div class="contact-item">
            <i class="fas fa-envelope"></i> <span>ducnt21042010@gmail.com</span>
          </div>
          <div class="contact-item">
            <i class="fas fa-phone"></i> <span>034 226 6204</span>
          </div>
          <div class="contact-item">
            <i class="fas fa-location-dot"></i>
            <span>THPT T√¥n ƒê·ª©c Th·∫Øng, ƒê·ªìng Nai</span>
          </div>
        </div>
        <div class="footer-links" data-aos="fade-left">
          <h4>ƒê·ªôi ng≈© DNT</h4>
          <p style="color: #94a3b8">
            "S√°ng t·∫°o kh√¥ng ng·ª´ng - V∆∞∆°n t·∫ßm tri th·ª©c"
          </p>
          <div
            style="
              margin-top: 20px;
              padding: 15px;
              background: rgba(255, 255, 255, 0.05);
              border-radius: 15px;
            "
          >
            <p style="font-size: 0.8rem; color: #fff">
              D·ª± √°n ƒë∆∞·ª£c ph√°t tri·ªÉn b·ªüi c√°c th√†nh vi√™n ƒëam m√™ c√¥ng ngh·ªá t·∫°i Vi·ªát
              Nam.
            </p>
          </div>
        </div>
      </div>
      <div class="copyright">
        <p>
          ¬© 2024 EDUMATTER Educational Ecosystem. Designed with
          <i class="fas fa-heart" style="color: #ef4444"></i> by DNT Team.
        </p>
      </div>
    </footer>

    <!-- LOGIC JAVASCRIPT -->
    <script>
      // --- 1. Dark Mode Logic ---
      const themeToggle = document.getElementById("theme-toggle");
      const html = document.documentElement;

      // Check local storage or system preference
      if (
        localStorage.theme === "dark" ||
        (!("theme" in localStorage) &&
          window.matchMedia("(prefers-color-scheme: dark)").matches)
      ) {
        html.classList.add("dark");
      } else {
        html.classList.remove("dark");
      }

      themeToggle.addEventListener("click", () => {
        html.classList.toggle("dark");
        localStorage.theme = html.classList.contains("dark") ? "dark" : "light";
      });

      // --- 2. Topic 1: Physical vs Chemical Simulation ---
      function runSim1(type) {
        const display = document.getElementById("sim1-content");
        const feedback = document.getElementById("sim1-feedback");

        display.style.opacity = "0";

        setTimeout(() => {
          if (type === "physical") {
            display.innerHTML = `
                        <div class="animate-bounce">
                            <i class="fas fa-water text-6xl text-blue-500 mb-2"></i>
                            <p>N∆∞·ªõc L·ªèng</p>
                        </div>`;
            feedback.textContent =
              "Hi·ªán t∆∞·ª£ng: N∆∞·ªõc ƒë√° tan ch·∫£y th√†nh n∆∞·ªõc l·ªèng. Ch·∫•t v·∫´n l√† H‚ÇÇO. -> Bi·∫øn ƒë·ªïi V·∫¨T L√ç.";
            feedback.className =
              "mt-4 text-sm text-center font-bold text-blue-600";
          } else {
            display.innerHTML = `
                        <div class="animate-pulse">
                            <i class="fas fa-fire-flame-simple text-6xl text-orange-500 mb-2"></i>
                            <i class="fas fa-smog text-4xl text-gray-400 absolute top-0 right-10 animate-float"></i>
                            <p>Tro & Kh√≠</p>
                        </div>`;
            feedback.textContent =
              "Hi·ªán t∆∞·ª£ng: Gi·∫•y ch√°y th√†nh than v√† kh√≠ CO‚ÇÇ. Ch·∫•t ƒë√£ bi·∫øn ƒë·ªïi. -> Bi·∫øn ƒë·ªïi H√ìA H·ªåC.";
            feedback.className =
              "mt-4 text-sm text-center font-bold text-red-600";
          }
          display.style.opacity = "1";
        }, 300);
      }

      // --- 3. Topic 2: Fe + S Reaction Simulation ---
      let sim2State = 0;
      function sim2Action(action) {
        const log = document.getElementById("sim2-log");
        const sub = document.getElementById("sim2-substance");
        const fire = document.getElementById("sim2-fire");
        const magnet = document.getElementById("sim2-magnet");
        const label = document.getElementById("sim2-label");

        if (action === "mix") {
          sub.className =
            "w-24 h-8 bg-gradient-to-r from-gray-400 to-yellow-300 rounded mx-auto mb-2 transition-colors duration-1000";
          label.innerText = "H·ªón h·ª£p Fe (X√°m) + S (V√†ng)";
          log.innerHTML += `<br>> ƒê√£ tr·ªôn Fe v√† S (7:4).`;
          sim2State = 1;
        } else if (action === "magnet_before") {
          if (sim2State < 1) {
            alert("H√£y tr·ªôn tr∆∞·ªõc!");
            return;
          }
          magnet.classList.remove("hidden");
          magnet.style.transform = "translateX(-50px)";
          setTimeout(() => {
            log.innerHTML += `<br>> Nam ch√¢m h√∫t Fe. T√°ch ƒë∆∞·ª£c Fe ra kh·ªèi S. (Ch∆∞a P∆Ø)`;
            magnet.style.transform = "translateX(0px)";
            setTimeout(() => magnet.classList.add("hidden"), 1000);
          }, 500);
        } else if (action === "heat") {
          if (sim2State < 1) {
            alert("H√£y tr·ªôn tr∆∞·ªõc!");
            return;
          }
          fire.classList.remove("hidden");
          log.innerHTML += `<br>> ƒêang ƒëun n√≥ng... Ph·∫£n ·ª©ng t·ªèa nhi·ªát m·∫°nh!`;

          setTimeout(() => {
            fire.classList.add("hidden");
            sub.className = "w-24 h-8 bg-slate-800 rounded mx-auto mb-2"; // Black FeS
            label.innerText = "S·∫£n ph·∫©m FeS (ƒêen)";
            log.innerHTML += `<br>> P∆Ø k·∫øt th√∫c. T·∫°o ch·∫•t r·∫Øn FeS.`;
            sim2State = 2;
          }, 3000);
        } else if (action === "magnet_after") {
          if (sim2State < 2) {
            alert("Ch∆∞a c√≥ ph·∫£n ·ª©ng!");
            return;
          }
          magnet.classList.remove("hidden");
          magnet.style.transform = "translateX(-50px)";
          setTimeout(() => {
            log.innerHTML += `<br>> Nam ch√¢m KH√îNG h√∫t. Fe ƒë√£ t·∫°o th√†nh ch·∫•t m·ªõi FeS.`;
            magnet.style.transform = "translateX(0px)";
            setTimeout(() => magnet.classList.add("hidden"), 1000);
          }, 500);
        }
        log.scrollTop = log.scrollHeight;
      }

      // --- 4. Topic 3: Conservation Scale ---
      let scaleMixed = false;
      function mixChemicals() {
        if (scaleMixed) return;
        const beaker1 = document.getElementById("beaker1");
        const liq2 = document.getElementById("liquid2");
        const resultText = document.getElementById("scale-result");

        // Animation
        beaker1.style.transform = "translate(100px, -50px) rotate(45deg)";
        beaker1.style.opacity = "0"; // Simulate pouring out

        setTimeout(() => {
          liq2.style.height = "80%";
          liq2.classList.remove("bg-yellow-300/50");
          liq2.classList.add("bg-white"); // Precipitate color
          liq2.innerText = "BaSO‚ÇÑ (T·ªßa)";
          resultText.innerText = "mA = mB = 250.00g (Kh·ªëi l∆∞·ª£ng KH√îNG ƒê·ªîI)";
          scaleMixed = true;
        }, 800);
      }

      function resetScale() {
        scaleMixed = false;
        document.getElementById("beaker1").style.transform = "none";
        document.getElementById("beaker1").style.opacity = "1";
        const liq2 = document.getElementById("liquid2");
        liq2.style.height = "50%";
        liq2.className =
          "absolute bottom-0 w-full h-1/2 bg-yellow-300/50 rounded-b-sm flex items-center justify-center text-xs transition-all duration-1000";
        liq2.innerText = "Na‚ÇÇSO‚ÇÑ";
        document.getElementById("scale-result").innerText = "";
      }

      // --- 5. Topic 4: Mol & Volume ---
      function updateBalloon(mol) {
        const balloon = document.getElementById("balloon");
        const volDisplay = document.getElementById("volume-val");
        const molDisplay = document.getElementById("mol-val");

        const size = 4 + mol * 1.5; // base 4rem
        balloon.style.width = `${size}rem`;
        balloon.style.height = `${size}rem`;
        balloon.innerText = `${mol} mol`;

        molDisplay.innerText = mol;
        // V = n * 24.79
        volDisplay.innerText = (mol * 24.79).toFixed(2);
      }

      // --- 6. Topic 5: Catalyst ---
      function runCatalyst(hasCatalyst) {
        const bubbles1 = document.getElementById("bubbles-1");
        const bubbles2 = document.getElementById("bubbles-2");
        const powder = document.getElementById("mno2-powder");
        const desc = document.getElementById("catalyst-desc");

        // Reset
        bubbles1.innerHTML = "";
        bubbles2.innerHTML = "";

        // Create bubbles function
        const createBubbles = (container, rate) => {
          const count = hasCatalyst && container === bubbles2 ? 20 : 5;
          for (let i = 0; i < count; i++) {
            const b = document.createElement("div");
            b.className =
              "absolute bg-white rounded-full opacity-70 animate-float";
            b.style.width = Math.random() * 8 + 4 + "px";
            b.style.height = b.style.width;
            b.style.left = Math.random() * 100 + "%";
            b.style.bottom = Math.random() * 10 + "%";
            b.style.animationDuration = Math.random() * 2 + 0.5 + "s";
            container.appendChild(b);
          }
        };

        if (hasCatalyst) {
          powder.classList.remove("hidden");
          createBubbles(bubbles2, "fast");
          createBubbles(bubbles1, "slow"); // Control
          desc.innerHTML = `<span class="text-red-600 font-bold">Hi·ªán t∆∞·ª£ng:</span> ·ªêng c√≥ MnO‚ÇÇ s·ªßi b·ªçt kh√≠ O‚ÇÇ r·∫•t m·∫°nh. MnO‚ÇÇ l√† x√∫c t√°c.`;
        } else {
          powder.classList.add("hidden");
          createBubbles(bubbles1, "slow");
          desc.innerHTML = `H‚ÇÇO‚ÇÇ t·ª± ph√¢n h·ªßy r·∫•t ch·∫≠m.`;
        }
      }

      // --- 7. Topic 6: Concentration ---
      let sugarMass = 0;
      let waterMass = 0;
      let isMixed = false;

      function addSugar() {
        if (isMixed) resetConcentration();
        sugarMass += 15;
        document.getElementById("solute").style.height = "15%"; // Visual only
        document.getElementById("solute").style.backgroundColor = "#fff";
        document.getElementById("beaker-label").innerText =
          `ƒê∆∞·ªùng: ${sugarMass}g`;
      }
      function addWater() {
        if (isMixed) resetConcentration();
        waterMass += 85;
        document.getElementById("solvent").style.height = "70%"; // Visual
        document.getElementById("beaker-label").innerText =
          `N∆∞·ªõc: ${waterMass}g`;
      }
      function mixSolution() {
        if (sugarMass === 0 || waterMass === 0) {
          alert("C·∫ßn c·∫£ ƒë∆∞·ªùng v√† n∆∞·ªõc!");
          return;
        }
        isMixed = true;
        document.getElementById("solute").style.opacity = "0"; // Dissolved
        document.getElementById("solvent").style.backgroundColor =
          "rgba(255, 255, 255, 0.8)"; // Syrupy look
        document.getElementById("solvent").style.height = "85%";

        const c_percent = (sugarMass / (sugarMass + waterMass)) * 100;
        document.getElementById("beaker-label").innerText = "Dung d·ªãch 15%";
        document.getElementById("concentration-result").innerText =
          `C% = (${sugarMass} / ${sugarMass + waterMass}) * 100% = ${c_percent}%`;
      }
      function resetConcentration() {
        sugarMass = 0;
        waterMass = 0;
        isMixed = false;
        document.getElementById("solute").style.height = "0";
        document.getElementById("solute").style.opacity = "0.8";
        document.getElementById("solvent").style.height = "0";
        document.getElementById("solvent").style.backgroundColor = "#93c5fd";
        document.getElementById("concentration-result").innerText = "C% = 0%";
        document.getElementById("beaker-label").innerText = "Tr·ªëng";
      }

      // --- 8. Gamified Quiz ---
      const questions = [
        {
          q: "Hi·ªán t∆∞·ª£ng n√†o sau ƒë√¢y l√† bi·∫øn ƒë·ªïi H√ìA H·ªåC?",
          options: [
            "N∆∞·ªõc ƒë√° tan ch·∫£y",
            "ƒê∆∞·ªùng tan trong n∆∞·ªõc",
            "ƒê·ªët ch√°y m·∫©u gi·∫•y",
            "D√¢y s·∫Øt b·ªã c·∫Øt nh·ªè",
          ],
          correct: 2,
          hint: "T√¨m qu√° tr√¨nh t·∫°o ra ch·∫•t m·ªõi (m√†u s·∫Øc, m√πi, kh√≠...).",
        },
        {
          q: "ƒê·ªÉ ch·ª©ng minh ƒë·ªãnh lu·∫≠t b·∫£o to√†n kh·ªëi l∆∞·ª£ng, ta c·∫ßn d·ª•ng c·ª• g√¨?",
          options: ["ƒê√®n c·ªìn", "C√¢n ƒëi·ªán t·ª≠", "·ªêng nghi·ªám", "K·∫πp g·ªó"],
          correct: 1,
          hint: "D·ª•ng c·ª• d√πng ƒë·ªÉ ƒëo kh·ªëi l∆∞·ª£ng.",
        },
        {
          q: "Ch·∫ª nh·ªè c·ªßi gi√∫p b·∫øp ch√°y to h∆°n v√¨:",
          options: [
            "TƒÉng nhi·ªát ƒë·ªô",
            "TƒÉng n·ªìng ƒë·ªô O2",
            "TƒÉng di·ªán t√≠ch ti·∫øp x√∫c",
            "C√≥ ch·∫•t x√∫c t√°c",
          ],
          correct: 2,
          hint: "Ch·∫ª nh·ªè l√†m tƒÉng b·ªÅ m·∫∑t ti·∫øp x√∫c v·ªõi kh√¥ng kh√≠.",
        },
        {
          q: "·ªû ƒëi·ªÅu ki·ªán chu·∫©n (25¬∞C, 1 bar), 1 mol kh√≠ chi·∫øm th·ªÉ t√≠ch bao nhi√™u?",
          options: ["22.4 l√≠t", "24.79 l√≠t", "22.79 l√≠t", "24.4 l√≠t"],
          correct: 1,
          hint: "Con s·ªë m·ªõi trong ch∆∞∆°ng tr√¨nh GDPT 2018.",
        },
      ];

      let currentQ = 0;
      let score = 0;

      function loadQuiz() {
        if (currentQ >= questions.length) {
          document.getElementById("question-box").classList.add("hidden");
          document.getElementById("result-box").classList.remove("hidden");
          return;
        }

        const qData = questions[currentQ];
        document.getElementById("question-text").innerText =
          `C√¢u ${currentQ + 1}: ${qData.q}`;
        document.getElementById("feedback").innerText = "";

        const grid = document.getElementById("options-grid");
        grid.innerHTML = "";

        qData.options.forEach((opt, idx) => {
          const btn = document.createElement("button");
          btn.className =
            "p-4 rounded-xl border border-slate-200 dark:border-slate-700 hover:bg-blue-50 dark:hover:bg-slate-700 transition-all text-left text-sm";
          btn.innerText = opt;
          btn.onclick = () => checkAnswer(idx, btn);
          grid.appendChild(btn);
        });

        // Update progress
        const pct = (currentQ / questions.length) * 100;
        document.getElementById("progress-bar").style.width = `${pct}%`;
      }

      function checkAnswer(selectedIdx, btnElement) {
        const qData = questions[currentQ];
        const feedback = document.getElementById("feedback");

        // Disable all buttons
        const btns = document.querySelectorAll("#options-grid button");
        btns.forEach((b) => (b.disabled = true));

        if (selectedIdx === qData.correct) {
          btnElement.classList.add(
            "bg-green-500",
            "text-white",
            "border-green-500",
          );
          feedback.innerText = "Ch√≠nh x√°c! üéâ";
          feedback.className = "text-green-500 font-bold mt-4 animate-bounce";
          score++;
          setTimeout(() => {
            currentQ++;
            loadQuiz();
          }, 1500);
        } else {
          btnElement.classList.add(
            "bg-red-500",
            "text-white",
            "border-red-500",
          );
          feedback.innerText = `Sai r·ªìi! G·ª£i √Ω: ${qData.hint}`;
          feedback.className = "text-red-500 font-bold mt-4";

          // Highlight correct answer
          btns[qData.correct].classList.add(
            "bg-green-100",
            "dark:bg-green-900",
            "border-green-500",
          );

          setTimeout(() => {
            currentQ++;
            loadQuiz();
          }, 2500); // Wait longer for reading hint
        }
      }

      function resetQuiz() {
        currentQ = 0;
        score = 0;
        document.getElementById("question-box").classList.remove("hidden");
        document.getElementById("result-box").classList.add("hidden");
        loadQuiz();
      }

      // Init Quiz
      loadQuiz();
    </script>
  </body>
</html>
