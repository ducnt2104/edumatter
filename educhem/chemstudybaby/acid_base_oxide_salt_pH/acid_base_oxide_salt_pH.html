<!DOCTYPE html>
<html lang="vi" class="scroll-smooth">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Ch·ªß ƒê·ªÅ 2: H·ª£p Ch·∫•t V√¥ C∆°</title>
    <link rel="icon" href="../../../favicon/educhem.svg" type="image/svg+xml" />
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Font Awesome -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />
    <!-- Google Fonts -->
    <link
      href="https://fonts.googleapis.com/css2?family=Quicksand:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <!-- Confetti -->
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>

    <script>
      tailwind.config = {
        darkMode: "class",
        theme: {
          extend: {
            fontFamily: {
              sans: ["Quicksand", "sans-serif"],
            },
            colors: {
              primary: "#6366f1", // Indigo
              secondary: "#ec4899", // Pink
            },
            animation: {
              "bounce-slow": "bounce 3s infinite",
              "pulse-slow": "pulse 3s cubic-bezier(0.4, 0, 0.6, 1) infinite",
            },
          },
        },
      };
    </script>

    <style>
      /* Custom Scrollbar */
      ::-webkit-scrollbar {
        width: 10px;
      }
      ::-webkit-scrollbar-track {
        background: #f1f5f9;
      }
      ::-webkit-scrollbar-thumb {
        background: #94a3b8;
        border-radius: 5px;
      }
      ::-webkit-scrollbar-thumb:hover {
        background: #64748b;
      }
      .dark ::-webkit-scrollbar-track {
        background: #0f172a;
      }
      .dark ::-webkit-scrollbar-thumb {
        background: #475569;
      }

      /* Chemistry Visuals */
      .precipitate {
        width: 100%;
        height: 20px;
        background: white;
        position: absolute;
        bottom: 0;
        filter: blur(2px);
        opacity: 0;
        transition: opacity 1s, height 2s;
      }

      .tree-part {
        transition: transform 0.5s, fill 0.5s;
        transform-origin: center bottom;
      }

      /* Nav Link Active State */
      .nav-link.active {
        color: #6366f1;
        font-weight: 700;
        border-bottom: 2px solid #6366f1;
      }
      .dark .nav-link.active {
        color: #818cf8;
        border-color: #818cf8;
      }
    </style>
  </head>
  <body
    class="bg-gray-50 text-slate-800 dark:bg-slate-900 dark:text-slate-100 transition-colors duration-300"
  >
    <!-- TOP NAVIGATION -->
    <header
      class="fixed top-0 w-full z-50 bg-white/95 dark:bg-slate-900/95 backdrop-blur shadow-sm border-b border-slate-200 dark:border-slate-800"
    >
      <div class="max-w-7xl mx-auto px-4">
        <div class="flex justify-between items-center h-16">
          <!-- Logo -->
          <div class="flex items-center gap-2">
            <a
              href="../chemstudybaby.html"
              class="w-8 h-8 rounded-full bg-slate-100 dark:bg-slate-800 flex items-center justify-center hover:bg-slate-200 transition text-slate-600 dark:text-slate-300"
            >
              <i class="fa-solid fa-arrow-left"></i>
            </a>
            <span
              class="font-bold text-xl bg-clip-text text-transparent bg-gradient-to-r from-indigo-500 to-pink-500"
            >
              ChemStudy Baby - H√≥a H·ªçc 8<br />
              h·ª£p ch·∫•t v√¥ c∆°</span
            >
          </div>

          <!-- Desktop Menu -->
          <nav
            class="hidden md:flex space-x-6 text-sm font-medium text-slate-600 dark:text-slate-300"
          >
            <a href="#acid" class="nav-link hover:text-indigo-500 py-2">Acid</a>
            <a href="#base" class="nav-link hover:text-indigo-500 py-2">Base</a>
            <a href="#ph" class="nav-link hover:text-indigo-500 py-2">pH</a>
            <a href="#oxide" class="nav-link hover:text-indigo-500 py-2"
              >Oxide</a
            >
            <a href="#salt" class="nav-link hover:text-indigo-500 py-2">Mu·ªëi</a>
            <a href="#fertilizer" class="nav-link hover:text-indigo-500 py-2"
              >Ph√¢n b√≥n</a
            >
            <a
              href="#quiz"
              class="px-4 py-2 bg-indigo-600 text-white rounded-full hover:bg-indigo-700 transition shadow-lg shadow-indigo-500/30"
              >Luy·ªán T·∫≠p</a
            >
          </nav>

          <!-- Controls -->
          <div class="flex items-center gap-3">
            <button
              id="theme-btn"
              class="p-2 rounded-full hover:bg-slate-100 dark:hover:bg-slate-800 text-slate-600 dark:text-yellow-400 transition"
            >
              <i class="fa-solid fa-sun hidden dark:block"></i>
              <i class="fa-solid fa-moon dark:hidden"></i>
            </button>
            <button
              class="md:hidden p-2 text-slate-600 dark:text-slate-300"
              onclick="document.getElementById('mobile-nav').classList.toggle('hidden')"
            >
              <i class="fa-solid fa-bars text-xl"></i>
            </button>
          </div>
        </div>
      </div>

      <!-- Mobile Nav -->
      <div
        id="mobile-nav"
        class="hidden md:hidden border-t border-slate-200 dark:border-slate-800 bg-white dark:bg-slate-900"
      >
        <div class="grid grid-cols-2 gap-2 p-4">
          <a
            href="#acid"
            class="p-3 rounded-lg bg-slate-50 dark:bg-slate-800 text-center hover:bg-indigo-50 dark:hover:bg-indigo-900/30"
            >Acid</a
          >
          <a
            href="#base"
            class="p-3 rounded-lg bg-slate-50 dark:bg-slate-800 text-center hover:bg-indigo-50 dark:hover:bg-indigo-900/30"
            >Base</a
          >
          <a
            href="#ph"
            class="p-3 rounded-lg bg-slate-50 dark:bg-slate-800 text-center hover:bg-indigo-50 dark:hover:bg-indigo-900/30"
            >pH</a
          >
          <a
            href="#oxide"
            class="p-3 rounded-lg bg-slate-50 dark:bg-slate-800 text-center hover:bg-indigo-50 dark:hover:bg-indigo-900/30"
            >Oxide</a
          >
          <a
            href="#salt"
            class="p-3 rounded-lg bg-slate-50 dark:bg-slate-800 text-center hover:bg-indigo-50 dark:hover:bg-indigo-900/30"
            >Mu·ªëi</a
          >
          <a
            href="#fertilizer"
            class="p-3 rounded-lg bg-slate-50 dark:bg-slate-800 text-center hover:bg-indigo-50 dark:hover:bg-indigo-900/30"
            >Ph√¢n b√≥n</a
          >
          <a
            href="#quiz"
            class="col-span-2 p-3 rounded-lg bg-indigo-600 text-white text-center font-bold"
            >Luy·ªán T·∫≠p</a
          >
        </div>
      </div>
    </header>

    <main class="pt-16">
      <!-- HERO SECTION -->
      <section
        class="min-h-[50vh] flex flex-col items-center justify-center text-center p-8 bg-gradient-to-b from-indigo-50 to-white dark:from-slate-900 dark:to-slate-800"
      >
        <div
          class="w-20 h-20 bg-white dark:bg-slate-700 rounded-2xl shadow-xl flex items-center justify-center mb-6 animate-bounce-slow text-4xl text-indigo-500"
        >
          <i class="fa-solid fa-flask"></i>
        </div>
        <h1
          class="text-4xl md:text-6xl font-black mb-4 bg-clip-text text-transparent bg-gradient-to-r from-indigo-600 to-pink-600"
        >
          H·ª£p Ch·∫•t V√¥ C∆°
        </h1>
        <p class="text-lg text-slate-600 dark:text-slate-400 max-w-2xl">
          Kh√°m ph√° t√≠nh ch·∫•t h√≥a h·ªçc, ph·∫£n ·ª©ng v√† ·ª©ng d·ª•ng th·ª±c t·∫ø th√¥ng qua c√°c
          th√≠ nghi·ªám m√¥ ph·ªèng t∆∞∆°ng t√°c.
        </p>
        <div class="mt-8 animate-bounce">
          <i class="fa-solid fa-chevron-down text-slate-400"></i>
        </div>
      </section>

      <!-- I. ACID -->
      <section
        id="acid"
        class="py-16 px-4 md:px-8 max-w-7xl mx-auto scroll-mt-20 border-t border-slate-200 dark:border-slate-800"
      >
        <div class="grid lg:grid-cols-2 gap-12 items-start">
          <!-- Theory -->
          <div class="space-y-6">
            <div class="flex items-center gap-4 mb-4">
              <span
                class="w-12 h-12 rounded-xl bg-red-100 text-red-600 flex items-center justify-center font-bold text-xl"
                >I</span
              >
              <h2 class="text-3xl font-bold text-slate-800 dark:text-white">
                ACID (AXIT)
              </h2>
            </div>
            <div
              class="bg-white dark:bg-slate-800 p-6 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700"
            >
              <ul class="space-y-4">
                <li class="flex gap-3">
                  <i class="fa-solid fa-circle-check text-green-500 mt-1"></i>
                  <div>
                    <span class="font-bold block">Kh√°i ni·ªám:</span>
                    Ph√¢n t·ª≠ c√≥ H li√™n k·∫øt v·ªõi g·ªëc axit. Tan trong n∆∞·ªõc t·∫°o H‚Å∫.
                  </div>
                </li>
                <li class="flex gap-3">
                  <i class="fa-solid fa-flask text-indigo-500 mt-1"></i>
                  <div>
                    <span class="font-bold block">T√≠nh ch·∫•t h√≥a h·ªçc:</span>
                    <ul
                      class="list-disc pl-4 text-sm mt-1 text-slate-600 dark:text-slate-400"
                    >
                      <li>Qu·ª≥ t√≠m ‚Üí <b>ƒê·ªé</b>.</li>
                      <li>T√°c d·ª•ng kim lo·∫°i (tr∆∞·ªõc H) ‚Üí Mu·ªëi + H‚ÇÇ.</li>
                      <li>T√°c d·ª•ng Baz∆°/Oxit Baz∆° ‚Üí Mu·ªëi + N∆∞·ªõc.</li>
                    </ul>
                  </div>
                </li>
              </ul>
            </div>
          </div>

          <!-- Simulation -->
          <div
            class="bg-slate-100 dark:bg-slate-800/50 p-6 rounded-3xl border-2 border-dashed border-red-300/50"
          >
            <h3
              class="font-bold text-center mb-6 text-red-500 uppercase tracking-widest text-sm"
            >
              Th√≠ nghi·ªám ·∫£o: T√≠nh ch·∫•t Axit
            </h3>

            <!-- Sim 1 -->
            <div class="mb-8 flex flex-col items-center">
              <p class="mb-2 font-semibold">1. Th·ª≠ Qu·ª≥ T√≠m</p>
              <div class="flex gap-4 items-center">
                <button
                  onclick="simAcidLitmus()"
                  class="px-4 py-2 bg-white dark:bg-slate-700 shadow rounded-lg text-sm hover:scale-105 transition"
                >
                  Nh√∫ng v√†o HCl
                </button>
                <div
                  id="acid-paper"
                  class="w-24 h-6 bg-purple-300 transition-colors duration-500 shadow-inner border border-white/50"
                ></div>
              </div>
            </div>

            <!-- Sim 2 -->
            <div
              class="flex flex-col items-center border-t border-slate-300 dark:border-slate-700 pt-6"
            >
              <p class="mb-4 font-semibold">
                2. Ph·∫£n ·ª©ng v·ªõi Kim Lo·∫°i (Zn + HCl)
              </p>
              <div
                class="relative w-32 h-40 border-2 border-slate-400 border-t-0 rounded-b-xl bg-white/30 backdrop-blur-sm overflow-hidden flex justify-center items-end"
              >
                <div
                  id="acid-liquid"
                  class="w-full h-24 bg-transparent absolute bottom-0 transition-colors duration-500"
                ></div>
                <div class="absolute bottom-2 font-mono text-xs text-slate-500">
                  Dung d·ªãch HCl
                </div>
              </div>
              <button
                onclick="simAcidZn()"
                class="mt-4 px-6 py-2 bg-red-500 text-white rounded-full hover:bg-red-600 shadow-lg shadow-red-500/30 transition"
              >
                <i class="fa-solid fa-arrow-down mr-2"></i>Th·∫£ K·∫Ωm (Zn)
              </button>
              <div
                id="acid-equation"
                class="mt-2 h-6 font-mono font-bold text-red-500 text-sm opacity-0 transition-opacity"
              >
                Zn + 2HCl ‚Üí ZnCl‚ÇÇ + H‚ÇÇ‚Üë
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- II. BASE -->
      <section
        id="base"
        class="py-16 px-4 md:px-8 max-w-7xl mx-auto scroll-mt-20 bg-blue-50/50 dark:bg-blue-900/10 rounded-3xl"
      >
        <div class="grid lg:grid-cols-2 gap-12 items-center">
          <!-- Simulation (Left) -->
          <div
            class="order-2 lg:order-1 bg-white dark:bg-slate-800 p-8 rounded-3xl shadow-xl border border-blue-100 dark:border-blue-800 relative overflow-hidden"
          >
            <div
              class="absolute top-0 left-0 bg-blue-500 text-white text-xs font-bold px-4 py-1 rounded-br-xl"
            >
              M√î PH·ªéNG
            </div>
            <h3 class="text-center font-bold text-blue-600 mb-6">
              Nh·∫≠n bi·∫øt dung d·ªãch Ki·ªÅm
            </h3>

            <div class="flex justify-center mb-8">
              <div
                class="relative w-40 h-52 border-2 border-slate-300 border-t-0 rounded-b-2xl bg-gradient-to-b from-white/10 to-white/30 backdrop-blur shadow-inner overflow-hidden"
              >
                <div
                  id="base-liquid"
                  class="absolute bottom-0 w-full h-32 bg-transparent transition-colors duration-1000"
                ></div>
                <!-- Drops -->
                <div
                  id="base-drop"
                  class="absolute top-0 left-1/2 -translate-x-1/2 w-4 h-4 rounded-full bg-pink-500 opacity-0 transition-all duration-700"
                ></div>
              </div>
            </div>

            <div class="flex justify-center gap-4">
              <button
                onclick="simBasePhenol('add')"
                class="px-5 py-2 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 font-bold text-sm"
              >
                <i class="fa-solid fa-eye-dropper mr-2"></i>Nh·ªè Phenolphthalein
              </button>
              <button
                onclick="simBasePhenol('reset')"
                class="px-5 py-2 bg-slate-100 text-slate-600 rounded-lg hover:bg-slate-200 font-bold text-sm"
              >
                <i class="fa-solid fa-rotate-right"></i>
              </button>
            </div>
            <p id="base-result" class="text-center mt-4 text-sm text-slate-500">
              Dung d·ªãch NaOH ƒëang kh√¥ng m√†u
            </p>
          </div>

          <!-- Theory (Right) -->
          <div class="order-1 lg:order-2 space-y-6">
            <div class="flex items-center gap-4 mb-4">
              <span
                class="w-12 h-12 rounded-xl bg-blue-100 text-blue-600 flex items-center justify-center font-bold text-xl"
                >II</span
              >
              <h2 class="text-3xl font-bold text-slate-800 dark:text-white">
                BASE (BAZ∆†)
              </h2>
            </div>
            <div class="grid grid-cols-2 gap-4">
              <div class="p-4 bg-white dark:bg-slate-800 rounded-xl shadow-sm">
                <h4 class="font-bold text-blue-500 mb-2">Ki·ªÅm (Tan)</h4>
                <p class="text-sm text-slate-600 dark:text-slate-400">
                  NaOH, KOH, Ba(OH)‚ÇÇ, Ca(OH)‚ÇÇ
                </p>
                <p class="text-xs text-slate-400 mt-1">"Khi N√†o Ba C·∫ßn"</p>
              </div>
              <div class="p-4 bg-white dark:bg-slate-800 rounded-xl shadow-sm">
                <h4 class="font-bold text-slate-500 mb-2">Kh√¥ng Tan</h4>
                <p class="text-sm text-slate-600 dark:text-slate-400">
                  Cu(OH)‚ÇÇ, Fe(OH)‚ÇÉ...
                </p>
                <p class="text-xs text-slate-400 mt-1">B·ªã nhi·ªát ph√¢n h·ªßy</p>
              </div>
            </div>
            <ul
              class="space-y-2 bg-white dark:bg-slate-800 p-6 rounded-2xl shadow-sm"
            >
              <li class="flex items-center gap-2">
                <i class="fa-solid fa-circle text-[8px] text-blue-500"></i> Qu·ª≥
                t√≠m h√≥a <b>Xanh</b>.
              </li>
              <li class="flex items-center gap-2">
                <i class="fa-solid fa-circle text-[8px] text-pink-500"></i>
                Phenolphthalein h√≥a <b>H·ªìng</b>.
              </li>
              <li class="flex items-center gap-2">
                <i class="fa-solid fa-circle text-[8px] text-slate-500"></i> T√°c
                d·ª•ng v·ªõi Acid (Trung h√≤a).
              </li>
            </ul>
          </div>
        </div>
      </section>

      <!-- III. pH -->
      <section
        id="ph"
        class="py-16 px-4 md:px-8 max-w-7xl mx-auto scroll-mt-20"
      >
        <div class="text-center mb-10">
          <span
            class="inline-block py-1 px-3 rounded-full bg-purple-100 text-purple-600 text-xs font-bold mb-2"
            >PH·∫¶N III</span
          >
          <h2 class="text-3xl font-bold text-slate-800 dark:text-white">
            THANG ƒêO pH
          </h2>
          <p class="text-slate-500 mt-2">
            K√©o thanh tr∆∞·ª£t ƒë·ªÉ quan s√°t s·ª± thay ƒë·ªïi t√≠nh ch·∫•t dung d·ªãch
          </p>
        </div>

        <div
          class="max-w-3xl mx-auto bg-white dark:bg-slate-800 rounded-3xl shadow-xl overflow-hidden"
        >
          <div
            id="ph-bg"
            class="h-40 flex flex-col items-center justify-center transition-colors duration-300 text-white"
          >
            <div id="ph-val" class="text-6xl font-black">7.0</div>
            <div id="ph-label" class="text-xl font-medium tracking-widest mt-2">
              TRUNG T√çNH
            </div>
          </div>
          <div class="p-8">
            <input
              type="range"
              min="0"
              max="14"
              step="0.1"
              value="7"
              class="w-full h-4 bg-slate-200 rounded-lg appearance-none cursor-pointer accent-slate-800"
              oninput="simPH(this.value)"
            />
            <div
              class="flex justify-between text-xs font-bold mt-3 text-slate-400 uppercase"
            >
              <span class="text-red-500">Acid M·∫°nh (0)</span>
              <span class="text-green-500">Trung t√≠nh (7)</span>
              <span class="text-blue-500">Baz∆° M·∫°nh (14)</span>
            </div>
            <div
              class="mt-6 p-4 bg-slate-50 dark:bg-slate-700/50 rounded-xl flex items-center gap-4"
            >
              <div
                class="w-10 h-10 rounded-full bg-white dark:bg-slate-600 flex items-center justify-center shadow"
              >
                <i class="fa-solid fa-lightbulb text-yellow-500"></i>
              </div>
              <div>
                <p class="text-xs text-slate-400 uppercase font-bold">
                  V√≠ d·ª• th·ª±c t·∫ø
                </p>
                <p
                  id="ph-example"
                  class="font-bold text-slate-700 dark:text-slate-200"
                >
                  N∆∞·ªõc tinh khi·∫øt
                </p>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- IV. OXIDE -->
      <section
        id="oxide"
        class="py-16 px-4 md:px-8 max-w-7xl mx-auto scroll-mt-20 bg-slate-900 text-white rounded-3xl relative overflow-hidden"
      >
        <div
          class="absolute inset-0 opacity-10 bg-[url('https://www.transparenttextures.com/patterns/cubes.png')]"
        ></div>

        <div class="relative z-10 text-center">
          <div class="flex items-center justify-center gap-3 mb-6">
            <i class="fa-solid fa-gamepad text-orange-400 text-3xl"></i>
            <h2 class="text-3xl font-bold">GAME: PH√ÇN LO·∫†I OXIT</h2>
          </div>
          <p class="text-slate-300 mb-8">
            Ch·ªçn m·ªôt ch·∫•t h√≥a h·ªçc, sau ƒë√≥ b·∫•m v√†o nh√≥m th√≠ch h·ª£p.
          </p>

          <!-- Game Area -->
          <div class="max-w-4xl mx-auto">
            <!-- Source -->
            <div
              id="oxide-source"
              class="flex flex-wrap justify-center gap-3 mb-8 min-h-[60px]"
            >
              <!-- JS Generated -->
            </div>

            <!-- Targets -->
            <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
              <button
                onclick="checkOxide('acidic')"
                class="game-bin p-6 rounded-xl border-2 border-slate-600 hover:border-red-500 hover:bg-red-500/20 transition group"
              >
                <i
                  class="fa-solid fa-cloud text-3xl text-slate-500 group-hover:text-red-400 mb-2"
                ></i>
                <div class="font-bold">Oxit Axit</div>
                <div class="text-xs text-slate-400">(Phi kim)</div>
              </button>
              <button
                onclick="checkOxide('basic')"
                class="game-bin p-6 rounded-xl border-2 border-slate-600 hover:border-blue-500 hover:bg-blue-500/20 transition group"
              >
                <i
                  class="fa-solid fa-gem text-3xl text-slate-500 group-hover:text-blue-400 mb-2"
                ></i>
                <div class="font-bold">Oxit Baz∆°</div>
                <div class="text-xs text-slate-400">(Kim lo·∫°i)</div>
              </button>
              <button
                onclick="checkOxide('ampho')"
                class="game-bin p-6 rounded-xl border-2 border-slate-600 hover:border-purple-500 hover:bg-purple-500/20 transition group"
              >
                <i
                  class="fa-solid fa-scale-balanced text-3xl text-slate-500 group-hover:text-purple-400 mb-2"
                ></i>
                <div class="font-bold">L∆∞·ª°ng t√≠nh</div>
                <div class="text-xs text-slate-400">(Al‚ÇÇO‚ÇÉ, ZnO)</div>
              </button>
              <button
                onclick="checkOxide('neutral')"
                class="game-bin p-6 rounded-xl border-2 border-slate-600 hover:border-gray-400 hover:bg-gray-500/20 transition group"
              >
                <i
                  class="fa-solid fa-ban text-3xl text-slate-500 group-hover:text-gray-300 mb-2"
                ></i>
                <div class="font-bold">Trung t√≠nh</div>
                <div class="text-xs text-slate-400">(NO, CO)</div>
              </button>
            </div>

            <div
              id="game-msg"
              class="mt-6 h-8 font-bold text-lg text-orange-400"
            ></div>
          </div>
        </div>
      </section>

      <!-- V. SALT (MU·ªêI) - T√ÅCH RI√äNG -->
      <section
        id="salt"
        class="py-16 px-4 md:px-8 max-w-7xl mx-auto scroll-mt-20"
      >
        <div class="flex items-center gap-4 mb-8 border-b border-teal-200 pb-4">
          <span
            class="w-12 h-12 rounded-xl bg-teal-100 text-teal-600 flex items-center justify-center font-bold text-xl"
            >V</span
          >
          <h2 class="text-3xl font-bold text-slate-800 dark:text-white">
            MU·ªêI & T√çNH TAN
          </h2>
        </div>

        <div class="grid lg:grid-cols-2 gap-12">
          <!-- Theory -->
          <div
            class="bg-white dark:bg-slate-800 p-8 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 h-full"
          >
            <h3 class="text-xl font-bold text-teal-600 mb-4">
              L√Ω thuy·∫øt c·∫ßn nh·ªõ
            </h3>
            <div class="space-y-4 text-slate-700 dark:text-slate-300">
              <p>
                <b>Kh√°i ni·ªám:</b> Ph√¢n t·ª≠ g·ªìm Cation kim lo·∫°i (ho·∫∑c NH‚ÇÑ‚Å∫) v√†
                Anion g·ªëc axit.
              </p>
              <p>
                <b>Ph√¢n lo·∫°i:</b> <br />- Mu·ªëi trung h√≤a (NaCl, CaCO‚ÇÉ) <br />-
                Mu·ªëi axit (NaHCO‚ÇÉ)
              </p>
              <p>
                <b>T√≠nh tan (Quy t·∫Øc):</b> <br />- T·∫•t c·∫£ mu·ªëi Na, K, NO‚ÇÉ ƒë·ªÅu
                tan. <br />- Mu·ªëi Cl tan (tr·ª´ AgCl). <br />- Mu·ªëi SO‚ÇÑ tan (tr·ª´
                BaSO‚ÇÑ, PbSO‚ÇÑ).
              </p>
            </div>
          </div>

          <!-- NEW SIMULATION: Precipitation -->
          <div
            class="bg-teal-50 dark:bg-teal-900/10 p-6 rounded-3xl border-2 border-dashed border-teal-300"
          >
            <div class="flex items-center justify-between mb-4">
              <h3
                class="font-bold text-teal-700 dark:text-teal-400 uppercase text-sm tracking-widest"
              >
                Th√≠ nghi·ªám: Ph·∫£n ·ª©ng t·∫°o k·∫øt t·ªßa
              </h3>
              <i class="fa-solid fa-vial text-teal-500 text-xl"></i>
            </div>

            <div
              class="bg-white dark:bg-slate-800 p-6 rounded-2xl shadow-sm text-center"
            >
              <p class="text-sm text-slate-500 mb-4">
                Ch·ªçn 2 dung d·ªãch ƒë·ªÉ tr·ªôn v√†o nhau:
              </p>

              <div class="flex gap-2 justify-center mb-6">
                <select
                  id="solA"
                  class="p-2 border rounded bg-slate-50 dark:bg-slate-700"
                >
                  <option value="Na2SO4">Na‚ÇÇSO‚ÇÑ</option>
                  <option value="NaCl">NaCl</option>
                  <option value="Na2CO3">Na‚ÇÇCO‚ÇÉ</option>
                </select>
                <span class="self-center font-bold">+</span>
                <select
                  id="solB"
                  class="p-2 border rounded bg-slate-50 dark:bg-slate-700"
                >
                  <option value="BaCl2">BaCl‚ÇÇ</option>
                  <option value="AgNO3">AgNO‚ÇÉ</option>
                  <option value="HCl">HCl</option>
                </select>
              </div>

              <!-- Beaker -->
              <div
                class="relative w-32 h-40 mx-auto border-2 border-slate-400 border-t-0 rounded-b-xl bg-slate-100 dark:bg-slate-700/50 overflow-hidden flex justify-center items-end"
              >
                <!-- Liquid -->
                <div
                  class="w-full h-3/4 bg-blue-50/50 dark:bg-blue-900/20 absolute bottom-0"
                ></div>
                <!-- Precipitate Layer -->
                <div id="precipitate" class="precipitate"></div>
              </div>

              <button
                onclick="simSaltReaction()"
                class="mt-4 px-6 py-2 bg-teal-500 text-white rounded-lg hover:bg-teal-600 font-bold shadow-lg shadow-teal-500/30"
              >
                Tr·ªôn dung d·ªãch
              </button>
              <p
                id="salt-result"
                class="mt-3 text-sm font-bold min-h-[20px] text-slate-600 dark:text-slate-300"
              ></p>
            </div>
          </div>
        </div>
      </section>

      <!-- VI. FERTILIZER (PH√ÇN B√ìN) - T√ÅCH RI√äNG -->
      <section
        id="fertilizer"
        class="py-16 px-4 md:px-8 max-w-7xl mx-auto scroll-mt-20 border-t border-slate-200 dark:border-slate-800"
      >
        <div class="flex items-center gap-4 mb-8">
          <span
            class="w-12 h-12 rounded-xl bg-green-100 text-green-600 flex items-center justify-center font-bold text-xl"
            >VI</span
          >
          <h2 class="text-3xl font-bold text-slate-800 dark:text-white">
            PH√ÇN B√ìN H√ìA H·ªåC
          </h2>
        </div>

        <div class="grid lg:grid-cols-3 gap-8">
          <!-- Theory Cards -->
          <div
            class="bg-white dark:bg-slate-800 p-6 rounded-2xl shadow-sm border-l-4 border-yellow-400"
          >
            <h3 class="text-2xl font-black text-slate-300 mb-1">N</h3>
            <h4 class="text-lg font-bold text-yellow-500 mb-2">Ph√¢n ƒê·∫°m</h4>
            <p class="text-sm text-slate-600 dark:text-slate-400">
              K√≠ch th√≠ch qu√° tr√¨nh sinh tr∆∞·ªüng, gi√∫p c√¢y ra nhi·ªÅu l√°, c√†nh.
            </p>
          </div>
          <div
            class="bg-white dark:bg-slate-800 p-6 rounded-2xl shadow-sm border-l-4 border-orange-400"
          >
            <h3 class="text-2xl font-black text-slate-300 mb-1">P</h3>
            <h4 class="text-lg font-bold text-orange-500 mb-2">Ph√¢n L√¢n</h4>
            <p class="text-sm text-slate-600 dark:text-slate-400">
              K√≠ch th√≠ch s·ª± ph√°t tri·ªÉn c·ªßa b·ªô r·ªÖ, s·ª± h√¨nh th√†nh hoa v√† qu·∫£.
            </p>
          </div>
          <div
            class="bg-white dark:bg-slate-800 p-6 rounded-2xl shadow-sm border-l-4 border-purple-400"
          >
            <h3 class="text-2xl font-black text-slate-300 mb-1">K</h3>
            <h4 class="text-lg font-bold text-purple-500 mb-2">Ph√¢n Kali</h4>
            <p class="text-sm text-slate-600 dark:text-slate-400">
              TƒÉng s·ª©c ƒë·ªÅ kh√°ng, ch·ªãu h·∫°n, ch·ªãu r√©t, gi√∫p th√¢n c√¢y c·ª©ng c√°p.
            </p>
          </div>
        </div>

        <!-- NEW SIMULATION: Fertilizer Effects -->
        <div
          class="mt-12 bg-green-50 dark:bg-green-900/10 p-8 rounded-3xl border border-green-200 dark:border-green-800 text-center"
        >
          <h3
            class="font-bold text-green-700 dark:text-green-400 mb-6 uppercase tracking-widest"
          >
            M√¥ ph·ªèng: T√°c d·ª•ng ph√¢n b√≥n l√™n c√¢y
          </h3>

          <div
            class="flex flex-col md:flex-row items-center justify-center gap-12"
          >
            <!-- Tree SVG -->
            <div
              class="relative w-48 h-64 bg-white/50 dark:bg-white/5 rounded-full flex items-end justify-center pb-4 shadow-inner"
            >
              <svg
                width="150"
                height="200"
                viewBox="0 0 100 130"
                class="overflow-visible"
              >
                <!-- Roots (P effect) -->
                <path
                  id="tree-roots"
                  d="M50 110 L40 130 M50 110 L60 130 M50 110 L50 135"
                  stroke="#8B4513"
                  stroke-width="2"
                  fill="none"
                  opacity="0.5"
                />
                <!-- Trunk (K effect) -->
                <rect
                  id="tree-trunk"
                  x="45"
                  y="60"
                  width="10"
                  height="50"
                  fill="#8B4513"
                />
                <!-- Leaves (N effect) -->
                <circle
                  id="tree-leaves"
                  cx="50"
                  cy="50"
                  r="30"
                  fill="#22c55e"
                  opacity="0.8"
                />
                <!-- Fruits (K effect extra) -->
                <circle id="fruit-1" cx="35" cy="40" r="0" fill="#ef4444" />
                <circle id="fruit-2" cx="65" cy="50" r="0" fill="#ef4444" />
              </svg>
            </div>

            <!-- Controls -->
            <div class="space-y-3 w-full max-w-xs">
              <p class="text-sm text-slate-500 mb-2">B·∫•m n√∫t ƒë·ªÉ b√≥n ph√¢n:</p>
              <button
                onclick="simFertilizer('N')"
                class="w-full py-3 rounded-lg bg-yellow-400 hover:bg-yellow-500 text-yellow-900 font-bold transition"
              >
                B√≥n ƒê·∫°m (N) - T·ªët L√°
              </button>
              <button
                onclick="simFertilizer('P')"
                class="w-full py-3 rounded-lg bg-orange-400 hover:bg-orange-500 text-orange-900 font-bold transition"
              >
                B√≥n L√¢n (P) - T·ªët R·ªÖ
              </button>
              <button
                onclick="simFertilizer('K')"
                class="w-full py-3 rounded-lg bg-purple-400 hover:bg-purple-500 text-purple-900 font-bold transition"
              >
                B√≥n Kali (K) - Ch·∫Øc C√¢y
              </button>
              <button
                onclick="simFertilizer('reset')"
                class="w-full py-2 rounded-lg border border-slate-300 text-slate-500 hover:bg-slate-200 text-sm mt-4"
              >
                Tr·ªìng l·∫°i c√¢y m·ªõi
              </button>
            </div>
          </div>
        </div>
      </section>

      <!-- QUIZ -->
      <section id="quiz" class="py-16 bg-indigo-600 text-white text-center">
        <div class="max-w-2xl mx-auto px-4">
          <h2 class="text-3xl font-bold mb-4">Luy·ªán T·∫≠p Nhanh</h2>
          <p class="mb-8 opacity-90">
            Ki·ªÉm tra ki·∫øn th·ª©c c·ªßa b·∫°n v·ªõi 5 c√¢u h·ªèi tr·∫Øc nghi·ªám.
          </p>

          <div
            id="quiz-box"
            class="bg-white text-slate-800 rounded-2xl p-8 shadow-2xl"
          >
            <div id="quiz-content">
              <div id="q-text" class="text-xl font-bold mb-6">
                S·∫µn s√†ng ch∆∞a?
              </div>
              <div id="q-opts" class="grid gap-3"></div>
            </div>
            <div id="q-feedback" class="mt-4 font-bold h-6"></div>
            <button
              id="start-btn"
              onclick="initQuiz()"
              class="mt-4 px-8 py-3 bg-indigo-600 text-white rounded-full font-bold hover:bg-indigo-700 transition"
            >
              B·∫Øt ƒê·∫ßu
            </button>
          </div>
        </div>
      </section>
    </main>

    <script>
      // --- THEME ---
      const themeBtn = document.getElementById("theme-btn");
      const html = document.documentElement;
      themeBtn.addEventListener("click", () => {
        html.classList.toggle("dark");
      });

      // --- SIM 1: ACID LITMUS ---
      function simAcidLitmus() {
        const paper = document.getElementById("acid-paper");
        paper.style.backgroundColor = "#ef4444"; // Red
        setTimeout(() => {
          alert("Qu·ª≥ t√≠m chuy·ªÉn ƒê·ªé khi g·∫∑p Axit!");
        }, 600);
      }

      // --- SIM 2: ACID ZINC ---
      function simAcidZn() {
        const btn = document.querySelector("button[onclick='simAcidZn()']");
        if (btn.disabled) return;
        btn.disabled = true;

        const liquid = document.getElementById("acid-liquid");
        const eq = document.getElementById("acid-equation");

        // Bubbles animation
        liquid.innerHTML = "";
        for (let i = 0; i < 20; i++) {
          const b = document.createElement("div");
          b.className =
            "absolute bg-white/70 rounded-full w-2 h-2 animate-bounce-slow";
          b.style.left = Math.random() * 100 + "%";
          b.style.bottom = "0";
          b.style.animationDuration = Math.random() + 0.5 + "s";
          liquid.appendChild(b);
        }

        eq.style.opacity = "1";

        setTimeout(() => {
          liquid.innerHTML = "";
          eq.style.opacity = "0";
          btn.disabled = false;
        }, 3000);
      }

      // --- SIM 3: BASE PHENOL ---
      function simBasePhenol(action) {
        const liq = document.getElementById("base-liquid");
        const drop = document.getElementById("base-drop");
        const res = document.getElementById("base-result");

        if (action === "add") {
          drop.style.opacity = "1";
          drop.style.top = "50%"; // Drop falls

          setTimeout(() => {
            liq.style.backgroundColor = "#ec4899"; // Pink
            drop.style.opacity = "0";
            drop.style.top = "0";
            res.innerText = "Dung d·ªãch chuy·ªÉn sang m√†u H·ªíNG!";
            res.className = "text-center mt-4 text-sm font-bold text-pink-500";
          }, 600);
        } else {
          liq.style.backgroundColor = "transparent";
          res.innerText = "Dung d·ªãch NaOH ƒëang kh√¥ng m√†u";
          res.className = "text-center mt-4 text-sm text-slate-500";
        }
      }

      // --- SIM 4: PH ---
      function simPH(val) {
        const display = document.getElementById("ph-val");
        const label = document.getElementById("ph-label");
        const bg = document.getElementById("ph-bg");
        const ex = document.getElementById("ph-example");

        display.innerText = val;

        // Color Logic
        let hue;
        if (val < 7) hue = (val / 7) * 120; // 0 (Red) -> 120 (Green) is wrong direction in HSL usually. Let's fix.
        // Red(0) -> Yellow(60) -> Green(120) -> Cyan(180) -> Blue(240) -> Violet(270)
        // Acid (0-6): Red to Yellowish
        // Neutral (7): Green
        // Base (8-14): Blue to Violet

        let color = "";
        if (val < 3) color = "#ef4444"; // Red
        else if (val < 6) color = "#f97316"; // Orange
        else if (val < 8) color = "#22c55e"; // Green
        else if (val < 11) color = "#3b82f6"; // Blue
        else color = "#8b5cf6"; // Purple

        bg.style.backgroundColor = color;

        if (val < 7) {
          label.innerText = "AXIT";
          ex.innerText =
            val < 3 ? "Axit trong b√¨nh ·∫Øc quy, Chanh" : "C√† ph√™, S·ªØa chua";
        } else if (val == 7) {
          label.innerText = "TRUNG T√çNH";
          ex.innerText = "N∆∞·ªõc tinh khi·∫øt";
        } else {
          label.innerText = "BAZ∆†";
          ex.innerText =
            val < 11 ? "X√† ph√≤ng, Kem ƒë√°nh rƒÉng" : "Thu·ªëc t·∫©y r·ª≠a m·∫°nh";
        }
      }

      // --- SIM 5: OXIDE GAME ---
      const oxides = [
        { t: "SO‚ÇÇ", g: "acidic" },
        { t: "CaO", g: "basic" },
        { t: "Al‚ÇÇO‚ÇÉ", g: "ampho" },
        { t: "CO", g: "neutral" },
        { t: "Na‚ÇÇO", g: "basic" },
        { t: "P‚ÇÇO‚ÇÖ", g: "acidic" },
      ];
      let currentOx = null;

      function initOxideGame() {
        const src = document.getElementById("oxide-source");
        src.innerHTML = "";
        oxides.forEach((ox) => {
          const b = document.createElement("button");
          b.className =
            "ox-item px-4 py-2 bg-slate-700 rounded border border-slate-500 font-bold hover:bg-slate-600 transition";
          b.innerText = ox.t;
          b.onclick = () => {
            document
              .querySelectorAll(".ox-item")
              .forEach((i) => i.classList.remove("bg-yellow-600"));
            b.classList.add("bg-yellow-600");
            currentOx = { ...ox, el: b };
            document.getElementById(
              "game-msg"
            ).innerText = `ƒêang ch·ªçn: ${ox.t}`;
          };
          src.appendChild(b);
        });
      }
      initOxideGame();

      function checkOxide(type) {
        const msg = document.getElementById("game-msg");
        if (!currentOx) {
          msg.innerText = "H√£y ch·ªçn m·ªôt ch·∫•t ·ªü tr√™n tr∆∞·ªõc!";
          msg.classList.add("text-red-400");
          return;
        }
        if (currentOx.g === type) {
          msg.innerText = "Ch√≠nh x√°c! üéâ";
          msg.className = "mt-6 h-8 font-bold text-lg text-green-400";
          currentOx.el.style.display = "none";
          currentOx = null;
          confetti({ particleCount: 50, origin: { y: 0.7 } });
        } else {
          msg.innerText = "Sai r·ªìi, th·ª≠ l·∫°i nh√©!";
          msg.className = "mt-6 h-8 font-bold text-lg text-red-400";
        }
      }

      // --- SIM 6: SALT REACTION (NEW) ---
      function simSaltReaction() {
        const a = document.getElementById("solA").value;
        const b = document.getElementById("solB").value;
        const ppt = document.getElementById("precipitate");
        const res = document.getElementById("salt-result");

        ppt.style.opacity = "0";
        ppt.style.height = "0";
        res.innerText = "ƒêang tr·ªôn...";

        setTimeout(() => {
          // Logic: BaSO4 (white), AgCl (white), BaCO3 (white), Ag2CO3 (white)
          let hasPPT = false;
          let pptName = "";

          if (
            (a === "Na2SO4" && b === "BaCl2") ||
            (a === "BaCl2" && b === "Na2SO4")
          ) {
            hasPPT = true;
            pptName = "BaSO‚ÇÑ (Tr·∫Øng)";
          } else if (a === "NaCl" && b === "AgNO3") {
            hasPPT = true;
            pptName = "AgCl (Tr·∫Øng)";
          } else if (a === "Na2CO3" && b === "BaCl2") {
            hasPPT = true;
            pptName = "BaCO‚ÇÉ (Tr·∫Øng)";
          } else if (a === "Na2CO3" && b === "HCl") {
            res.innerText = "C√≥ kh√≠ bay l√™n! (CO‚ÇÇ)";
            res.className = "mt-3 text-sm font-bold min-h-[20px] text-blue-500";
            return;
          }

          if (hasPPT) {
            ppt.style.opacity = "1";
            ppt.style.height = "40px"; // Accumulate at bottom
            res.innerText = `K·∫øt t·ªßa xu·∫•t hi·ªán: ${pptName}`;
            res.className = "mt-3 text-sm font-bold min-h-[20px] text-teal-600";
          } else {
            res.innerText = "Kh√¥ng c√≥ hi·ªán t∆∞·ª£ng k·∫øt t·ªßa.";
            res.className =
              "mt-3 text-sm font-bold min-h-[20px] text-slate-500";
          }
        }, 500);
      }

      // --- SIM 7: FERTILIZER (NEW) ---
      function simFertilizer(type) {
        const leaves = document.getElementById("tree-leaves");
        const roots = document.getElementById("tree-roots");
        const trunk = document.getElementById("tree-trunk");
        const f1 = document.getElementById("fruit-1");
        const f2 = document.getElementById("fruit-2");

        if (type === "reset") {
          leaves.setAttribute("r", "30");
          roots.setAttribute("stroke-width", "2");
          roots.setAttribute(
            "d",
            "M50 110 L40 130 M50 110 L60 130 M50 110 L50 135"
          );
          trunk.setAttribute("width", "10");
          f1.setAttribute("r", "0");
          f2.setAttribute("r", "0");
          return;
        }

        if (type === "N") {
          // Grow Leaves
          let currentR = parseFloat(leaves.getAttribute("r"));
          leaves.setAttribute("r", currentR + 10);
          alert("ƒê·∫°m (N) gi√∫p l√° c√¢y ph√°t tri·ªÉn xanh t·ªët!");
        } else if (type === "P") {
          // Grow Roots
          roots.setAttribute("stroke-width", "4");
          roots.setAttribute(
            "d",
            "M50 110 L30 140 M50 110 L70 140 M50 110 L50 150 M50 110 L40 135 M50 110 L60 135"
          );
          alert("L√¢n (P) gi√∫p b·ªô r·ªÖ ph√°t tri·ªÉn m·∫°nh!");
        } else if (type === "K") {
          // Trunk & Fruit
          trunk.setAttribute("width", "16");
          trunk.setAttribute("x", "42"); // Adjust center
          f1.setAttribute("r", "6");
          f2.setAttribute("r", "6");
          alert("Kali (K) gi√∫p th√¢n ch·∫Øc kh·ªèe, ra hoa k·∫øt qu·∫£!");
        }
      }

      // --- QUIZ LOGIC ---
      const questions = [
        {
          q: "Dung d·ªãch n√†o l√†m qu·ª≥ t√≠m h√≥a ƒë·ªè?",
          a: ["NaOH", "HCl", "NaCl"],
          c: 1,
        },
        {
          q: "Baz∆° n√†o KH√îNG tan trong n∆∞·ªõc?",
          a: ["NaOH", "KOH", "Cu(OH)‚ÇÇ"],
          c: 2,
        },
        { q: "Oxit n√†o l√† oxit l∆∞·ª°ng t√≠nh?", a: ["ZnO", "CaO", "SO‚ÇÇ"], c: 0 },
        {
          q: "Ph√¢n ƒê·∫°m cung c·∫•p nguy√™n t·ªë n√†o?",
          a: ["Nit∆° (N)", "Photpho (P)", "Kali (K)"],
          c: 0,
        },
        {
          q: "Mu·ªëi n√†o sau ƒë√¢y kh√¥ng tan (k·∫øt t·ªßa)?",
          a: ["NaCl", "KNO‚ÇÉ", "BaSO‚ÇÑ"],
          c: 2,
        },
      ];
      let qIdx = 0;
      let score = 0;

      function initQuiz() {
        document.getElementById("start-btn").classList.add("hidden");
        qIdx = 0;
        score = 0;
        showQ();
      }

      function showQ() {
        if (qIdx >= questions.length) {
          document.getElementById("quiz-content").innerHTML = `
                    <div class="text-3xl font-bold mb-4">K·∫øt qu·∫£: ${score}/${questions.length}</div>
                    <p>B·∫°n ƒë√£ ho√†n th√†nh b√†i ki·ªÉm tra!</p>
                `;
          document.getElementById("q-feedback").innerText = "";
          confetti();
          return;
        }
        const q = questions[qIdx];
        document.getElementById("q-text").innerText = `C√¢u ${qIdx + 1}: ${q.q}`;
        const optsDiv = document.getElementById("q-opts");
        optsDiv.innerHTML = "";

        q.a.forEach((opt, i) => {
          const btn = document.createElement("button");
          btn.className =
            "w-full p-3 bg-indigo-50 text-indigo-900 rounded-lg hover:bg-indigo-100 font-semibold text-left transition";
          btn.innerText = opt;
          btn.onclick = () => checkAns(i, btn);
          optsDiv.appendChild(btn);
        });
        document.getElementById("q-feedback").innerText = "";
      }

      function checkAns(i, btn) {
        const btns = document.querySelectorAll("#q-opts button");
        btns.forEach((b) => (b.disabled = true));

        if (i === questions[qIdx].c) {
          btn.classList.add("bg-green-200", "border-green-500");
          document.getElementById("q-feedback").innerText =
            "Ch√≠nh x√°c! +1 ƒëi·ªÉm";
          document.getElementById("q-feedback").className =
            "mt-4 font-bold h-6 text-green-300";
          score++;
        } else {
          btn.classList.add("bg-red-200");
          btns[questions[qIdx].c].classList.add("bg-green-200"); // Show right
          document.getElementById("q-feedback").innerText = "Sai r·ªìi!";
          document.getElementById("q-feedback").className =
            "mt-4 font-bold h-6 text-red-300";
        }

        setTimeout(() => {
          qIdx++;
          showQ();
        }, 1500);
      }
    </script>
  </body>
</html>
