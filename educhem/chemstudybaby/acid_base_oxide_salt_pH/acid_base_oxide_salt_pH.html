<!doctype html>
<html lang="vi" class="scroll-smooth">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Edumatter - Kh√°m Ph√° H√≥a H·ªçc V√¥ C∆°</title>

    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- Font Awesome -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />

    <!-- Google Fonts -->
    <link
      href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@300;400;600;700&family=Inter:wght@300;400;500;600&display=swap"
      rel="stylesheet"
    />

    <!-- Tailwind Config for Custom Colors -->
    <script>
      tailwind.config = {
        darkMode: "class",
        theme: {
          extend: {
            fontFamily: {
              sans: ["Inter", "sans-serif"],
              display: ["Space Grotesk", "sans-serif"],
            },
            colors: {
              primary: "#3b82f6", // Blue 500
              secondary: "#10b981", // Emerald 500
              accent: "#8b5cf6", // Violet 500
              dark: "#0f172a", // Slate 900
            },
            animation: {
              float: "float 6s ease-in-out infinite",
              "pulse-slow": "pulse 4s cubic-bezier(0.4, 0, 0.6, 1) infinite",
              bubble: "bubble 2s infinite ease-in",
            },
            keyframes: {
              float: {
                "0%, 100%": { transform: "translateY(0)" },
                "50%": { transform: "translateY(-20px)" },
              },
              bubble: {
                "0%": {
                  transform: "translateY(100%) scale(0.5)",
                  opacity: "0",
                },
                "50%": { opacity: "1" },
                "100%": {
                  transform: "translateY(-20%) scale(1.2)",
                  opacity: "0",
                },
              },
            },
          },
        },
      };
    </script>

    <style>
      /* CSS Variables for Footer & Global Theme */
      :root {
        --footer-bg: #f8fafc;
        --footer-text: #334155;
        --p-primary: #3b82f6;
        --glass-bg: rgba(255, 255, 255, 0.7);
        --glass-border: rgba(255, 255, 255, 0.5);
        --text-main: #1e293b;
      }

      .dark {
        --footer-bg: #0f172a;
        --footer-text: #cbd5e1;
        --glass-bg: rgba(15, 23, 42, 0.7);
        --glass-border: rgba(255, 255, 255, 0.1);
        --text-main: #f1f5f9;
      }

      body {
        background: linear-gradient(135deg, #e0f2fe 0%, #f0fdf4 100%);
        color: var(--text-main);
        transition:
          background 0.5s ease,
          color 0.5s ease;
      }

      .dark body {
        background: linear-gradient(135deg, #0f172a 0%, #1e1b4b 100%);
      }

      /* Glassmorphism Classes */
      .glass-panel {
        background: var(--glass-bg);
        backdrop-filter: blur(12px);
        -webkit-backdrop-filter: blur(12px);
        border: 1px solid var(--glass-border);
        box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.1);
      }

      /* Lab Equipment Simulations */
      .test-tube {
        width: 60px;
        height: 200px;
        border: 3px solid rgba(100, 116, 139, 0.5);
        border-top: none;
        border-radius: 0 0 30px 30px;
        position: relative;
        overflow: hidden;
        margin: 0 auto;
        background: rgba(255, 255, 255, 0.1);
      }

      .liquid {
        position: absolute;
        bottom: 0;
        left: 0;
        width: 100%;
        height: 0%;
        transition:
          height 1s ease,
          background-color 1s ease;
      }

      .bubble {
        position: absolute;
        background: rgba(255, 255, 255, 0.6);
        border-radius: 50%;
      }

      /* Footer Styles (Provided + Adapted) */
      footer {
        background: var(--footer-bg);
        color: var(--footer-text);
        padding: 100px 5% 40px;
        position: relative;
        overflow: hidden;
        transition:
          background-color 0.8s ease,
          color 0.8s ease;
      }
      .footer-waves {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 60px;
        background: var(--footer-bg);
        clip-path: polygon(
          0% 45%,
          16% 44%,
          33% 50%,
          54% 60%,
          70% 61%,
          84% 59%,
          100% 52%,
          100% 100%,
          0% 100%
        );
        transition: background-color 0.8s;
        transform: scaleY(-1); /* Flip to match top border style */
      }
      .footer-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        gap: 60px;
        max-width: 1200px;
        margin: 0 auto;
      }
      .footer-brand h2 {
        font-family: "Space Grotesk", sans-serif;
        font-size: 2rem;
        margin-bottom: 20px;
      }
      .footer-links h4,
      .footer-links h3 {
        margin-bottom: 25px;
        text-transform: uppercase;
        letter-spacing: 2px;
        color: var(--p-primary);
      }
      .contact-item {
        margin-bottom: 15px;
        display: flex;
        align-items: center;
        gap: 15px;
        color: #94a3b8;
        transition: 0.3s;
      }
      .contact-item i {
        color: var(--p-primary);
      }
      .contact-item:hover {
        color: var(--p-primary);
        transform: translateX(5px);
      }
      .copyright {
        margin-top: 80px;
        text-align: center;
        padding-top: 30px;
        border-top: 1px solid rgba(255, 255, 255, 0.05);
        color: #475569;
        font-size: 0.9rem;
      }
      .icon-btn {
        width: 40px;
        height: 40px;
        display: inline-flex;
        align-items: center;
        justify-content: center;
        border-radius: 50%;
        background: rgba(148, 163, 184, 0.1);
        color: #94a3b8;
        transition: 0.3s;
      }
      .icon-btn:hover {
        background: var(--p-primary);
        color: white;
      }

      /* Custom Scrollbar */
      ::-webkit-scrollbar {
        width: 10px;
      }
      ::-webkit-scrollbar-track {
        background: transparent;
      }
      ::-webkit-scrollbar-thumb {
        background: #cbd5e1;
        border-radius: 5px;
      }
      ::-webkit-scrollbar-thumb:hover {
        background: #94a3b8;
      }
      .dark ::-webkit-scrollbar-thumb {
        background: #334155;
      }
    </style>
  </head>
  <body>
    <!-- ================= 1. HEADER ================= -->
    <nav
      class="fixed w-full z-50 glass-panel border-b-0 border-white/20 transition-all duration-300"
      id="navbar"
    >
      <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="flex items-center justify-between h-20">
          <div class="flex items-center gap-3">
            <div
              class="w-10 h-10 rounded-xl bg-gradient-to-br from-blue-500 to-cyan-400 flex items-center justify-center text-white text-xl shadow-lg"
            >
              <i class="fas fa-flask"></i>
            </div>
            <span class="font-display font-bold text-2xl tracking-tight"
              >EDU<span class="text-blue-500">MATTER</span></span
            >
          </div>

          <div class="hidden md:block">
            <div class="ml-10 flex items-baseline space-x-8">
              <a
                href="#acid"
                class="hover:text-blue-500 transition px-3 py-2 rounded-md font-medium"
                >Acid</a
              >
              <a
                href="#base"
                class="hover:text-blue-500 transition px-3 py-2 rounded-md font-medium"
                >Base & pH</a
              >
              <a
                href="#oxide"
                class="hover:text-blue-500 transition px-3 py-2 rounded-md font-medium"
                >Oxide</a
              >
              <a
                href="#muoi"
                class="hover:text-blue-500 transition px-3 py-2 rounded-md font-medium"
                >Mu·ªëi</a
              >
              <a
                href="#phanbon"
                class="hover:text-blue-500 transition px-3 py-2 rounded-md font-medium"
                >Ph√¢n B√≥n</a
              >
              <a
                href="#quiz"
                class="hover:text-blue-500 transition px-3 py-2 rounded-md font-medium"
                >Luy·ªán t·∫≠p</a
              >
            </div>
          </div>

          <div class="flex items-center gap-4">
            <button
              id="theme-toggle"
              class="p-2 rounded-full hover:bg-gray-200 dark:hover:bg-gray-700 transition focus:outline-none"
            >
              <i class="fas fa-moon text-xl" id="theme-icon"></i>
            </button>
          </div>
        </div>
      </div>
    </nav>

    <!-- ================= 2. HERO SECTION ================= -->
    <header class="relative pt-32 pb-20 lg:pt-48 lg:pb-32 overflow-hidden">
      <div class="absolute top-0 right-0 -z-10 opacity-30 dark:opacity-20">
        <svg
          viewBox="0 0 200 200"
          xmlns="http://www.w3.org/2000/svg"
          class="w-[800px] h-[800px] text-blue-300 fill-current animate-pulse-slow"
        >
          <path
            d="M44.7,-76.4C58.9,-69.2,71.8,-59.1,81.6,-46.6C91.4,-34.1,98.1,-19.2,95.8,-5.3C93.5,8.6,82.2,21.5,70.6,31.2C59,40.9,47.1,47.4,35.7,52.4C24.3,57.4,13.4,60.9,1.6,58.1C-10.2,55.3,-22.9,46.2,-34.3,37.3C-45.7,28.4,-55.8,19.7,-62.4,8.2C-69,-3.3,-72.1,-17.6,-66.9,-29.6C-61.7,-41.6,-48.2,-51.3,-35.1,-59.2C-22,-67.1,-9.3,-73.2,4.6,-81.2L18.5,-89.2"
            transform="translate(100 100)"
          />
        </svg>
      </div>

      <div class="max-w-7xl mx-auto px-4 text-center">
        <div
          class="inline-block px-4 py-1.5 rounded-full border border-blue-500/30 bg-blue-500/10 text-blue-600 dark:text-blue-400 font-medium text-sm mb-6 animate-float"
        >
          üéì H√≥a h·ªçc V√¥ c∆° 8-9
        </div>
        <h1
          class="text-5xl md:text-7xl font-display font-bold mb-6 bg-clip-text text-transparent bg-gradient-to-r from-blue-600 via-cyan-500 to-emerald-500 pb-2"
        >
          Chinh Ph·ª•c Th·∫ø Gi·ªõi Ch·∫•t
        </h1>
        <p
          class="text-lg md:text-xl text-slate-600 dark:text-slate-300 max-w-2xl mx-auto mb-10 leading-relaxed"
        >
          Kh√°m ph√° b·∫£n ch·∫•t ph·∫£n ·ª©ng h√≥a h·ªçc th√¥ng qua m√¥ ph·ªèng t∆∞∆°ng t√°c. T·ª´
          Acid, Base ƒë·∫øn Ph√¢n b√≥n - H·ªçc tr·ª±c quan, hi·ªÉu s√¢u s·∫Øc.
        </p>
        <a
          href="#acid"
          class="inline-flex items-center gap-2 px-8 py-4 bg-gradient-to-r from-blue-600 to-cyan-500 text-white rounded-full font-bold shadow-lg shadow-blue-500/30 hover:shadow-blue-500/50 transform hover:-translate-y-1 transition duration-300"
        >
          B·∫Øt ƒë·∫ßu b√†i h·ªçc <i class="fas fa-arrow-right"></i>
        </a>
      </div>
    </header>

    <main class="space-y-24 pb-20">
      <!-- ================= 3. ACID SECTION ================= -->
      <section id="acid" class="max-w-7xl mx-auto px-4 scroll-mt-24">
        <div class="grid lg:grid-cols-2 gap-12 items-start">
          <!-- Theory -->
          <div class="glass-panel p-8 rounded-3xl" data-aos="fade-right">
            <div class="flex items-center gap-4 mb-6">
              <div
                class="w-12 h-12 rounded-xl bg-red-100 dark:bg-red-900/30 text-red-500 flex items-center justify-center text-2xl"
              >
                <i class="fas fa-vial"></i>
              </div>
              <h2 class="text-3xl font-display font-bold text-red-500">
                I. ACID
              </h2>
            </div>

            <div class="space-y-6 text-slate-700 dark:text-slate-300">
              <div
                class="p-4 bg-white/50 dark:bg-slate-800/50 rounded-xl border border-red-200 dark:border-red-900/50"
              >
                <h3 class="font-bold text-lg mb-2">
                  <i class="fas fa-lightbulb text-yellow-500 mr-2"></i>1. Ki·∫øn
                  th·ª©c tr·ªçng t√¢m
                </h3>
                <ul class="list-disc pl-5 space-y-1">
                  <li>
                    <strong>Kh√°i ni·ªám:</strong> Acid l√† nh·ªØng h·ª£p ch·∫•t m√† ph√¢n
                    t·ª≠ c√≥ m·ªôt hay nhi·ªÅu nguy√™n t·ª≠ hydrogen li√™n k·∫øt v·ªõi g·ªëc
                    acid, khi tan trong n∆∞·ªõc t·∫°o ra ion <strong>H‚Å∫</strong>.
                  </li>
                  <li>
                    <strong>T√≠nh ch·∫•t h√≥a h·ªçc:</strong>
                    <ul class="list-circle pl-5 mt-1 text-sm">
                      <li>L√†m ƒë·ªïi m√†u gi·∫•y qu·ª≥ t√≠m th√†nh ƒë·ªè.</li>
                      <li>
                        T√°c d·ª•ng v·ªõi nhi·ªÅu kim lo·∫°i (Mg, Al, Zn, Fe...) t·∫°o mu·ªëi
                        v√† gi·∫£i ph√≥ng kh√≠ H‚ÇÇ.
                      </li>
                    </ul>
                  </li>
                  <li>
                    <strong>·ª®ng d·ª•ng:</strong> HCl t·∫©y r·ªâ th√©p, H‚ÇÇSO‚ÇÑ s·∫£n xu·∫•t
                    ph√¢n b√≥n, ·∫Øc quy; CH‚ÇÉCOOH l√†m gi·∫•m ƒÉn.
                  </li>
                </ul>
              </div>

              <div class="p-4 bg-red-50 dark:bg-red-900/20 rounded-lg text-sm">
                <strong>2. V√≠ d·ª•:</strong> HCl (Hydrochloric acid), H‚ÇÇSO‚ÇÑ
                (Sulfuric acid), CH‚ÇÉCOOH (Acetic acid).
              </div>

              <div
                class="bg-slate-100 dark:bg-slate-800 p-4 rounded-xl text-sm"
              >
                <strong>3. B√†i t·∫≠p v·∫≠n d·ª•ng:</strong><br />
                - Ch·∫•t n√†o l√† acid: KCl, H‚ÇÇSO‚ÇÉ, NaOH, HClO‚ÇÑ?<br />
                - Vi·∫øt PT: Mg + 2HCl ‚Üí MgCl‚ÇÇ + H‚ÇÇ‚Üë
              </div>
            </div>
          </div>

          <!-- Simulation: Acid + Metal -->
          <div class="glass-panel p-8 rounded-3xl border-t-4 border-red-500">
            <h3 class="text-xl font-bold mb-4 flex items-center gap-2">
              <i class="fas fa-flask text-red-500"></i> 4. Th√≠ nghi·ªám: Zn + HCl
            </h3>
            <p class="text-sm text-slate-500 mb-6">
              Th√™m k·∫Ωm v√† acid ƒë·ªÉ quan s√°t hi·ªán t∆∞·ª£ng s·ªßi b·ªçt kh√≠ H‚ÇÇ v√† vi√™n k·∫Ωm
              tan d·∫ßn.
            </p>

            <div
              class="relative h-[300px] flex justify-center items-end bg-slate-100 dark:bg-slate-800 rounded-2xl mb-6 overflow-hidden"
            >
              <!-- Test Tube -->
              <div
                class="test-tube z-10 bg-white/20 backdrop-blur-sm border-slate-400"
              >
                <div
                  id="acid-liquid"
                  class="liquid bg-transparent transition-all duration-1000"
                ></div>
                <div
                  id="zinc-pellet"
                  class="absolute bottom-2 left-1/2 -translate-x-1/2 w-8 h-6 bg-gray-400 rounded-sm opacity-0 transition-opacity duration-500 shadow-inner"
                ></div>
                <!-- Bubbles Container -->
                <div
                  id="bubbles-container"
                  class="absolute inset-0 pointer-events-none"
                ></div>
              </div>
              <div
                class="absolute bottom-0 w-full h-4 bg-slate-300 dark:bg-slate-700"
              ></div>
            </div>

            <div class="flex gap-4 justify-center">
              <button
                onclick="addZinc()"
                class="px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition shadow-md"
              >
                1. Th√™m Zn
              </button>
              <button
                onclick="addAcid()"
                class="px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition shadow-md"
              >
                2. Th√™m HCl
              </button>
              <button
                onclick="resetAcidSim()"
                class="px-4 py-2 bg-slate-200 text-slate-700 rounded-lg hover:bg-slate-300 transition"
              >
                <i class="fas fa-redo"></i>
              </button>
            </div>
            <div
              id="acid-result"
              class="mt-4 text-center font-medium text-red-500 min-h-[24px]"
            ></div>
          </div>
        </div>
      </section>

      <!-- ================= 4. BASE & pH SECTION ================= -->
      <section id="base" class="max-w-7xl mx-auto px-4 scroll-mt-24">
        <div class="glass-panel p-8 rounded-3xl border-t-4 border-blue-500">
          <div class="text-center mb-10">
            <h2 class="text-3xl font-display font-bold text-blue-500 mb-4">
              II. BASE & THANG pH
            </h2>
          </div>

          <div class="grid lg:grid-cols-2 gap-12">
            <!-- Theory -->
            <div class="space-y-6 text-slate-700 dark:text-slate-300">
              <div
                class="p-4 bg-white/50 dark:bg-slate-800/50 rounded-xl border border-blue-200 dark:border-blue-900/50"
              >
                <h3 class="font-bold text-lg mb-2">
                  <i class="fas fa-atom text-blue-500 mr-2"></i>1. Ki·∫øn th·ª©c
                  tr·ªçng t√¢m
                </h3>
                <ul class="list-disc pl-5 space-y-1">
                  <li>
                    <strong>Base:</strong> H·ª£p ch·∫•t ph√¢n t·ª≠ c√≥ 1 nguy√™n t·ª≠ kim
                    lo·∫°i li√™n k·∫øt v·ªõi m·ªôt hay nhi·ªÅu nh√≥m hydroxide (OH‚Åª). Base
                    tan g·ªçi l√† Ki·ªÅm.
                  </li>
                  <li>
                    <strong>T√≠nh ch·∫•t:</strong> L√†m qu·ª≥ t√≠m h√≥a xanh,
                    phenolphthalein h√≥a h·ªìng. T√°c d·ª•ng v·ªõi Acid (Ph·∫£n ·ª©ng trung
                    h√≤a).
                  </li>
                  <li>
                    <strong>Thang pH:</strong> (1‚Üí14). pH < 7 (Acid), pH = 7
                    (Trung t√≠nh), pH > 7 (Base).
                  </li>
                </ul>
              </div>

              <div class="grid grid-cols-2 gap-4 text-sm">
                <div class="bg-blue-50 dark:bg-blue-900/20 p-3 rounded-lg">
                  <strong>2. V√≠ d·ª• (Base tan):</strong><br />NaOH, KOH, Ba(OH)‚ÇÇ,
                  Ca(OH)‚ÇÇ
                </div>
                <div class="bg-gray-50 dark:bg-gray-800 p-3 rounded-lg">
                  <strong>Base kh√¥ng tan:</strong><br />Cu(OH)‚ÇÇ, Fe(OH)‚ÇÉ,
                  Mg(OH)‚ÇÇ
                </div>
              </div>

              <div
                class="bg-slate-100 dark:bg-slate-800 p-4 rounded-xl text-sm"
              >
                <strong>3. B√†i t·∫≠p v·∫≠n d·ª•ng:</strong><br />
                - Base n√†o tan? NaOH, Fe(OH)‚ÇÉ, Cu(OH)‚ÇÇ, KOH<br />
                - Qu·ª≥ t√≠m chuy·ªÉn ƒë·ªè => pH < 7.
              </div>
            </div>

            <!-- Experiment: Food pH Test -->
            <div
              class="relative bg-white dark:bg-slate-900 rounded-2xl p-6 shadow-inner border border-slate-200 dark:border-slate-700"
            >
              <h3 class="font-bold mb-4 flex items-center gap-2">
                <i class="fas fa-vials text-pink-500"></i> 4. Th√≠ nghi·ªám: X√°c
                ƒë·ªãnh pH th·ª±c ph·∫©m
              </h3>

              <div class="space-y-4">
                <!-- Custom pH Slider -->
                <div class="relative pt-6 pb-2">
                  <input
                    type="range"
                    min="1"
                    max="14"
                    value="7"
                    step="1"
                    id="ph-slider"
                    class="w-full h-4 bg-gradient-to-r from-red-500 via-green-400 to-blue-600 rounded-lg appearance-none cursor-pointer hover:shadow-lg transition-all"
                    oninput="updatePH(this.value)"
                  />
                  <div
                    class="flex justify-between text-xs mt-2 font-mono text-slate-500"
                  >
                    <span>1</span><span>7</span><span>14</span>
                  </div>
                </div>

                <div
                  id="ph-display"
                  class="p-6 rounded-xl text-center text-white font-bold text-xl shadow-lg transition-colors duration-300 bg-green-500"
                >
                  pH = 7: M√¥i tr∆∞·ªùng Trung t√≠nh
                </div>

                <!-- Food Buttons -->
                <div class="grid grid-cols-3 gap-3 mt-4">
                  <button
                    onclick="setPH(2, 'N∆∞·ªõc Chanh (Acid)')"
                    class="p-2 bg-yellow-100 text-yellow-800 rounded-lg hover:bg-yellow-200 text-sm font-semibold flex flex-col items-center"
                  >
                    <i class="fas fa-lemon mb-1"></i> N∆∞·ªõc Chanh
                  </button>
                  <button
                    onclick="setPH(4, 'C√† Chua (Acid y·∫øu)')"
                    class="p-2 bg-red-100 text-red-800 rounded-lg hover:bg-red-200 text-sm font-semibold flex flex-col items-center"
                  >
                    <i class="fas fa-apple-alt mb-1"></i> C√† Chua
                  </button>
                  <button
                    onclick="setPH(7, 'N∆∞·ªõc l·ªçc (Trung t√≠nh)')"
                    class="p-2 bg-blue-100 text-blue-800 rounded-lg hover:bg-blue-200 text-sm font-semibold flex flex-col items-center"
                  >
                    <i class="fas fa-tint mb-1"></i> N∆∞·ªõc l·ªçc
                  </button>
                  <button
                    onclick="setPH(9, 'L√≤ng tr·∫Øng tr·ª©ng (Base y·∫øu)')"
                    class="p-2 bg-gray-100 text-gray-800 rounded-lg hover:bg-gray-200 text-sm font-semibold flex flex-col items-center"
                  >
                    <i class="fas fa-egg mb-1"></i> Tr·ª©ng
                  </button>
                  <button
                    onclick="setPH(10, 'N∆∞·ªõc r·ª≠a b√°t (Base)')"
                    class="p-2 bg-green-100 text-green-800 rounded-lg hover:bg-green-200 text-sm font-semibold flex flex-col items-center"
                  >
                    <i class="fas fa-pump-soap mb-1"></i> X√† ph√≤ng
                  </button>
                  <button
                    onclick="setPH(3, 'N∆∞·ªõc ng·ªçt (Acid)')"
                    class="p-2 bg-orange-100 text-orange-800 rounded-lg hover:bg-orange-200 text-sm font-semibold flex flex-col items-center"
                  >
                    <i class="fas fa-wine-bottle mb-1"></i> N∆∞·ªõc ng·ªçt
                  </button>
                </div>
                <p class="text-xs text-center italic text-slate-500 mt-2">
                  Nh·ªè dung d·ªãch l√™n gi·∫•y ch·ªâ th·ªã m√†u ƒë·ªÉ so s√°nh.
                </p>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- ================= 5. OXIDE SECTION ================= -->
      <section id="oxide" class="max-w-7xl mx-auto px-4 scroll-mt-24">
        <div
          class="glass-panel p-8 rounded-3xl border-l-8 border-orange-500 relative overflow-hidden"
        >
          <div class="absolute -right-20 -top-20 opacity-10">
            <i class="fas fa-smog text-[300px]"></i>
          </div>

          <h2 class="text-3xl font-display font-bold text-orange-500 mb-8">
            III. OXIDE
          </h2>

          <div class="grid md:grid-cols-3 gap-8">
            <!-- Theory -->
            <div
              class="col-span-1 space-y-4 text-slate-700 dark:text-slate-300"
            >
              <div class="p-4 bg-white/50 dark:bg-slate-800/50 rounded-xl">
                <h4 class="font-bold text-orange-600 mb-2">
                  1. Ki·∫øn th·ª©c tr·ªçng t√¢m
                </h4>
                <p class="text-sm">
                  Oxide l√† h·ª£p ch·∫•t c·ªßa Oxygen v·ªõi 1 nguy√™n t·ªë kh√°c.
                </p>
                <ul class="text-sm mt-2 list-disc pl-4 space-y-1">
                  <li>
                    <strong>Oxide base:</strong> T√°c d·ª•ng acid (CaO, CuO,
                    Fe‚ÇÇO‚ÇÉ).
                  </li>
                  <li>
                    <strong>Oxide acid:</strong> T√°c d·ª•ng base (CO‚ÇÇ, SO‚ÇÇ, P‚ÇÇO‚ÇÖ).
                  </li>
                  <li><strong>L∆∞·ª°ng t√≠nh:</strong> Al‚ÇÇO‚ÇÉ, ZnO.</li>
                  <li><strong>Trung t√≠nh:</strong> CO, NO.</li>
                </ul>
              </div>
              <div
                class="bg-orange-50 dark:bg-orange-900/20 p-3 rounded-lg text-sm"
              >
                <strong>3. B√†i t·∫≠p:</strong> Ph√¢n lo·∫°i ZnO, SiO‚ÇÇ, Fe‚ÇÇO‚ÇÉ, CO.
              </div>
            </div>

            <!-- Simulation: CuO + HCl -->
            <div
              class="col-span-2 bg-white/40 dark:bg-black/20 rounded-2xl p-6 flex flex-col items-center justify-center"
            >
              <h3 class="font-bold mb-4 flex items-center gap-2">
                <i class="fas fa-vial text-green-600"></i> 4. Th√≠ nghi·ªám: CuO
                (Oxide base) + HCl
              </h3>

              <div
                class="flex items-end gap-1 relative h-64 w-full justify-center"
              >
                <!-- Beaker -->
                <div
                  class="w-32 h-40 border-2 border-slate-400 border-t-0 rounded-b-xl bg-white/10 backdrop-blur-sm relative overflow-hidden flex justify-center items-end pb-2"
                >
                  <!-- Powder CuO -->
                  <div
                    id="cuo-powder"
                    class="w-20 h-4 bg-gray-900 rounded-full opacity-100 transition-all duration-1000 z-10"
                  ></div>
                  <!-- Liquid -->
                  <div
                    id="cuo-liquid"
                    class="absolute bottom-0 w-full h-0 bg-transparent transition-all duration-2000 z-20 mix-blend-multiply"
                  ></div>
                </div>
              </div>

              <div class="mt-6 flex gap-4">
                <button
                  onclick="addHCLtoCuO()"
                  class="px-6 py-3 bg-orange-500 hover:bg-orange-600 text-white rounded-xl font-bold shadow-lg transition"
                >
                  <i class="fas fa-plus mr-2"></i> Th√™m dung d·ªãch HCl
                </button>
                <button
                  onclick="resetCuO()"
                  class="px-4 py-3 bg-slate-200 text-slate-600 rounded-xl hover:bg-slate-300"
                >
                  <i class="fas fa-redo"></i>
                </button>
              </div>
              <div
                id="cuo-result"
                class="mt-3 text-sm text-slate-700 dark:text-slate-300 italic min-h-[20px] text-center"
              >
                Tr·∫°ng th√°i: B·ªôt CuO m√†u ƒëen ·ªü ƒë√°y ·ªëng nghi·ªám.
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- ================= 6. SALT & 7. FERTILIZER (Combined Grid) ================= -->
      <div
        class="max-w-7xl mx-auto px-4 grid lg:grid-cols-2 gap-8 scroll-mt-24"
      >
        <!-- SALT SECTION -->
        <section
          id="muoi"
          class="glass-panel p-8 rounded-3xl border-t-4 border-indigo-500 flex flex-col h-full"
        >
          <h2 class="text-2xl font-display font-bold text-indigo-500 mb-4">
            IV. MU·ªêI
          </h2>
          <div
            class="space-y-4 mb-4 text-sm text-slate-700 dark:text-slate-300"
          >
            <p>
              <strong>1. Kh√°i ni·ªám:</strong> Thay th·∫ø ion H‚Å∫ c·ªßa acid b·∫±ng ion
              kim lo·∫°i ho·∫∑c ammonium (NH‚ÇÑ‚Å∫).
            </p>
            <p>
              <strong>2. T√≠nh ch·∫•t:</strong> T√°c d·ª•ng kim lo·∫°i, acid, base, mu·ªëi
              kh√°c (DK: c√≥ k·∫øt t·ªßa/kh√≠/n∆∞·ªõc).
            </p>
            <p>
              <strong>3. V√≠ d·ª•:</strong> NaCl (Mu·ªëi ƒÉn), CuSO‚ÇÑ (Xanh), BaSO‚ÇÑ
              (K·∫øt t·ªßa tr·∫Øng).
            </p>
          </div>

          <!-- Precipitation Sim -->
          <div
            class="flex-grow flex flex-col items-center justify-center bg-slate-50 dark:bg-slate-800/50 rounded-xl p-6"
          >
            <h4 class="font-bold text-indigo-600 mb-2">
              4. Th√≠ nghi·ªám: NaCl + AgNO‚ÇÉ
            </h4>
            <div class="flex gap-8 mb-8">
              <div
                class="relative group cursor-pointer"
                onclick="dropSalt('NaCl')"
              >
                <div
                  class="w-12 h-20 border border-slate-400 rounded-b-lg bg-white/20 flex items-end justify-center overflow-hidden"
                >
                  <div class="w-full h-3/4 bg-blue-50/50"></div>
                </div>
                <span class="text-xs font-bold block text-center mt-1"
                  >NaCl</span
                >
              </div>
              <div class="relative text-2xl flex items-center text-slate-400">
                +
              </div>
              <div
                class="relative group cursor-pointer"
                onclick="dropSalt('AgNO3')"
              >
                <div
                  class="w-12 h-20 border border-slate-400 rounded-b-lg bg-white/20 flex items-end justify-center overflow-hidden"
                >
                  <div class="w-full h-3/4 bg-slate-100/50"></div>
                </div>
                <span class="text-xs font-bold block text-center mt-1"
                  >AgNO‚ÇÉ</span
                >
              </div>
            </div>

            <!-- Reaction Vessel -->
            <div
              id="salt-beaker"
              class="w-32 h-40 border-2 border-slate-400 border-t-0 rounded-b-2xl relative bg-white/10 overflow-hidden"
            >
              <div
                id="salt-solution"
                class="absolute bottom-0 w-full h-0 bg-blue-50/30 transition-all duration-1000"
              ></div>
              <div
                id="precipitate"
                class="absolute bottom-0 w-full h-0 bg-white opacity-90 transition-all duration-[2000ms]"
              ></div>
            </div>

            <button
              onclick="runSaltReaction()"
              class="mt-6 px-6 py-2 bg-indigo-500 text-white rounded-full hover:bg-indigo-600 transition"
            >
              Tr·ªôn dung d·ªãch
            </button>
            <button
              onclick="resetSalt()"
              class="mt-2 text-xs text-slate-500 underline"
            >
              L√†m l·∫°i
            </button>
          </div>
        </section>

        <!-- FERTILIZER SECTION -->
        <section
          id="phanbon"
          class="glass-panel p-8 rounded-3xl border-t-4 border-green-500 flex flex-col h-full"
        >
          <h2 class="text-2xl font-display font-bold text-green-600 mb-4">
            V. PH√ÇN B√ìN H√ìA H·ªåC
          </h2>
          <div
            class="space-y-2 mb-4 text-sm text-slate-700 dark:text-slate-300"
          >
            <p>
              <strong>1. Vai tr√≤:</strong> Cung c·∫•p ƒëa l∆∞·ª£ng (N,P,K), trung
              l∆∞·ª£ng, vi l∆∞·ª£ng.
            </p>
            <p>
              <strong>2. C√°c lo·∫°i:</strong> ƒê·∫°m (N), L√¢n (P), Kali (K), NPK.
            </p>
            <p>
              <strong>3. Quy t·∫Øc an to√†n:</strong> "4 ƒë√∫ng": ƒê√∫ng li·ªÅu, ƒê√∫ng
              l√∫c, ƒê√∫ng lo·∫°i, ƒê√∫ng c√°ch.
            </p>
            <p class="text-xs bg-green-100 dark:bg-green-900/30 p-2 rounded">
              <strong>B√†i t·∫≠p:</strong> T√≠nh % N trong NH‚ÇÑNO‚ÇÉ? (N=14, H=1, O=16)
            </p>
          </div>

          <!-- Plant Doctor Sim -->
          <div
            class="flex-grow bg-gradient-to-b from-blue-100 to-green-100 dark:from-slate-800 dark:to-green-900/30 rounded-xl p-6 relative overflow-hidden"
          >
            <h3
              class="text-center font-bold text-green-700 dark:text-green-400 mb-4"
            >
              üå± M√¥ ph·ªèng: B√°c sƒ© c√¢y tr·ªìng
            </h3>

            <div class="flex justify-center items-end h-40 mb-4">
              <!-- SVG Plant -->
              <svg
                id="plant-svg"
                width="100"
                height="150"
                viewBox="0 0 100 150"
                class="drop-shadow-xl transition-all duration-1000"
              >
                <rect x="45" y="100" width="10" height="50" fill="#8B4513" />
                <!-- Stem -->
                <path
                  id="leaf-1"
                  d="M45 110 Q20 100 10 80 Q30 90 45 100"
                  fill="#22c55e"
                  class="transition-colors duration-1000"
                />
                <path
                  id="leaf-2"
                  d="M55 120 Q80 110 90 90 Q70 100 55 110"
                  fill="#22c55e"
                  class="transition-colors duration-1000"
                />
                <circle
                  id="fruit"
                  cx="50"
                  cy="70"
                  r="0"
                  fill="#ef4444"
                  class="transition-all duration-1000"
                />
              </svg>
            </div>

            <div class="space-y-2">
              <p
                id="plant-status"
                class="text-xs text-center text-red-500 font-bold bg-white/80 p-1 rounded"
              >
                C√¢y thi·∫øu dinh d∆∞·ª°ng: L√° v√†ng, kh√¥ng ra qu·∫£!
              </p>
              <div class="flex gap-2 justify-center">
                <button
                  onclick="feedPlant('N')"
                  class="px-3 py-1 bg-green-600 text-white rounded hover:bg-green-700 text-xs shadow"
                >
                  B√≥n ƒê·∫°m (L√° xanh)
                </button>
                <button
                  onclick="feedPlant('K')"
                  class="px-3 py-1 bg-purple-600 text-white rounded hover:bg-purple-700 text-xs shadow"
                >
                  B√≥n Kali (Ra qu·∫£)
                </button>
              </div>
              <button
                onclick="resetPlant()"
                class="block mx-auto text-xs text-slate-500 mt-2"
              >
                <i class="fas fa-undo"></i> Reset
              </button>
            </div>
          </div>
        </section>
      </div>

      <!-- ================= 7. QUIZ SECTION ================= -->
      <section id="quiz" class="max-w-4xl mx-auto px-4 pb-12 scroll-mt-24">
        <div
          class="glass-panel p-1 border-none rounded-3xl bg-gradient-to-r from-violet-600 to-indigo-600 shadow-2xl"
        >
          <div class="bg-white dark:bg-slate-900 rounded-[22px] p-8 md:p-12">
            <div class="text-center mb-10">
              <div
                class="inline-flex items-center justify-center w-16 h-16 rounded-full bg-indigo-100 text-indigo-600 text-2xl mb-4"
              >
                <i class="fas fa-gamepad"></i>
              </div>
              <h2 class="text-3xl font-bold text-indigo-900 dark:text-white">
                Th·ª≠ Th√°ch Nh√† H√≥a H·ªçc
              </h2>
              <div
                class="w-full bg-gray-200 rounded-full h-2.5 mt-6 dark:bg-gray-700 max-w-md mx-auto"
              >
                <div
                  id="progress-bar"
                  class="bg-indigo-600 h-2.5 rounded-full transition-all duration-500"
                  style="width: 0%"
                ></div>
              </div>
            </div>

            <!-- Question Container -->
            <div id="quiz-container" class="max-w-2xl mx-auto">
              <h3
                id="question-text"
                class="text-xl font-medium mb-6 text-slate-800 dark:text-slate-200"
              >
                ƒêang t·∫£i c√¢u h·ªèi...
              </h3>
              <div id="options-grid" class="grid gap-4">
                <!-- Options injected by JS -->
              </div>
              <div
                id="feedback"
                class="mt-6 hidden p-4 rounded-xl text-center font-bold"
              ></div>
              <button
                id="next-btn"
                onclick="nextQuestion()"
                class="hidden mt-6 w-full py-3 bg-indigo-600 text-white rounded-xl font-bold hover:bg-indigo-700 transition"
              >
                C√¢u ti·∫øp theo <i class="fas fa-arrow-right ml-2"></i>
              </button>

              <!-- Reset Button for Quiz -->
              <div id="quiz-reset-container" class="hidden text-center mt-8">
                <h3 class="text-2xl font-bold text-green-500 mb-4">
                  Ch√∫c m·ª´ng! B·∫°n ƒë√£ ho√†n th√†nh.
                </h3>
                <button
                  onclick="restartQuiz()"
                  class="px-8 py-3 bg-indigo-600 text-white rounded-full font-bold shadow-lg hover:shadow-indigo-500/50 transition"
                >
                  L√†m l·∫°i b√†i t·∫≠p
                </button>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- Provide Buttons Section -->
      <section
        class="max-w-7xl mx-auto px-4 flex justify-center gap-6 pb-20 flex-wrap"
      >
        <button
          onclick="window.location.href = 'bai_tap.html'"
          style="
            display: inline-flex;
            align-items: center;
            gap: 10px;
            padding: 14px 30px;
            font-size: 1rem;
            font-weight: 600;
            border-radius: 999px;
            border: none;
            cursor: pointer;
            color: #fff;
            background: linear-gradient(135deg, #3b82f6, #6366f1);
            box-shadow: 0 10px 30px rgba(59, 130, 246, 0.35);
            transition: 0.3s ease;
          "
          onmouseover="
            this.style.transform = 'translateY(-3px) scale(1.03)';
            this.style.boxShadow = '0 18px 45px rgba(99,102,241,.55)';
          "
          onmouseout="
            this.style.transform = 'translateY(0) scale(1)';
            this.style.boxShadow = '0 10px 30px rgba(59,130,246,.35)';
          "
        >
          <i class="fas fa-pen-to-square"></i> B√†i t·∫≠p c·ªßng c·ªë
        </button>
        <button
          onclick="window.location.href = '../chemstudybaby.html'"
          style="
            display: inline-flex;
            align-items: center;
            gap: 10px;
            padding: 14px 30px;
            font-size: 1rem;
            font-weight: 600;
            border-radius: 999px;
            border: none;
            cursor: pointer;
            color: #fff;
            background: linear-gradient(135deg, #22c55e, #16a34a);
            box-shadow: 0 10px 30px rgba(34, 197, 94, 0.35);
            transition: 0.3s ease;
          "
          onmouseover="
            this.style.transform = 'translateY(-3px)';
            this.style.boxShadow = '0 18px 45px rgba(22,163,74,.55)';
          "
          onmouseout="
            this.style.transform = 'translateY(0)';
            this.style.boxShadow = '0 10px 30px rgba(34,197,94,.35)';
          "
        >
          <i class="fas fa-arrow-left"></i> Quay v·ªÅ Trang Ch·ªß
        </button>
      </section>
    </main>

    <!-- ================= 8. FOOTER (MANDATORY STRUCTURE) ================= -->
    <footer>
      <div class="footer-waves"></div>
      <div class="footer-grid">
        <div class="footer-brand">
          <h2>EDUMATTER</h2>
          <p style="color: #94a3b8; line-height: 1.8">
            Ki·∫øn t·∫°o m√¥i tr∆∞·ªùng h·ªçc t·∫≠p c·∫£m x√∫c, n∆°i tri th·ª©c ƒë∆∞·ª£c s·ªë h√≥a v√†
            truy·ªÅn t·∫£i ƒë·∫ßy c·∫£m h·ª©ng.
          </p>
          <div style="display: flex; gap: 15px; margin-top: 30px">
            <a href="#" class="icon-btn"><i class="fab fa-facebook"></i></a>
            <a href="#" class="icon-btn"><i class="fab fa-github"></i></a>
            <a href="#" class="icon-btn"><i class="fab fa-tiktok"></i></a>
          </div>
        </div>

        <div class="footer-links">
          <h3>Li√™n h·ªá nhanh</h3>
          <div class="contact-item">
            <i class="fas fa-envelope"></i> <span>ducnt21042010@gmail.com</span>
          </div>
          <div class="contact-item">
            <i class="fas fa-phone"></i> <span>034 226 6204</span>
          </div>
          <div class="contact-item">
            <i class="fas fa-location-dot"></i>
            <span>THPT T√¥n ƒê·ª©c Th·∫Øng, ƒê·ªìng Nai</span>
          </div>
        </div>

        <div class="footer-links">
          <h4>ƒê·ªôi ng≈© DNT</h4>
          <p style="color: #94a3b8">
            "S√°ng t·∫°o kh√¥ng ng·ª´ng - V∆∞∆°n t·∫ßm tri th·ª©c"
          </p>
          <div
            style="
              margin-top: 20px;
              padding: 15px;
              background: rgba(255, 255, 255, 0.05);
              border-radius: 15px;
            "
          >
            <p style="font-size: 0.8rem; color: #fff">
              D·ª± √°n ƒë∆∞·ª£c ph√°t tri·ªÉn b·ªüi c√°c th√†nh vi√™n ƒëam m√™ c√¥ng ngh·ªá t·∫°i Vi·ªát
              Nam.
            </p>
          </div>
        </div>
      </div>

      <div class="copyright">
        <p>
          ¬© 2024 EDUMATTER Educational Ecosystem. Designed with
          <i class="fas fa-heart" style="color: #ef4444"></i> by DNT Team.
        </p>
      </div>
    </footer>

    <!-- ================= 9. JAVASCRIPT LOGIC ================= -->
    <script>
      // --- 1. THEME & UI LOGIC ---
      const themeToggle = document.getElementById("theme-toggle");
      const themeIcon = document.getElementById("theme-icon");
      const html = document.documentElement;

      function updateThemeIcon() {
        if (html.classList.contains("dark")) {
          themeIcon.classList.remove("fa-moon");
          themeIcon.classList.add("fa-sun");
        } else {
          themeIcon.classList.remove("fa-sun");
          themeIcon.classList.add("fa-moon");
        }
      }

      // Check local storage or system preference
      if (
        localStorage.theme === "dark" ||
        (!("theme" in localStorage) &&
          window.matchMedia("(prefers-color-scheme: dark)").matches)
      ) {
        html.classList.add("dark");
      } else {
        html.classList.remove("dark");
      }
      updateThemeIcon();

      themeToggle.addEventListener("click", () => {
        html.classList.toggle("dark");
        if (html.classList.contains("dark")) {
          localStorage.theme = "dark";
        } else {
          localStorage.theme = "light";
        }
        updateThemeIcon();
      });

      // Sticky Navbar Effect
      window.addEventListener("scroll", () => {
        const nav = document.getElementById("navbar");
        if (window.scrollY > 50) {
          nav.classList.add("shadow-md", "bg-white/80", "dark:bg-slate-900/80");
        } else {
          nav.classList.remove(
            "shadow-md",
            "bg-white/80",
            "dark:bg-slate-900/80",
          );
        }
      });

      // --- 2. ACID SIMULATION (Zn + HCl) ---
      let hasZinc = false;
      let hasAcid = false;

      function addZinc() {
        if (hasZinc) return;
        const zinc = document.getElementById("zinc-pellet");
        zinc.style.opacity = "1";
        hasZinc = true;
        checkAcidReaction();
      }

      function addAcid() {
        if (hasAcid) return;
        const liquid = document.getElementById("acid-liquid");
        liquid.style.height = "60%";
        liquid.style.backgroundColor = "rgba(200, 230, 255, 0.4)";
        hasAcid = true;
        setTimeout(checkAcidReaction, 1000); // Delay for liquid to fill
      }

      function checkAcidReaction() {
        if (hasZinc && hasAcid) {
          const container = document.getElementById("bubbles-container");
          document.getElementById("acid-result").innerHTML =
            "Ph·∫£n ·ª©ng x·∫£y ra! Kh√≠ H‚ÇÇ tho√°t ra m·∫°nh, Zn tan d·∫ßn.";

          // Create bubbles loop
          const interval = setInterval(() => {
            if (!hasZinc || !hasAcid) {
              clearInterval(interval);
              return;
            }
            const bubble = document.createElement("div");
            bubble.className = "bubble";
            // Random size and position
            const size = Math.random() * 10 + 5;
            const left = Math.random() * 40 + 10; // Centerish

            bubble.style.width = `${size}px`;
            bubble.style.height = `${size}px`;
            bubble.style.left = `${left}px`;
            bubble.style.bottom = "10px";
            bubble.style.animation = `bubble ${Math.random() * 1 + 1}s linear infinite`;

            container.appendChild(bubble);

            // Remove after animation
            setTimeout(() => bubble.remove(), 2000);
          }, 200);

          // Dissolve Zinc visual effect
          setTimeout(() => {
            document.getElementById("zinc-pellet").style.transform =
              "translate(-50%) scale(0.5)";
          }, 3000);
        }
      }

      function resetAcidSim() {
        hasZinc = false;
        hasAcid = false;
        document.getElementById("zinc-pellet").style.opacity = "0";
        document.getElementById("zinc-pellet").style.transform =
          "translate(-50%) scale(1)";
        document.getElementById("acid-liquid").style.height = "0";
        document.getElementById("bubbles-container").innerHTML = "";
        document.getElementById("acid-result").innerText = "";
      }

      // --- 3. BASE pH SIMULATION (Food Test) ---
      function updatePH(val) {
        const display = document.getElementById("ph-display");
        const slider = document.getElementById("ph-slider");
        slider.value = val;
        let color = "";
        let text = "";

        if (val < 7) {
          color = "#ef4444"; // Red
          text = `pH = ${val}: ACID (Qu·ª≥ ‚Üí ƒê·ªè)`;
        } else if (val == 7) {
          color = "#22c55e"; // Green
          text = `pH = ${val}: TRUNG T√çNH (Kh√¥ng ƒë·ªïi m√†u)`;
        } else {
          color = "#3b82f6"; // Blue
          text = `pH = ${val}: BASE (Qu·ª≥ ‚Üí Xanh)`;
        }

        display.style.backgroundColor = color;
        display.innerText = text;
      }

      function setPH(val, label) {
        updatePH(val);
        const display = document.getElementById("ph-display");
        display.innerText = `${label} - pH ~ ${val}`;
      }

      // --- 4. OXIDE SIMULATION (CuO + HCl) ---
      function addHCLtoCuO() {
        const liquid = document.getElementById("cuo-liquid");
        const powder = document.getElementById("cuo-powder");
        const result = document.getElementById("cuo-result");

        // Fill with HCl
        liquid.style.height = "60%";
        liquid.style.backgroundColor = "rgba(200, 230, 255, 0.4)"; // Clear HCl color

        setTimeout(() => {
          // Reaction happens
          liquid.style.backgroundColor = "rgba(34, 197, 94, 0.8)"; // Green CuCl2
          powder.style.opacity = "0"; // Dissolve
          result.innerText =
            "Hi·ªán t∆∞·ª£ng: B·ªôt ƒëen tan d·∫ßn, dung d·ªãch chuy·ªÉn sang m√†u xanh l√° (CuCl‚ÇÇ).";
          result.className =
            "mt-3 text-sm font-bold text-green-600 min-h-[20px] text-center";
        }, 1500);
      }

      function resetCuO() {
        document.getElementById("cuo-liquid").style.height = "0";
        document.getElementById("cuo-powder").style.opacity = "1";
        document.getElementById("cuo-result").innerText =
          "Tr·∫°ng th√°i: B·ªôt CuO m√†u ƒëen ·ªü ƒë√°y ·ªëng nghi·ªám.";
        document.getElementById("cuo-result").className =
          "mt-3 text-sm text-slate-700 dark:text-slate-300 italic min-h-[20px] text-center";
      }

      // --- 5. SALT REACTION ---
      function dropSalt(type) {
        const beaker = document.getElementById("salt-beaker");
        if (!beaker) return;

        const drop = document.createElement("div");
        drop.className =
          "absolute left-1/2 -translate-x-1/2 w-4 h-4 rounded-full z-10";
        drop.style.top = "0";
        drop.style.backgroundColor = type === "NaCl" ? "#93c5fd" : "#cbd5e1"; // Blue-300 vs Slate-300
        drop.style.transition = "top 0.5s ease-in, opacity 0.5s ease-in";

        beaker.appendChild(drop);

        // Trigger animation
        requestAnimationFrame(() => {
          drop.style.top = "80%";
          drop.style.opacity = "0";
        });

        // Remove after animation
        setTimeout(() => drop.remove(), 500);
      }

      function runSaltReaction() {
        const sol = document.getElementById("salt-solution");
        const ppt = document.getElementById("precipitate");

        // Fill solution
        sol.style.height = "80%";

        setTimeout(() => {
          // Form precipitate
          ppt.style.height = "20px";
          ppt.style.bottom = "0";
        }, 1000);
      }
      function resetSalt() {
        document.getElementById("salt-solution").style.height = "0";
        document.getElementById("precipitate").style.height = "0";
      }

      // --- 6. FERTILIZER SIM ---
      function feedPlant(type) {
        const leaf1 = document.getElementById("leaf-1");
        const leaf2 = document.getElementById("leaf-2");
        const fruit = document.getElementById("fruit");
        const status = document.getElementById("plant-status");

        if (type === "N") {
          leaf1.setAttribute("fill", "#15803d"); // Dark green
          leaf2.setAttribute("fill", "#15803d");
          status.innerText = "ƒê√£ b√≥n ƒê·∫°m: L√° xanh t·ªët, quang h·ª£p m·∫°nh!";
          status.className =
            "text-xs text-center text-green-600 font-bold bg-white/80 p-1 rounded";
        } else if (type === "K") {
          fruit.setAttribute("r", "10"); // Grow fruit
          status.innerText = "ƒê√£ b√≥n Kali: Ra qu·∫£, tƒÉng s·ª©c ƒë·ªÅ kh√°ng!";
          status.className =
            "text-xs text-center text-purple-600 font-bold bg-white/80 p-1 rounded";
        }
      }

      function resetPlant() {
        document.getElementById("leaf-1").setAttribute("fill", "#facc15"); // Yellow
        document.getElementById("leaf-2").setAttribute("fill", "#facc15");
        document.getElementById("fruit").setAttribute("r", "0");
        document.getElementById("plant-status").innerText =
          "C√¢y ƒëang c√≤i c·ªçc, l√° v√†ng!";
        document.getElementById("plant-status").className =
          "text-xs text-center text-red-500 font-bold bg-white/80 p-1 rounded";
      }

      // --- 7. QUIZ GAME (Updated) ---
      const questions = [
        {
          q: "Ch·∫•t n√†o sau ƒë√¢y l√† acid?",
          a: ["KCl", "NaOH", "HClO‚ÇÑ", "CaO"],
          correct: 2,
        },
        {
          q: "Hi·ªán t∆∞·ª£ng khi cho Mg v√†o dung d·ªãch HCl?",
          a: [
            "Kh√¥ng hi·ªán t∆∞·ª£ng",
            "K·∫øt t·ªßa tr·∫Øng",
            "S·ªßi b·ªçt kh√≠",
            "Dung d·ªãch h√≥a xanh",
          ],
          correct: 2,
        },
        {
          q: "Dung d·ªãch c√≥ pH = 10 l√† m√¥i tr∆∞·ªùng g√¨?",
          a: ["Acid", "Trung t√≠nh", "Base", "Mu·ªëi"],
          correct: 2,
        },
        {
          q: "Oxit n√†o t√°c d·ª•ng ƒë∆∞·ª£c v·ªõi dung d·ªãch Acid?",
          a: ["CO", "CO‚ÇÇ", "CuO", "NO"],
          correct: 2,
        },
        {
          q: "Ph√¢n ƒë·∫°m (Urea) cung c·∫•p nguy√™n t·ªë dinh d∆∞·ª°ng n√†o?",
          a: [
            "Nitrogen (N)",
            "Phosphorus (P)",
            "Potassium (K)",
            "Calcium (Ca)",
          ],
          correct: 0,
        },
      ];

      let currentQ = 0;
      let score = 0;

      function loadQuestion() {
        const q = questions[currentQ];
        document.getElementById("question-text").innerText =
          `C√¢u ${currentQ + 1}: ${q.q}`;
        const grid = document.getElementById("options-grid");
        grid.innerHTML = "";

        q.a.forEach((opt, index) => {
          const btn = document.createElement("button");
          btn.className =
            "p-4 rounded-xl border-2 border-slate-200 dark:border-slate-700 hover:border-indigo-500 hover:bg-indigo-50 dark:hover:bg-indigo-900/30 transition text-left font-medium";
          btn.innerText = opt;
          btn.onclick = () => checkAnswer(index, btn);
          grid.appendChild(btn);
        });

        document.getElementById("feedback").classList.add("hidden");
        document.getElementById("next-btn").classList.add("hidden");
      }

      function checkAnswer(selectedIndex, btn) {
        const correctIndex = questions[currentQ].correct;
        const feedback = document.getElementById("feedback");
        const allBtns = document.getElementById("options-grid").children;

        // Disable all buttons
        for (let b of allBtns) b.disabled = true;

        feedback.classList.remove("hidden");

        if (selectedIndex === correctIndex) {
          btn.classList.add(
            "bg-green-100",
            "border-green-500",
            "text-green-700",
          );
          feedback.innerHTML =
            "<i class='fas fa-check-circle text-green-500'></i> Ch√≠nh x√°c!";
          feedback.className =
            "mt-6 p-4 rounded-xl text-center font-bold bg-green-50 text-green-700";
          score++;
        } else {
          btn.classList.add("bg-red-100", "border-red-500", "text-red-700");
          allBtns[correctIndex].classList.add(
            "bg-green-100",
            "border-green-500",
            "text-green-700",
          );
          feedback.innerHTML = `<i class='fas fa-times-circle text-red-500'></i> Sai r·ªìi! ƒê√°p √°n ƒë√∫ng l√†: ${questions[currentQ].a[correctIndex]}`;
          feedback.className =
            "mt-6 p-4 rounded-xl text-center font-bold bg-red-50 text-red-700";
        }

        // Update progress
        const pct = ((currentQ + 1) / questions.length) * 100;
        document.getElementById("progress-bar").style.width = `${pct}%`;

        document.getElementById("next-btn").classList.remove("hidden");
      }

      function nextQuestion() {
        currentQ++;
        if (currentQ < questions.length) {
          loadQuestion();
        } else {
          finishQuiz();
        }
      }

      function finishQuiz() {
        document.getElementById("quiz-container").children[0].innerText =
          "K·∫øt th√∫c!";
        document.getElementById("options-grid").innerHTML = "";
        document.getElementById("feedback").classList.add("hidden");
        document.getElementById("next-btn").classList.add("hidden");

        const resultDiv = document.getElementById("quiz-reset-container");
        resultDiv.classList.remove("hidden");
        resultDiv.querySelector("h3").innerText =
          `B·∫°n ƒë·∫°t ${score}/${questions.length} ƒëi·ªÉm!`;
      }

      function restartQuiz() {
        currentQ = 0;
        score = 0;
        document.getElementById("quiz-reset-container").classList.add("hidden");
        document.getElementById("progress-bar").style.width = "0%";
        loadQuestion();
      }

      // Init
      document.addEventListener("DOMContentLoaded", () => {
        loadQuestion();
        resetPlant(); // Init SVG state
      });
    </script>
  </body>
</html>
