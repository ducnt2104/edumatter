<!DOCTYPE html>
<html lang="vi" class="dark">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Ch·ªß ƒë·ªÅ 2: Hydrocacbon & Nhi√™n Li·ªáu</title>
    <!-- Tailwind CSS -->
    <link rel="icon" href="../../../favicon/educhem.svg" type="image/svg+xml" />
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
      tailwind.config = {
        darkMode: "class",
        theme: {
          extend: {
            colors: {
              chem: {
                bg: "#0f172a",
                card: "rgba(30, 41, 59, 0.7)",
                primary: "#3b82f6",
                accent: "#10b981",
              },
            },
            animation: {
              float: "float 6s ease-in-out infinite",
              bubble: "bubble 2s infinite",
            },
            keyframes: {
              float: {
                "0%, 100%": { transform: "translateY(0)" },
                "50%": { transform: "translateY(-10px)" },
              },
              bubble: {
                "0%": { transform: "translateY(100%) scale(0)", opacity: 0 },
                "50%": { opacity: 1 },
                "100%": { transform: "translateY(0) scale(1)", opacity: 0 },
              },
            },
          },
        },
      };
    </script>
    <!-- FontAwesome -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />
    <!-- Google Fonts -->
    <link
      href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;600;700;800&display=swap"
      rel="stylesheet"
    />

    <style>
      body {
        font-family: "Nunito", sans-serif;
        transition: background-color 0.3s, color 0.3s;
      }

      /* Custom Scrollbar */
      ::-webkit-scrollbar {
        width: 8px;
      }
      ::-webkit-scrollbar-track {
        background: transparent;
      }
      ::-webkit-scrollbar-thumb {
        background: #475569;
        border-radius: 4px;
      }
      ::-webkit-scrollbar-thumb:hover {
        background: #64748b;
      }

      /* 3D Molecule Engine CSS */
      .scene-3d {
        perspective: 800px;
        width: 100%;
        height: 300px;
        display: flex;
        justify-content: center;
        align-items: center;
        overflow: hidden;
        cursor: grab;
      }
      .scene-3d:active {
        cursor: grabbing;
      }

      .molecule-container {
        position: relative;
        width: 100px;
        height: 100px;
        transform-style: preserve-3d;
        animation: rotateAuto 15s infinite linear;
      }

      @keyframes rotateAuto {
        from {
          transform: rotateX(10deg) rotateY(0deg);
        }
        to {
          transform: rotateX(10deg) rotateY(360deg);
        }
      }

      .atom {
        position: absolute;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-weight: bold;
        box-shadow: inset -3px -3px 5px rgba(0, 0, 0, 0.5);
      }

      .atom-c {
        width: 40px;
        height: 40px;
        background: radial-gradient(circle at 30% 30%, #4ade80, #16a34a);
        color: white;
        z-index: 10;
      }
      .atom-h {
        width: 25px;
        height: 25px;
        background: radial-gradient(circle at 30% 30%, #f8fafc, #94a3b8);
        color: #333;
        font-size: 10px;
      }
      .atom-cl {
        width: 35px;
        height: 35px;
        background: radial-gradient(circle at 30% 30%, #a3e635, #4d7c0f);
        color: white;
        font-size: 12px;
      }

      .bond {
        position: absolute;
        background: #cbd5e1;
        transform-origin: center left;
      }

      /* Distillation Tower */
      .tower-section {
        transition: all 0.5s ease;
        filter: grayscale(100%) opacity(0.3);
      }
      .tower-section.active {
        filter: grayscale(0%) opacity(1);
        transform: scale(1.02);
        box-shadow: 0 0 15px currentColor;
      }

      /* Glassmorphism Classes */
      .glass-panel {
        background: rgba(255, 255, 255, 0.05);
        backdrop-filter: blur(10px);
        border: 1px solid rgba(255, 255, 255, 0.1);
        box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.37);
      }
      .dark .glass-panel {
        background: rgba(30, 41, 59, 0.6);
      }
      .light .glass-panel {
        background: rgba(255, 255, 255, 0.8);
        border: 1px solid #e2e8f0;
      }

      /* Reaction Animation */
      .reaction-container {
        position: relative;
        overflow: hidden;
      }
      .bubble-particle {
        position: absolute;
        bottom: 0;
        width: 10px;
        height: 10px;
        background: rgba(255, 255, 255, 0.7);
        border-radius: 50%;
        animation: floatUp 2s linear infinite;
      }
      @keyframes floatUp {
        to {
          transform: translateY(-100px);
          opacity: 0;
        }
      }
    </style>
  </head>
  <body
    class="bg-slate-100 dark:bg-slate-900 text-slate-800 dark:text-slate-100 transition-colors duration-300"
  >
    <!-- HEADER / TOP NAV -->
    <nav
      class="sticky top-0 z-50 glass-panel border-b border-gray-200 dark:border-gray-700"
    >
      <div class="max-w-7xl mx-auto px-4">
        <div class="flex items-center justify-between h-16">
          <!-- Logo & Back Button -->
          <div class="flex items-center gap-4">
            <a
              href="../chemstudybaby.html"
              class="flex items-center gap-2 px-3 py-1.5 rounded-lg bg-red-500 hover:bg-red-600 text-white transition text-sm font-bold shadow-lg"
            >
              <i class="fas fa-arrow-left"></i> Go home
            </a>
            <span
              class="text-xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-teal-400 hidden md:block"
            >
              H√≥a H·ªçc 9 - Ch·ªß ƒê·ªÅ 2
            </span>
          </div>

          <!-- Desktop Tabs -->
          <div class="hidden md:flex space-x-1 overflow-x-auto">
            <button
              onclick="switchTab('intro')"
              class="tab-btn px-3 py-2 rounded-md text-sm font-medium transition bg-blue-500/20 text-blue-600 dark:text-blue-400"
              data-target="intro"
            >
              Gi·ªõi Thi·ªáu
            </button>
            <button
              onclick="switchTab('alkan')"
              class="tab-btn px-3 py-2 rounded-md text-sm font-medium transition hover:bg-slate-200 dark:hover:bg-slate-700"
              data-target="alkan"
            >
              Ankan
            </button>
            <button
              onclick="switchTab('alken')"
              class="tab-btn px-3 py-2 rounded-md text-sm font-medium transition hover:bg-slate-200 dark:hover:bg-slate-700"
              data-target="alken"
            >
              Anken
            </button>
            <button
              onclick="switchTab('alkin')"
              class="tab-btn px-3 py-2 rounded-md text-sm font-medium transition hover:bg-slate-200 dark:hover:bg-slate-700"
              data-target="alkin"
            >
              Ankin
            </button>
            <button
              onclick="switchTab('fuel')"
              class="tab-btn px-3 py-2 rounded-md text-sm font-medium transition hover:bg-slate-200 dark:hover:bg-slate-700"
              data-target="fuel"
            >
              Nhi√™n Li·ªáu
            </button>
          </div>

          <!-- Theme Toggle & Mobile Menu -->
          <div class="flex items-center gap-2">
            <button
              onclick="toggleTheme()"
              class="p-2 rounded-full hover:bg-slate-200 dark:hover:bg-slate-700 transition"
            >
              <i class="fas fa-moon dark:hidden text-slate-600"></i>
              <i class="fas fa-sun hidden dark:block text-yellow-400"></i>
            </button>
            <button
              class="md:hidden p-2"
              onclick="document.getElementById('mobile-menu').classList.toggle('hidden')"
            >
              <i class="fas fa-bars text-xl"></i>
            </button>
          </div>
        </div>
      </div>
      <!-- Mobile Tabs -->
      <div
        id="mobile-menu"
        class="hidden md:hidden glass-panel border-t dark:border-slate-700 p-2 grid grid-cols-2 gap-2"
      >
        <button
          onclick="switchTab('intro')"
          class="p-2 rounded bg-blue-500/20 text-center text-sm"
        >
          Gi·ªõi Thi·ªáu
        </button>
        <button
          onclick="switchTab('alkan')"
          class="p-2 rounded hover:bg-slate-700 text-center text-sm"
        >
          Ankan
        </button>
        <button
          onclick="switchTab('alken')"
          class="p-2 rounded hover:bg-slate-700 text-center text-sm"
        >
          Anken
        </button>
        <button
          onclick="switchTab('alkin')"
          class="p-2 rounded hover:bg-slate-700 text-center text-sm"
        >
          Ankin
        </button>
        <button
          onclick="switchTab('fuel')"
          class="p-2 rounded hover:bg-slate-700 text-center text-sm"
        >
          Nhi√™n Li·ªáu
        </button>
      </div>
    </nav>

    <!-- MAIN CONTENT AREA -->
    <main class="max-w-7xl mx-auto p-4 md:p-6 pb-20">
      <!-- SECTION 1: GI·ªöI THI·ªÜU -->
      <section id="intro" class="tab-content animate-fade-in">
        <div class="text-center mb-10">
          <h1
            class="text-4xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-blue-600 to-purple-600 mb-4"
          >
            H·ª£p Ch·∫•t H·ªØu C∆°
          </h1>
          <p class="text-lg text-slate-500 dark:text-slate-400">
            Kh√°i ni·ªám, ph√¢n lo·∫°i v√† c·∫•u t·∫°o ph√¢n t·ª≠
          </p>
        </div>

        <div class="grid md:grid-cols-2 gap-6">
          <!-- Concept Card -->
          <div class="glass-panel p-6 rounded-2xl border-l-4 border-blue-500">
            <h3 class="text-xl font-bold mb-4 flex items-center gap-2">
              <i class="fas fa-book-open text-blue-500"></i> 1. Kh√°i ni·ªám
            </h3>
            <p class="mb-2">
              H·ª£p ch·∫•t h·ªØu c∆° l√† h·ª£p ch·∫•t c·ªßa <strong>Carbon (C)</strong>.
            </p>
            <div
              class="bg-red-500/10 border border-red-500/30 p-3 rounded-lg mb-4 text-sm text-red-600 dark:text-red-300"
            >
              <i class="fas fa-exclamation-triangle"></i>
              <strong>Tr·ª´:</strong> CO, CO‚ÇÇ, Mu·ªëi cacbonat (CaCO‚ÇÉ), Cyanua,
              Cacbua...
            </div>
            <p class="text-sm italic text-slate-500">
              V√≠ d·ª•: Glucose (C‚ÇÜH‚ÇÅ‚ÇÇO‚ÇÜ), Ethanol (C‚ÇÇH‚ÇÖOH), Metan (CH‚ÇÑ).
            </p>
          </div>

          <!-- Organic Chemistry -->
          <div class="glass-panel p-6 rounded-2xl border-l-4 border-purple-500">
            <h3 class="text-xl font-bold mb-4 flex items-center gap-2">
              <i class="fas fa-flask text-purple-500"></i> 2. H√≥a h·ªçc h·ªØu c∆°
            </h3>
            <ul
              class="list-disc list-inside space-y-2 text-slate-700 dark:text-slate-300"
            >
              <li>Ng√†nh h√≥a h·ªçc chuy√™n nghi√™n c·ª©u h·ª£p ch·∫•t h·ªØu c∆°.</li>
              <li>Nghi√™n c·ª©u: C·∫•u t·∫°o, T√≠nh ch·∫•t, ƒêi·ªÅu ch·∫ø, ·ª®ng d·ª•ng.</li>
              <li>
                <strong>W√∂hler (1828):</strong> T·ªïng h·ª£p Urea t·ª´ v√¥ c∆° -> Khai
                sinh ng√†nh HCHC.
              </li>
            </ul>
          </div>

          <!-- Structure Formulas -->
          <div class="glass-panel p-6 rounded-2xl md:col-span-2">
            <h3 class="text-xl font-bold mb-4">3. CTPT & CTCT (ƒê·ªìng ph√¢n)</h3>
            <div class="grid md:grid-cols-2 gap-8">
              <div>
                <h4 class="font-bold text-blue-400">
                  C√¥ng th·ª©c ph√¢n t·ª≠ (CTPT)
                </h4>
                <p class="text-sm mb-2">S·ªë l∆∞·ª£ng nguy√™n t·ª≠ m·ªói nguy√™n t·ªë.</p>
                <div
                  class="bg-slate-200 dark:bg-slate-800 p-3 rounded text-center font-mono text-xl"
                >
                  C‚ÇÇH‚ÇÜO
                </div>
              </div>
              <div>
                <h4 class="font-bold text-green-400">
                  C√¥ng th·ª©c c·∫•u t·∫°o (CTCT)
                </h4>
                <p class="text-sm mb-2">
                  Tr·∫≠t t·ª± li√™n k·∫øt. C√πng CTPT nh∆∞ng CTCT kh√°c nhau ->
                  <strong>ƒê·ªìng ph√¢n</strong>.
                </p>
                <div class="flex flex-col gap-2">
                  <div
                    class="bg-slate-200 dark:bg-slate-800 p-2 rounded flex justify-between items-center"
                  >
                    <span class="font-mono">CH‚ÇÉ-CH‚ÇÇ-OH</span>
                    <span
                      class="text-xs badge bg-green-500 text-white px-2 py-1 rounded"
                      >R∆∞·ª£u (Tan n∆∞·ªõc)</span
                    >
                  </div>
                  <div
                    class="bg-slate-200 dark:bg-slate-800 p-2 rounded flex justify-between items-center"
                  >
                    <span class="font-mono">CH‚ÇÉ-O-CH‚ÇÉ</span>
                    <span
                      class="text-xs badge bg-red-500 text-white px-2 py-1 rounded"
                      >Ete (Kh√≠/Bay h∆°i)</span
                    >
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Mini Game: Sorter -->
        <div class="mt-8 glass-panel p-6 rounded-2xl text-center">
          <h3 class="text-xl font-bold mb-4 text-yellow-500">
            Luy·ªán t·∫≠p nhanh: Ch·∫•t n√†o l√† H·ªØu c∆°?
          </h3>
          <div id="quiz-container" class="space-y-4">
            <div id="quiz-question" class="text-3xl font-bold font-mono py-4">
              CH‚ÇÑ
            </div>
            <div class="flex justify-center gap-4">
              <button
                onclick="checkQuiz(true)"
                class="px-6 py-2 bg-green-600 hover:bg-green-700 rounded-lg text-white font-bold shadow transition transform active:scale-95"
              >
                H·ªØu c∆°
              </button>
              <button
                onclick="checkQuiz(false)"
                class="px-6 py-2 bg-gray-600 hover:bg-gray-700 rounded-lg text-white font-bold shadow transition transform active:scale-95"
              >
                V√¥ c∆°
              </button>
            </div>
            <div id="quiz-result" class="h-6 font-bold text-green-400"></div>
          </div>
        </div>
      </section>

      <!-- SECTION 2: ANKAN (ALKANES) -->
      <section id="alkan" class="tab-content hidden animate-fade-in">
        <header
          class="flex flex-col md:flex-row justify-between items-center mb-8"
        >
          <div>
            <h2 class="text-3xl font-bold text-blue-500">
              II. Ankan (Alkanes)
            </h2>
            <p class="text-slate-500">
              Hydrocacbon no (Ch·ªâ c√≥ li√™n k·∫øt ƒë∆°n C-C)
            </p>
            <p
              class="font-mono text-sm bg-blue-500/10 inline-block px-2 py-1 rounded mt-1"
            >
              CTTQ: C‚ÇôH‚ÇÇ‚Çô‚Çä‚ÇÇ (n ‚â• 1)
            </p>
          </div>
          <div class="text-right hidden md:block">
            <div class="text-sm font-bold text-slate-400">ƒê·∫°i di·ªán: Metan</div>
            <div class="text-4xl font-mono font-black text-slate-200">CH‚ÇÑ</div>
          </div>
        </header>

        <div class="grid lg:grid-cols-2 gap-8">
          <!-- 3D Model Interaction -->
          <div
            class="glass-panel p-4 rounded-2xl flex flex-col items-center justify-center bg-gradient-to-br from-slate-800 to-black"
          >
            <div
              class="text-xs text-slate-400 mb-2 w-full flex justify-between"
            >
              <span>M√¥ h√¨nh 3D (T·ª© di·ªán ƒë·ªÅu)</span>
              <span
                class="text-blue-400 cursor-pointer"
                onclick="resetMolecule('ch4')"
                ><i class="fas fa-sync"></i> Reset</span
              >
            </div>
            <div class="scene-3d" id="scene-ch4">
              <!-- Javascript will inject atoms here -->
            </div>
            <p class="text-center text-xs text-slate-500 mt-2">
              D√πng chu·ªôt/tay ƒë·ªÉ xoay m√¥ h√¨nh
            </p>
          </div>

          <!-- Properties & Reactions -->
          <div class="space-y-6">
            <!-- Physical Properties -->
            <div class="glass-panel p-5 rounded-xl border-l-4 border-blue-400">
              <h3 class="font-bold text-lg mb-2">T√≠nh ch·∫•t v·∫≠t l√Ω</h3>
              <p class="text-sm">
                Ch·∫•t kh√≠ (CH‚ÇÑ ƒë·∫øn C‚ÇÑH‚ÇÅ‚ÇÄ), kh√¥ng m√†u, kh√¥ng m√πi, nh·∫π h∆°n n∆∞·ªõc,
                r·∫•t √≠t tan trong n∆∞·ªõc.
              </p>
              <div class="mt-2 grid grid-cols-3 gap-2 text-center text-xs">
                <div class="bg-slate-700 p-1 rounded">CH‚ÇÑ (Metan)</div>
                <div class="bg-slate-700 p-1 rounded">C‚ÇÇH‚ÇÜ (Etan)</div>
                <div class="bg-slate-700 p-1 rounded">C‚ÇÉH‚Çà (Propan)</div>
              </div>
            </div>

            <!-- Chemical Reaction: Substitution -->
            <div
              class="glass-panel p-5 rounded-xl border-l-4 border-yellow-400 relative overflow-hidden"
            >
              <h3 class="font-bold text-lg mb-2 flex items-center gap-2">
                <i class="fas fa-sun text-yellow-400 animate-spin-slow"></i>
                Ph·∫£n ·ª©ng th·∫ø (ƒê·∫∑c tr∆∞ng)
              </h3>
              <p class="text-sm mb-3">
                Khi c√≥ √°nh s√°ng, Clo th·∫ø ch·ªó H trong ph√¢n t·ª≠ Metan.
              </p>

              <div
                class="bg-slate-900 p-4 rounded-lg font-mono text-center relative"
                id="cl-reaction-box"
              >
                <div id="eq-step-1" class="transition-opacity duration-500">
                  <span class="text-blue-400">CH‚ÇÑ</span> +
                  <span class="text-green-400">Cl‚ÇÇ</span>
                  <span class="text-yellow-500 mx-2">‚ü∂</span> ?
                </div>
                <div
                  id="eq-step-2"
                  class="absolute top-4 left-0 w-full opacity-0 transition-opacity duration-500"
                >
                  <span class="text-blue-300">CH‚ÇÉCl</span> +
                  <span class="text-gray-300">HCl</span>
                </div>
              </div>
              <button
                onclick="runChlorineTest()"
                class="mt-3 w-full py-2 bg-yellow-600 hover:bg-yellow-500 rounded font-bold text-white text-sm"
              >
                Chi·∫øu s√°ng (M√¥ ph·ªèng ph·∫£n ·ª©ng)
              </button>
            </div>

            <!-- Combustion -->
            <div class="glass-panel p-5 rounded-xl border-l-4 border-red-500">
              <h3 class="font-bold text-lg mb-2">
                <i class="fas fa-fire text-red-500"></i> Ph·∫£n ·ª©ng ch√°y
              </h3>
              <p class="font-mono text-sm bg-black/30 p-2 rounded text-center">
                CH‚ÇÑ + 2O‚ÇÇ ‚ü∂ CO‚ÇÇ + 2H‚ÇÇO (T·ªèa nhi·ªát)
              </p>
              <p class="text-xs text-red-400 mt-2 italic">
                *Ch√∫ √Ω: Thi·∫øu Oxi t·∫°o CO g√¢y ng·ªô ƒë·ªôc!
              </p>
            </div>
          </div>
        </div>
      </section>

      <!-- SECTION 3: ANKEN (ALKENES) -->
      <section id="alken" class="tab-content hidden animate-fade-in">
        <header
          class="flex flex-col md:flex-row justify-between items-center mb-8"
        >
          <div>
            <h2 class="text-3xl font-bold text-green-500">
              III. Anken (Alkenes)
            </h2>
            <p class="text-slate-500">
              Hydrocacbon kh√¥ng no (C√≥ 1 li√™n k·∫øt ƒë√¥i C=C)
            </p>
            <p
              class="font-mono text-sm bg-green-500/10 inline-block px-2 py-1 rounded mt-1"
            >
              CTTQ: C‚ÇôH‚ÇÇ‚Çô (n ‚â• 2)
            </p>
          </div>
          <div class="text-right hidden md:block">
            <div class="text-sm font-bold text-slate-400">ƒê·∫°i di·ªán: Etilen</div>
            <div class="text-4xl font-mono font-black text-slate-200">C‚ÇÇH‚ÇÑ</div>
          </div>
        </header>

        <div class="grid lg:grid-cols-2 gap-8">
          <!-- 3D Model -->
          <div
            class="glass-panel p-4 rounded-2xl flex flex-col items-center justify-center bg-gradient-to-br from-slate-800 to-black"
          >
            <div
              class="text-xs text-slate-400 mb-2 w-full flex justify-between"
            >
              <span>M√¥ h√¨nh 3D (C·∫•u t·∫°o ph·∫≥ng)</span>
              <span
                class="text-green-400 cursor-pointer"
                onclick="resetMolecule('c2h4')"
                ><i class="fas fa-sync"></i> Reset</span
              >
            </div>
            <div class="scene-3d" id="scene-c2h4"></div>
          </div>

          <!-- Simulation: Bromine Water Test -->
          <div class="space-y-6">
            <div class="glass-panel p-6 rounded-xl border border-orange-500/50">
              <h3 class="font-bold text-lg text-orange-400 mb-2">
                Th√≠ nghi·ªám: M·∫•t m√†u dung d·ªãch Brom
              </h3>
              <p class="text-sm text-slate-300 mb-4">
                D·∫´n kh√≠ Etilen qua dung d·ªãch Brom (m√†u da cam).
              </p>

              <div class="flex items-end gap-4 justify-center">
                <!-- Test Tube Visualization -->
                <div
                  class="relative w-20 h-40 border-2 border-slate-500 border-t-0 rounded-b-xl bg-slate-800/50 overflow-hidden"
                >
                  <!-- Liquid -->
                  <div
                    id="bromine-liquid"
                    class="absolute bottom-0 w-full h-24 bg-orange-500 transition-colors duration-2000 ease-in-out opacity-80 flex items-center justify-center"
                  >
                    <span class="text-xs font-bold text-black/50">Br‚ÇÇ</span>
                  </div>
                  <!-- Bubbles -->
                  <div
                    id="bubbles-container"
                    class="absolute bottom-0 w-full h-full hidden"
                  >
                    <!-- Bubbles generated by JS -->
                  </div>
                  <!-- Tube Tube -->
                  <div
                    class="absolute -top-10 left-1/2 w-2 h-40 bg-slate-400/30 -translate-x-1/2"
                  ></div>
                </div>

                <div class="flex flex-col gap-2">
                  <button
                    onclick="runBromineSim()"
                    class="px-4 py-2 bg-green-600 hover:bg-green-500 text-white rounded font-bold shadow-lg"
                  >
                    <i class="fas fa-play"></i> D·∫´n kh√≠ C‚ÇÇH‚ÇÑ
                  </button>
                  <button
                    onclick="resetBromineSim()"
                    class="px-4 py-2 bg-slate-600 hover:bg-slate-500 text-white rounded font-bold"
                  >
                    <i class="fas fa-redo"></i> L√†m l·∫°i
                  </button>
                </div>
              </div>

              <div
                id="bromine-result"
                class="mt-4 text-center font-mono text-sm hidden"
              >
                <span class="text-green-400">K·∫øt qu·∫£:</span> Dung d·ªãch m·∫•t
                m√†u.<br />
                C‚ÇÇH‚ÇÑ + Br‚ÇÇ ‚ü∂ C‚ÇÇH‚ÇÑBr‚ÇÇ (Dibrometan)
              </div>
            </div>

            <!-- Polymerization -->
            <div
              class="glass-panel p-4 rounded-xl border-l-4 border-purple-500"
            >
              <h3 class="font-bold text-purple-400">Ph·∫£n ·ª©ng tr√πng h·ª£p</h3>
              <p class="text-sm mt-1">
                ·ªû t¬∞, p, xt th√≠ch h·ª£p, c√°c ph√¢n t·ª≠ etilen k·∫øt h·ª£p t·∫°o th√†nh m·∫°ch
                d√†i (Polymer).
              </p>
              <p
                class="font-mono text-center mt-2 text-xs bg-black/30 p-2 rounded"
              >
                nCH‚ÇÇ=CH‚ÇÇ ‚ü∂ (-CH‚ÇÇ-CH‚ÇÇ-)‚Çô (Nh·ª±a PE)
              </p>
            </div>
          </div>
        </div>
      </section>

      <!-- SECTION 4: ANKIN (ALKYNES) -->
      <section id="alkin" class="tab-content hidden animate-fade-in">
        <header
          class="flex flex-col md:flex-row justify-between items-center mb-8"
        >
          <div>
            <h2 class="text-3xl font-bold text-red-500">IV. Ankin (Alkynes)</h2>
            <p class="text-slate-500">
              Hydrocacbon kh√¥ng no (C√≥ 1 li√™n k·∫øt ba C‚â°C)
            </p>
            <p
              class="font-mono text-sm bg-red-500/10 inline-block px-2 py-1 rounded mt-1"
            >
              CTTQ: C‚ÇôH‚ÇÇ‚Çô‚Çã‚ÇÇ (n ‚â• 2)
            </p>
          </div>
          <div class="text-right hidden md:block">
            <div class="text-sm font-bold text-slate-400">
              ƒê·∫°i di·ªán: Axetilen
            </div>
            <div class="text-4xl font-mono font-black text-slate-200">C‚ÇÇH‚ÇÇ</div>
          </div>
        </header>

        <div class="grid lg:grid-cols-2 gap-8">
          <div
            class="glass-panel p-4 rounded-2xl flex flex-col items-center justify-center bg-gradient-to-br from-slate-800 to-black"
          >
            <div
              class="text-xs text-slate-400 mb-2 w-full flex justify-between"
            >
              <span>M√¥ h√¨nh 3D (Th·∫≥ng h√†ng)</span>
              <span
                class="text-red-400 cursor-pointer"
                onclick="resetMolecule('c2h2')"
                ><i class="fas fa-sync"></i> Reset</span
              >
            </div>
            <div class="scene-3d" id="scene-c2h2"></div>
          </div>

          <div class="space-y-5">
            <!-- Combustion / Welding -->
            <div
              class="glass-panel p-5 rounded-xl bg-orange-900/20 border border-orange-500/30"
            >
              <h3 class="font-bold text-orange-400 flex items-center gap-2">
                <i class="fas fa-fire-alt"></i> ·ª®ng d·ª•ng: H√†n c·∫Øt kim lo·∫°i
              </h3>
              <p class="text-sm mb-2">
                Axetilen ch√°y trong Oxi t·∫°o ng·ªçn l·ª≠a nhi·ªát ƒë·ªô r·∫•t cao (3000¬∞C).
              </p>
              <div class="bg-black/40 p-3 rounded font-mono text-center">
                2C‚ÇÇH‚ÇÇ + 5O‚ÇÇ ‚ü∂ 4CO‚ÇÇ + 2H‚ÇÇO
              </div>
            </div>

            <!-- Other Reactions -->
            <div class="glass-panel p-5 rounded-xl">
              <h3 class="font-bold mb-2">T√≠nh ch·∫•t h√≥a h·ªçc kh√°c</h3>
              <ul class="space-y-3 text-sm">
                <li class="flex items-start gap-2">
                  <i class="fas fa-plus-circle text-green-500 mt-1"></i>
                  <div>
                    <strong>Ph·∫£n ·ª©ng c·ªông Brom:</strong> C·ªông 2 n·∫•c.<br />
                    <span class="font-mono text-xs text-slate-400"
                      >C‚ÇÇH‚ÇÇ + 2Br‚ÇÇ ‚ü∂ C‚ÇÇH‚ÇÇBr‚ÇÑ</span
                    >
                  </div>
                </li>
                <li class="flex items-start gap-2">
                  <i class="fas fa-flask text-purple-500 mt-1"></i>
                  <div>
                    <strong>ƒêi·ªÅu ch·∫ø:</strong> Cho ƒë·∫•t ƒë√®n (Canxi cacbua) v√†o
                    n∆∞·ªõc.<br />
                    <span class="font-mono text-xs text-slate-400"
                      >CaC‚ÇÇ + 2H‚ÇÇO ‚ü∂ C‚ÇÇH‚ÇÇ + Ca(OH)‚ÇÇ</span
                    >
                  </div>
                </li>
              </ul>
            </div>

            <div
              class="glass-panel p-3 rounded border border-red-500 text-red-400 text-xs"
            >
              <i class="fas fa-bomb"></i> <strong>L∆∞u √Ω:</strong> Axetilen d·ªÖ n·ªï
              khi b·ªã n√©n m·∫°nh.
            </div>
          </div>
        </div>
      </section>

      <!-- SECTION 5: NHI√äN LI·ªÜU (FUELS) -->
      <section id="fuel" class="tab-content hidden animate-fade-in">
        <div class="text-center mb-8">
          <h2 class="text-3xl font-bold text-yellow-500">
            V. Ngu·ªìn Nhi√™n Li·ªáu
          </h2>
          <p class="text-slate-500">
            D·∫ßu m·ªè, Kh√≠ thi√™n nhi√™n & Ch∆∞ng c·∫•t ph√¢n ƒëo·∫°n
          </p>
        </div>

        <div class="grid md:grid-cols-3 gap-6">
          <!-- Distillation Column Simulation -->
          <div
            class="md:col-span-2 glass-panel p-6 rounded-2xl border border-slate-600"
          >
            <h3 class="text-xl font-bold mb-4 flex justify-between">
              <span><i class="fas fa-industry"></i> Th√°p ch∆∞ng c·∫•t d·∫ßu m·ªè</span>
              <span id="temp-display" class="font-mono text-red-500">20¬∞C</span>
            </h3>

            <div class="flex gap-4 h-[400px]">
              <!-- The Tower -->
              <div
                class="w-24 bg-gradient-to-t from-slate-900 to-slate-700 rounded-lg border-2 border-slate-500 relative flex flex-col-reverse justify-between p-1"
              >
                <div
                  class="tower-section h-1/5 bg-red-900 rounded-b text-[10px] text-center text-white flex items-center justify-center"
                  id="sec-nhuaduong"
                >
                  Nh·ª±a ƒë∆∞·ªùng
                </div>
                <div
                  class="tower-section h-1/5 bg-yellow-900 text-[10px] text-center text-white flex items-center justify-center"
                  id="sec-dau-diesel"
                >
                  D·∫ßu Diesel
                </div>
                <div
                  class="tower-section h-1/5 bg-yellow-700 text-[10px] text-center text-white flex items-center justify-center"
                  id="sec-dau-hoa"
                >
                  D·∫ßu h·ªèa
                </div>
                <div
                  class="tower-section h-1/5 bg-yellow-500 text-[10px] text-center text-black flex items-center justify-center"
                  id="sec-xang"
                >
                  XƒÉng
                </div>
                <div
                  class="tower-section h-1/5 bg-yellow-200 rounded-t text-[10px] text-center text-black flex items-center justify-center"
                  id="sec-khi"
                >
                  Kh√≠ (LPG)
                </div>
              </div>

              <!-- Info Panel -->
              <div class="flex-1 flex flex-col">
                <div
                  class="flex-1 glass-panel p-4 rounded-xl mb-4 flex items-center justify-center text-center"
                >
                  <p id="distill-info" class="text-slate-400">
                    K√©o thanh nhi·ªát ƒë·ªô ƒë·ªÉ xem s·∫£n ph·∫©m thu ƒë∆∞·ª£c ·ªü t·ª´ng ph√¢n
                    ƒëo·∫°n.
                  </p>
                </div>

                <!-- Slider -->
                <div class="bg-slate-800 p-4 rounded-xl">
                  <label class="text-xs text-slate-400 block mb-2"
                    >TƒÉng nhi·ªát ƒë·ªô s√¥i</label
                  >
                  <input
                    type="range"
                    min="20"
                    max="400"
                    value="20"
                    class="w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer"
                    id="temp-slider"
                    oninput="updateDistillation(this.value)"
                  />
                  <div class="flex justify-between text-xs text-slate-500 mt-1">
                    <span>20¬∞C</span>
                    <span>400¬∞C</span>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- Biofuels & Environment -->
          <div class="space-y-4">
            <div class="glass-panel p-5 rounded-xl border-l-4 border-green-500">
              <h4 class="font-bold text-green-500 text-lg">
                Nhi√™n li·ªáu sinh h·ªçc
              </h4>
              <ul class="text-sm space-y-2 mt-2">
                <li><strong>E5:</strong> 95% XƒÉng A92 + 5% Ethanol.</li>
                <li>
                  <strong>Biodiesel:</strong> T·ª´ d·∫ßu th·ª±c v·∫≠t/m·ª° ƒë·ªông v·∫≠t.
                </li>
                <li>
                  <i class="fas fa-check text-green-500"></i> Th√¢n thi·ªán m√¥i
                  tr∆∞·ªùng, t√°i t·∫°o ƒë∆∞·ª£c.
                </li>
              </ul>
            </div>

            <div class="glass-panel p-5 rounded-xl border-l-4 border-blue-500">
              <h4 class="font-bold text-blue-500 text-lg">Kh√≠ thi√™n nhi√™n</h4>
              <p class="text-sm mt-2">
                Th√†nh ph·∫ßn ch√≠nh l√† <strong>Metan (95%)</strong>.
              </p>
              <p class="text-sm mt-1">
                D√πng l√†m nhi√™n li·ªáu, nguy√™n li·ªáu s·∫£n xu·∫•t ph√¢n ƒë·∫°m, ch·∫•t d·∫ªo.
              </p>
            </div>
          </div>
        </div>
      </section>
    </main>

    <!-- JAVASCRIPT LOGIC -->
    <script>
      // --- 1. THEME LOGIC ---
      function toggleTheme() {
        const html = document.querySelector("html");
        html.classList.toggle("dark");
      }

      // --- 2. TAB NAVIGATION ---
      function switchTab(tabId) {
        // Hide all content
        document
          .querySelectorAll(".tab-content")
          .forEach((el) => el.classList.add("hidden"));
        // Show selected
        document.getElementById(tabId).classList.remove("hidden");

        // Update buttons state
        document.querySelectorAll(".tab-btn").forEach((btn) => {
          btn.classList.remove(
            "bg-blue-500/20",
            "text-blue-600",
            "dark:text-blue-400"
          );
          if (btn.dataset.target === tabId) {
            btn.classList.add(
              "bg-blue-500/20",
              "text-blue-600",
              "dark:text-blue-400"
            );
          }
        });

        // Trigger specific renders if needed
        if (tabId === "alkan") renderMolecule("ch4");
        if (tabId === "alken") renderMolecule("c2h4");
        if (tabId === "alkin") renderMolecule("c2h2");
      }

      // --- 3. 3D MOLECULE ENGINE (CSS ONLY) ---
      function createAtom(type, x, y, z) {
        const el = document.createElement("div");
        el.className = `atom atom-${type}`;
        el.innerHTML = type === "c" ? "C" : type === "h" ? "H" : type;
        // Translate3d logic
        el.style.transform = `translate3d(${x}px, ${y}px, ${z}px)`;
        return el;
      }

      function createBond(length, angleX, angleY, angleZ, x, y, z) {
        const el = document.createElement("div");
        el.className = "bond";
        el.style.width = length + "px";
        el.style.height = "6px";
        el.style.transform = `translate3d(${x}px, ${y}px, ${z}px) rotateX(${angleX}deg) rotateY(${angleY}deg) rotateZ(${angleZ}deg)`;
        return el;
      }

      function renderMolecule(type) {
        const container = document.getElementById(`scene-${type}`);
        container.innerHTML = ""; // Clear
        const wrapper = document.createElement("div");
        wrapper.className = "molecule-container";
        wrapper.id = `mol-${type}`;

        if (type === "ch4") {
          // Carbon Center
          wrapper.appendChild(createAtom("c", 30, 30, 0));
          // 4 Hydrogens (Tetrahedral approx)
          // H1 Top
          wrapper.appendChild(createBond(40, 0, 0, -90, 50, 10, 0));
          wrapper.appendChild(createAtom("h", 37, -20, 0));
          // H2 Bottom Left Front
          wrapper.appendChild(createBond(40, 0, 0, 30, 50, 50, 0)); // Simplified visual
          wrapper.appendChild(createAtom("h", 80, 70, 20));
          // H3 Bottom Right Back
          wrapper.appendChild(createBond(40, 0, 0, 150, 10, 50, 0));
          wrapper.appendChild(createAtom("h", -20, 70, -20));
          // H4
          wrapper.appendChild(createAtom("h", -10, 20, 40)); // Approx
        } else if (type === "c2h4") {
          // Double Bond
          wrapper.appendChild(createBond(50, 0, 0, 0, 25, 47, 0));
          wrapper.appendChild(createBond(50, 0, 0, 0, 25, 53, 0));

          // 2 Carbons
          wrapper.appendChild(createAtom("c", 0, 30, 0));
          wrapper.appendChild(createAtom("c", 60, 30, 0));

          // 4 Hydrogens
          wrapper.appendChild(createAtom("h", -30, 0, 0));
          wrapper.appendChild(createAtom("h", -30, 80, 0));
          wrapper.appendChild(createAtom("h", 90, 0, 0));
          wrapper.appendChild(createAtom("h", 90, 80, 0));
        } else if (type === "c2h2") {
          // Triple Bond
          wrapper.appendChild(createBond(60, 0, 0, 0, 20, 45, 0));
          wrapper.appendChild(createBond(60, 0, 0, 0, 20, 50, 0));
          wrapper.appendChild(createBond(60, 0, 0, 0, 20, 55, 0));

          // 2 Carbons (Linear)
          wrapper.appendChild(createAtom("c", 0, 30, 0));
          wrapper.appendChild(createAtom("c", 60, 30, 0));

          // 2 Hydrogens
          wrapper.appendChild(createAtom("h", -30, 37, 0));
          wrapper.appendChild(createAtom("h", 90, 37, 0));
        }
        container.appendChild(wrapper);
      }

      function resetMolecule(type) {
        renderMolecule(type);
      }

      // --- 4. SIMULATIONS ---

      // A. QUIZ
      const organicItems = ["CH‚ÇÑ", "C‚ÇÇH‚ÇÖOH", "C‚ÇÜH‚ÇÅ‚ÇÇO‚ÇÜ", "C‚ÇÇH‚ÇÇ"];
      const inorganicItems = ["CO‚ÇÇ", "CaCO‚ÇÉ", "NaCl", "H‚ÇÇO"];
      let currentQuizItem = "CH‚ÇÑ";

      function nextQuizItem() {
        const all = [...organicItems, ...inorganicItems];
        currentQuizItem = all[Math.floor(Math.random() * all.length)];
        document.getElementById("quiz-question").innerText = currentQuizItem;
        document.getElementById("quiz-result").innerText = "";
      }

      function checkQuiz(isOrganic) {
        const actuallyOrganic = organicItems.includes(currentQuizItem);
        const resultDiv = document.getElementById("quiz-result");
        if (isOrganic === actuallyOrganic) {
          resultDiv.innerText = "Ch√≠nh x√°c! üéâ";
          resultDiv.className = "h-6 font-bold text-green-500";
        } else {
          resultDiv.innerText = "Sai r·ªìi! Th·ª≠ l·∫°i nh√©. üòÖ";
          resultDiv.className = "h-6 font-bold text-red-500";
        }
        setTimeout(nextQuizItem, 1500);
      }

      // B. CHLORINE SUBSTITUTION
      function runChlorineTest() {
        const step1 = document.getElementById("eq-step-1");
        const step2 = document.getElementById("eq-step-2");

        step1.style.opacity = "0";
        setTimeout(() => {
          step2.style.opacity = "1";
          step2.classList.add("animate-pulse");
        }, 500);

        // Reset after 3s
        setTimeout(() => {
          step2.style.opacity = "0";
          step2.classList.remove("animate-pulse");
          setTimeout(() => {
            step1.style.opacity = "1";
          }, 500);
        }, 4000);
      }

      // C. BROMINE TEST
      function runBromineSim() {
        const liquid = document.getElementById("bromine-liquid");
        const bubblesContainer = document.getElementById("bubbles-container");
        const resultText = document.getElementById("bromine-result");

        // 1. Show bubbles
        bubblesContainer.classList.remove("hidden");
        bubblesContainer.innerHTML = "";
        for (let i = 0; i < 10; i++) {
          let b = document.createElement("div");
          b.className = "bubble-particle";
          b.style.left = Math.random() * 80 + 10 + "%";
          b.style.animationDelay = Math.random() + "s";
          bubblesContainer.appendChild(b);
        }

        // 2. Change color after delay
        setTimeout(() => {
          liquid.classList.remove("bg-orange-500");
          liquid.classList.add("bg-blue-100"); // Colorless/Water like
          liquid.style.opacity = "0.3";
          resultText.classList.remove("hidden");
        }, 1500);
      }

      function resetBromineSim() {
        const liquid = document.getElementById("bromine-liquid");
        const bubblesContainer = document.getElementById("bubbles-container");
        const resultText = document.getElementById("bromine-result");

        liquid.classList.add("bg-orange-500");
        liquid.classList.remove("bg-blue-100");
        liquid.style.opacity = "0.8";
        bubblesContainer.classList.add("hidden");
        resultText.classList.add("hidden");
      }

      // D. DISTILLATION TOWER
      function updateDistillation(temp) {
        document.getElementById("temp-display").innerText = temp + "¬∞C";
        const info = document.getElementById("distill-info");

        // Reset highlighting
        document
          .querySelectorAll(".tower-section")
          .forEach((el) => el.classList.remove("active"));

        if (temp < 65) {
          document.getElementById("sec-khi").classList.add("active");
          info.innerHTML =
            "<span class='text-yellow-400 font-bold'>Kh√≠ ƒë·ªët (LPG):</span> D√πng cho b·∫øp gas, l√≤ s∆∞·ªüi.";
        } else if (temp < 170) {
          document.getElementById("sec-xang").classList.add("active");
          info.innerHTML =
            "<span class='text-yellow-500 font-bold'>XƒÉng:</span> Nhi√™n li·ªáu cho √¥ t√¥, xe m√°y.";
        } else if (temp < 250) {
          document.getElementById("sec-dau-hoa").classList.add("active");
          info.innerHTML =
            "<span class='text-yellow-600 font-bold'>D·∫ßu h·ªèa:</span> Nhi√™n li·ªáu ph·∫£n l·ª±c, th·∫Øp s√°ng.";
        } else if (temp < 340) {
          document.getElementById("sec-dau-diesel").classList.add("active");
          info.innerHTML =
            "<span class='text-yellow-700 font-bold'>D·∫ßu Diesel:</span> Nhi√™n li·ªáu xe t·∫£i, t√†u h·ªèa.";
        } else {
          document.getElementById("sec-nhuaduong").classList.add("active");
          info.innerHTML =
            "<span class='text-red-900 font-bold'>Nh·ª±a ƒë∆∞·ªùng:</span> L√†m ƒë∆∞·ªùng, ch·ªëng th·∫•m.";
        }
      }

      // --- INIT ---
      window.onload = function () {
        switchTab("intro"); // Start at intro
        renderMolecule("ch4"); // Pre-render to fix visual glitch
      };
    </script>
  </body>
</html>
