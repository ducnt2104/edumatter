<!DOCTYPE html>
<html lang="vi" class="light">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Chuy√™n ƒê·ªÅ 4: H·ª£p Ch·∫•t S·ª± S·ªëng - H√≥a H·ªçc 9</title>
    <link rel="icon" href="../../../favicon/educhem.svg" type="image/svg+xml" />
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
      tailwind.config = {
        darkMode: "class",
        theme: {
          extend: {
            colors: {
              bioLipid: "#eab308", // Yellow
              bioCarb: "#22c55e", // Green
              bioProt: "#ef4444", // Red
              bioPoly: "#3b82f6", // Blue
              darkBg: "#0f172a",
              lightBg: "#f0f9ff",
            },
          },
        },
      };
    </script>

    <!-- Three.js -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <!-- Font Awesome -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />
    <!-- Fonts -->
    <link
      href="https://fonts.googleapis.com/css2?family=Be+Vietnam+Pro:wght@400;600;700;900&display=swap"
      rel="stylesheet"
    />

    <style>
      body {
        font-family: "Be Vietnam Pro", sans-serif;
        transition: background-color 0.3s, color 0.3s;
      }

      /* Glassmorphism */
      .glass-panel {
        background: rgba(255, 255, 255, 0.85);
        backdrop-filter: blur(12px);
        border: 1px solid rgba(255, 255, 255, 0.5);
        box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.15);
      }
      .dark .glass-panel {
        background: rgba(30, 41, 59, 0.7);
        border: 1px solid rgba(255, 255, 255, 0.05);
        box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.3);
      }

      /* Nav Sticky */
      .nav-sticky {
        position: sticky;
        top: 0;
        z-index: 50;
        background: rgba(255, 255, 255, 0.95);
        backdrop-filter: blur(10px);
        border-bottom: 1px solid rgba(0, 0, 0, 0.1);
      }
      .dark .nav-sticky {
        background: rgba(15, 23, 42, 0.95);
        border-bottom: 1px solid rgba(255, 255, 255, 0.1);
      }

      /* Animations */
      @keyframes float {
        0%,
        100% {
          transform: translateY(0);
        }
        50% {
          transform: translateY(-10px);
        }
      }
      .animate-float {
        animation: float 3s ease-in-out infinite;
      }

      .tab-content {
        display: none;
        animation: fadeIn 0.5s;
      }
      .tab-content.active {
        display: block;
      }
      @keyframes fadeIn {
        from {
          opacity: 0;
          transform: translateY(10px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      /* Scrollbar */
      .hide-scrollbar::-webkit-scrollbar {
        display: none;
      }
      .hide-scrollbar {
        -ms-overflow-style: none;
        scrollbar-width: none;
      }
    </style>
  </head>
  <body
    class="bg-lightBg text-slate-800 dark:bg-darkBg dark:text-slate-100 min-h-screen flex flex-col"
  >
    <!-- TOP NAVIGATION (STICKY) -->
    <nav class="nav-sticky w-full shadow-lg">
      <div class="max-w-7xl mx-auto px-2 md:px-4">
        <div class="flex items-center justify-between h-16">
          <!-- Left: Logo & Back -->
          <div class="flex items-center gap-3 flex-shrink-0">
            <a
              href="../chemstudybaby.html"
              class="p-2 rounded-full hover:bg-slate-200 dark:hover:bg-slate-700 transition"
              title="Quay l·∫°i"
            >
              <i
                class="fas fa-arrow-left text-slate-600 dark:text-slate-300"
              ></i>
            </a>
            <h1
              class="hidden md:block text-xl font-black bg-clip-text text-transparent bg-gradient-to-r from-green-500 to-blue-500"
            >
              Chemstudy baby - H√≥a h·ªçc 9: H·ª£p ch·∫•t s·ª± s·ªëng
            </h1>
          </div>

          <!-- Center: Horizontal Scroll Menu -->
          <div
            class="flex-1 overflow-x-auto hide-scrollbar flex items-center justify-start md:justify-center gap-2 px-4"
          >
            <button
              onclick="switchTab('lipid')"
              class="nav-btn whitespace-nowrap px-4 py-2 rounded-full text-sm font-bold transition flex items-center gap-2 text-yellow-600 dark:text-yellow-400 hover:bg-yellow-50 dark:hover:bg-yellow-900/30"
              data-target="lipid"
            >
              <i class="fas fa-oil-can"></i> Lipid
            </button>
            <button
              onclick="switchTab('carb')"
              class="nav-btn whitespace-nowrap px-4 py-2 rounded-full text-sm font-bold transition flex items-center gap-2 text-green-600 dark:text-green-400 hover:bg-green-50 dark:hover:bg-green-900/30"
              data-target="carb"
            >
              <i class="fas fa-seedling"></i> Carb
            </button>
            <button
              onclick="switchTab('protein')"
              class="nav-btn whitespace-nowrap px-4 py-2 rounded-full text-sm font-bold transition flex items-center gap-2 text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/30"
              data-target="protein"
            >
              <i class="fas fa-drumstick-bite"></i> Protein
            </button>
            <button
              onclick="switchTab('polymer')"
              class="nav-btn whitespace-nowrap px-4 py-2 rounded-full text-sm font-bold transition flex items-center gap-2 text-blue-600 dark:text-blue-400 hover:bg-blue-50 dark:hover:bg-blue-900/30"
              data-target="polymer"
            >
              <i class="fas fa-box"></i> Polymer
            </button>
            <button
              onclick="switchTab('lab')"
              class="nav-btn whitespace-nowrap px-4 py-2 rounded-full text-sm font-bold transition flex items-center gap-2 text-purple-600 dark:text-purple-400 border border-purple-200 dark:border-purple-800"
              data-target="lab"
            >
              <i class="fas fa-flask"></i> 6 Th√≠ Nghi·ªám
            </button>
          </div>

          <!-- Right: Theme Toggle -->
          <div class="flex-shrink-0">
            <button
              id="themeToggle"
              class="p-2 rounded-full bg-slate-100 dark:bg-slate-800 hover:scale-110 transition shadow-sm"
            >
              <i class="fas fa-moon dark:text-yellow-400 text-slate-500"></i>
            </button>
          </div>
        </div>
      </div>
    </nav>

    <!-- MAIN CONTENT -->
    <main class="flex-1 w-full max-w-6xl mx-auto p-4 md:p-6 pb-24">
      <!-- === TAB 1: LIPID === -->
      <div id="lipid" class="tab-content active space-y-6">
        <header
          class="flex items-center gap-4 border-b border-yellow-200 dark:border-yellow-900/50 pb-4"
        >
          <div
            class="w-16 h-16 rounded-2xl bg-yellow-100 dark:bg-yellow-900 flex items-center justify-center text-3xl"
          >
            üåª
          </div>
          <div>
            <h2
              class="text-3xl font-black text-yellow-600 dark:text-yellow-400"
            >
              I. LIPID (CH·∫§T B√âO)
            </h2>
            <p class="text-slate-500 dark:text-slate-400">
              Ngu·ªìn nƒÉng l∆∞·ª£ng d·ª± tr·ªØ & B·∫£o v·ªá c∆° th·ªÉ
            </p>
          </div>
        </header>

        <div class="grid md:grid-cols-2 gap-6">
          <!-- Theory -->
          <div class="space-y-4">
            <div
              class="glass-panel p-5 rounded-xl border-l-4 border-yellow-500"
            >
              <h3 class="font-bold text-lg mb-2">1. Kh√°i ni·ªám & C·∫•u t·∫°o</h3>
              <p class="text-sm mb-2">
                L√† h·ªón h·ª£p c√°c este c·ªßa <strong>Glixerol</strong> v√†
                <strong>Axit b√©o</strong>.
              </p>
              <div
                class="bg-yellow-50 dark:bg-yellow-900/20 p-3 rounded text-center font-mono font-bold text-yellow-700 dark:text-yellow-300"
              >
                (R-COO)‚ÇÉC‚ÇÉH‚ÇÖ
              </div>
            </div>

            <div class="glass-panel p-5 rounded-xl">
              <h3 class="font-bold text-lg mb-2">2. T√≠nh ch·∫•t</h3>
              <ul class="text-sm space-y-2 list-disc list-inside">
                <li>
                  <strong>V·∫≠t l√Ω:</strong> Nh·∫π h∆°n n∆∞·ªõc, kh√¥ng tan trong n∆∞·ªõc,
                  tan trong benzen/xƒÉng.
                </li>
                <li>
                  <strong>H√≥a h·ªçc:</strong>
                  <ul class="pl-4 mt-1 space-y-1 list-circle text-xs">
                    <li>Th·ªßy ph√¢n (trong axit) -> Axit b√©o + Glixerol.</li>
                    <li>
                      <strong>X√† ph√≤ng h√≥a:</strong> ƒêun v·ªõi ki·ªÅm (NaOH) -> Mu·ªëi
                      (X√† ph√≤ng) + Glixerol.
                    </li>
                    <li>
                      Hydro h√≥a: Ch·∫•t b√©o l·ªèng -> Ch·∫•t b√©o r·∫Øn (B∆° th·ª±c v·∫≠t).
                    </li>
                  </ul>
                </li>
              </ul>
            </div>
          </div>

          <!-- Simulation/Visual -->
          <div
            class="glass-panel p-1 rounded-xl relative overflow-hidden h-80 flex flex-col"
          >
            <div
              class="absolute top-2 left-2 z-10 bg-yellow-100 dark:bg-yellow-900 px-2 py-1 rounded text-xs font-bold text-yellow-700 dark:text-yellow-300"
            >
              M√¥ h√¨nh ph√¢n t·ª≠ Triglyceride
            </div>
            <div
              id="canvas-lipid"
              class="w-full flex-1 bg-gradient-to-br from-yellow-50 to-orange-50 dark:from-slate-800 dark:to-slate-900"
            ></div>
          </div>
        </div>

        <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
          <div
            class="p-4 bg-white dark:bg-slate-800 rounded-xl shadow text-center"
          >
            <i class="fas fa-soap text-3xl text-yellow-500 mb-2"></i>
            <h4 class="font-bold text-sm">X√† ph√≤ng</h4>
          </div>
          <div
            class="p-4 bg-white dark:bg-slate-800 rounded-xl shadow text-center"
          >
            <i class="fas fa-hamburger text-3xl text-orange-500 mb-2"></i>
            <h4 class="font-bold text-sm">Th·ª±c ph·∫©m</h4>
          </div>
          <div
            class="p-4 bg-white dark:bg-slate-800 rounded-xl shadow text-center"
          >
            <i class="fas fa-gas-pump text-3xl text-green-500 mb-2"></i>
            <h4 class="font-bold text-sm">Nhi√™n li·ªáu</h4>
          </div>
          <div
            class="p-4 bg-white dark:bg-slate-800 rounded-xl shadow text-center"
          >
            <i class="fas fa-pills text-3xl text-blue-500 mb-2"></i>
            <h4 class="font-bold text-sm">D∆∞·ª£c ph·∫©m</h4>
          </div>
        </div>
      </div>

      <!-- === TAB 2: CARBOHYDRATE === -->
      <div id="carb" class="tab-content space-y-6">
        <header
          class="flex items-center gap-4 border-b border-green-200 dark:border-green-900/50 pb-4"
        >
          <div
            class="w-16 h-16 rounded-2xl bg-green-100 dark:bg-green-900 flex items-center justify-center text-3xl"
          >
            üçö
          </div>
          <div>
            <h2 class="text-3xl font-black text-green-600 dark:text-green-400">
              II. CARBOHYDRATE
            </h2>
            <p class="text-slate-500 dark:text-slate-400">
              Glucose, Saccaroz∆°, Tinh b·ªôt & Cellulose
            </p>
          </div>
        </header>

        <!-- Table Comparison -->
        <div
          class="overflow-x-auto rounded-xl shadow border border-slate-200 dark:border-slate-700"
        >
          <table class="w-full text-sm text-left">
            <thead
              class="bg-green-50 dark:bg-green-900/30 text-green-800 dark:text-green-200"
            >
              <tr>
                <th class="p-3">Ch·∫•t</th>
                <th class="p-3">C√¥ng th·ª©c</th>
                <th class="p-3">ƒê·∫∑c ƒëi·ªÉm</th>
                <th class="p-3">Ph·∫£n ·ª©ng ƒë·∫∑c tr∆∞ng</th>
              </tr>
            </thead>
            <tbody
              class="divide-y divide-slate-100 dark:divide-slate-700 bg-white dark:bg-slate-800"
            >
              <tr>
                <td class="p-3 font-bold">Glucoz∆°</td>
                <td class="p-3 font-mono">C‚ÇÜH‚ÇÅ‚ÇÇO‚ÇÜ</td>
                <td class="p-3">ƒê∆∞·ªùng ƒë∆°n, qu·∫£ ch√≠n.</td>
                <td class="p-3">
                  <span
                    class="px-2 py-1 bg-gray-100 dark:bg-gray-700 rounded text-xs"
                    >Tr√°ng b·∫°c</span
                  >
                </td>
              </tr>
              <tr>
                <td class="p-3 font-bold">Saccaroz∆°</td>
                <td class="p-3 font-mono">C‚ÇÅ‚ÇÇH‚ÇÇ‚ÇÇO‚ÇÅ‚ÇÅ</td>
                <td class="p-3">ƒê∆∞·ªùng ƒë√¥i, m√≠a.</td>
                <td class="p-3">
                  <span
                    class="px-2 py-1 bg-green-100 dark:bg-green-900 rounded text-xs"
                    >Th·ªßy ph√¢n</span
                  >
                </td>
              </tr>
              <tr>
                <td class="p-3 font-bold">Tinh b·ªôt</td>
                <td class="p-3 font-mono">(-C‚ÇÜH‚ÇÅ‚ÇÄO‚ÇÖ-)n</td>
                <td class="p-3">G·∫°o, ng√¥ (Chu·ªói xo·∫Øn).</td>
                <td class="p-3">
                  <span
                    class="px-2 py-1 bg-blue-100 dark:bg-blue-900 rounded text-xs text-blue-700 dark:text-blue-200"
                    >H·ªì tinh b·ªôt + Iot (Xanh)</span
                  >
                </td>
              </tr>
              <tr>
                <td class="p-3 font-bold">Cellulose</td>
                <td class="p-3 font-mono">(-C‚ÇÜH‚ÇÅ‚ÇÄO‚ÇÖ-)n</td>
                <td class="p-3">G·ªó, b√¥ng (Chu·ªói th·∫≥ng).</td>
                <td class="p-3">
                  <span
                    class="px-2 py-1 bg-yellow-100 dark:bg-yellow-900 rounded text-xs"
                    >Th·ªßy ph√¢n / +HNO3</span
                  >
                </td>
              </tr>
            </tbody>
          </table>
        </div>

        <!-- Detailed Cards -->
        <div class="grid md:grid-cols-2 gap-6">
          <div class="glass-panel p-5 rounded-xl border-t-4 border-green-500">
            <h3
              class="font-bold text-lg mb-2 text-green-600 dark:text-green-400"
            >
              1. Glucoz∆° & Saccaroz∆°
            </h3>
            <ul class="text-sm space-y-2">
              <li>
                <strong>Glucoz∆°:</strong> C√≥ nh√≥m -CHO (Andehit) -> Ph·∫£n ·ª©ng
                tr√°ng g∆∞∆°ng. L√™n men t·∫°o r∆∞·ª£u.
              </li>
              <li>
                <strong>Saccaroz∆°:</strong> Kh√¥ng c√≥ nh√≥m -CHO -> Kh√¥ng tr√°ng
                g∆∞∆°ng. Th·ªßy ph√¢n t·∫°o Glucoz∆° + Fructoz∆°.
              </li>
            </ul>
          </div>
          <div class="glass-panel p-5 rounded-xl border-t-4 border-blue-500">
            <h3 class="font-bold text-lg mb-2 text-blue-600 dark:text-blue-400">
              2. Tinh b·ªôt & Cellulose
            </h3>
            <ul class="text-sm space-y-2">
              <li>
                <strong>Tinh b·ªôt:</strong> Tan trong n∆∞·ªõc n√≥ng t·∫°o h·ªì d√°n. G·∫∑p
                Iot h√≥a xanh t√≠m. Ngu·ªìn nƒÉng l∆∞·ª£ng ch√≠nh.
              </li>
              <li>
                <strong>Cellulose:</strong> B·ªÅn, kh√¥ng tan. T·∫°o t∆° nh√¢n t·∫°o,
                gi·∫•y, thu·ªëc s√∫ng kh√¥ng kh√≥i.
              </li>
            </ul>
          </div>
        </div>
      </div>

      <!-- === TAB 3: PROTEIN === -->
      <div id="protein" class="tab-content space-y-6">
        <header
          class="flex items-center gap-4 border-b border-red-200 dark:border-red-900/50 pb-4"
        >
          <div
            class="w-16 h-16 rounded-2xl bg-red-100 dark:bg-red-900 flex items-center justify-center text-3xl"
          >
            ü•©
          </div>
          <div>
            <h2 class="text-3xl font-black text-red-600 dark:text-red-400">
              III. PROTEIN (ƒê·∫†M)
            </h2>
            <p class="text-slate-500 dark:text-slate-400">C∆° s·ªü c·ªßa s·ª± s·ªëng</p>
          </div>
        </header>

        <div class="grid md:grid-cols-3 gap-6">
          <!-- Concept -->
          <div class="glass-panel p-5 rounded-xl md:col-span-2">
            <h3 class="font-bold text-lg mb-3 text-red-600 dark:text-red-400">
              ƒê·∫∑c ƒëi·ªÉm & Vai tr√≤
            </h3>
            <p class="text-sm mb-3">
              L√† h·ª£p ch·∫•t cao ph√¢n t·ª≠ ƒë∆∞·ª£c t·∫°o t·ª´ c√°c
              <strong>Axit Amin</strong>. Ch·ª©a C, H, O, N (S, P...).
            </p>
            <div class="grid grid-cols-2 gap-4">
              <div class="p-3 bg-red-50 dark:bg-red-900/20 rounded-lg">
                <h4 class="font-bold text-xs uppercase mb-1">C·∫•u t·∫°o</h4>
                <p class="text-xs">Chu·ªói Polypeptit cu·ªôn l·∫°i.</p>
              </div>
              <div class="p-3 bg-red-50 dark:bg-red-900/20 rounded-lg">
                <h4 class="font-bold text-xs uppercase mb-1">Vai tr√≤</h4>
                <p class="text-xs">X√¢y d·ª±ng t·∫ø b√†o, Enzyme, Hormone.</p>
              </div>
            </div>
          </div>

          <!-- Properties List -->
          <div class="glass-panel p-5 rounded-xl">
            <h3 class="font-bold text-lg mb-3">T√≠nh ch·∫•t h√≥a h·ªçc</h3>
            <ul class="text-sm space-y-3">
              <li class="flex items-start gap-2">
                <span
                  class="bg-red-200 dark:bg-red-800 text-xs px-2 rounded font-bold mt-0.5"
                  >1</span
                >
                <span><strong>Th·ªßy ph√¢n:</strong> T·∫°o ra c√°c Axit Amin.</span>
              </li>
              <li class="flex items-start gap-2">
                <span
                  class="bg-red-200 dark:bg-red-800 text-xs px-2 rounded font-bold mt-0.5"
                  >2</span
                >
                <span
                  ><strong>ƒê√¥ng t·ª•:</strong> Khi ƒëun n√≥ng ho·∫∑c g·∫∑p axit/r∆∞·ª£u
                  (VD: Lu·ªôc tr·ª©ng).</span
                >
              </li>
              <li class="flex items-start gap-2">
                <span
                  class="bg-purple-200 dark:bg-purple-800 text-xs px-2 rounded font-bold mt-0.5"
                  >3</span
                >
                <span
                  ><strong>M√†u Biure:</strong> T√°c d·ª•ng Cu(OH)‚ÇÇ -> M√†u t√≠m ƒë·∫∑c
                  tr∆∞ng.</span
                >
              </li>
            </ul>
          </div>
        </div>
      </div>

      <!-- === TAB 4: POLYMER === -->
      <div id="polymer" class="tab-content space-y-6">
        <header
          class="flex items-center gap-4 border-b border-blue-200 dark:border-blue-900/50 pb-4"
        >
          <div
            class="w-16 h-16 rounded-2xl bg-blue-100 dark:bg-blue-900 flex items-center justify-center text-3xl"
          >
            üß©
          </div>
          <div>
            <h2 class="text-3xl font-black text-blue-600 dark:text-blue-400">
              IV. POLYMER & V·∫¨T LI·ªÜU
            </h2>
            <p class="text-slate-500 dark:text-slate-400">
              Ch·∫•t d·∫ªo, T∆°, Cao su, Composite
            </p>
          </div>
        </header>

        <div class="grid md:grid-cols-2 gap-6">
          <!-- 3D Chain Animation -->
          <div class="glass-panel p-1 rounded-xl relative h-64 overflow-hidden">
            <div
              class="absolute top-2 left-2 z-10 bg-blue-100 dark:bg-blue-900 px-2 py-1 rounded text-xs font-bold text-blue-700 dark:text-blue-300"
            >
              M√¥ ph·ªèng m·∫°ch Polymer
            </div>
            <div
              id="canvas-poly"
              class="w-full h-full bg-gradient-to-br from-blue-50 to-indigo-50 dark:from-slate-800 dark:to-slate-900"
            ></div>
          </div>

          <!-- Classification -->
          <div class="space-y-4">
            <div
              class="glass-panel p-4 rounded-xl flex items-center gap-4 hover:bg-blue-50 dark:hover:bg-blue-900/10 transition"
            >
              <i class="fas fa-shopping-bag text-3xl text-blue-500"></i>
              <div>
                <h4 class="font-bold">Ch·∫•t d·∫ªo (Nh·ª±a)</h4>
                <p class="text-xs text-slate-500">
                  PE, PVC, PP. T√≠nh d·∫ªo, nh·∫π, b·ªÅn.
                </p>
                <p class="text-xs font-mono mt-1 text-blue-600">(-CH‚ÇÇ-CH‚ÇÇ-)n</p>
              </div>
            </div>
            <div
              class="glass-panel p-4 rounded-xl flex items-center gap-4 hover:bg-pink-50 dark:hover:bg-pink-900/10 transition"
            >
              <i class="fas fa-tshirt text-3xl text-pink-500"></i>
              <div>
                <h4 class="font-bold">T∆° (S·ª£i)</h4>
                <p class="text-xs text-slate-500">
                  T·ª± nhi√™n (T·∫±m, B√¥ng), H√≥a h·ªçc (Nilon-6,6, Visco).
                </p>
              </div>
            </div>
            <div
              class="glass-panel p-4 rounded-xl flex items-center gap-4 hover:bg-slate-50 dark:hover:bg-slate-800 transition"
            >
              <i class="fas fa-car-side text-3xl text-slate-500"></i>
              <div>
                <h4 class="font-bold">Cao su & Composite</h4>
                <p class="text-xs text-slate-500">
                  ƒê√†n h·ªìi (L·ªëp xe). Composite: B·ªÅn, nh·∫π (V·ªè t√†u).
                </p>
              </div>
            </div>
          </div>
        </div>

        <div
          class="bg-red-50 dark:bg-red-900/20 p-4 rounded-xl border border-red-200 dark:border-red-800 flex items-start gap-3"
        >
          <i class="fas fa-exclamation-triangle text-red-500 mt-1"></i>
          <div>
            <h4 class="font-bold text-red-600 dark:text-red-400 text-sm">
              V·∫•n ƒë·ªÅ m√¥i tr∆∞·ªùng: R√°c th·∫£i nh·ª±a
            </h4>
            <p class="text-xs mt-1">
              Nh·ª±a kh√≥ ph√¢n h·ªßy. Gi·∫£i ph√°p: S·ª≠ d·ª•ng nh·ª±a sinh h·ªçc, t√°i ch·∫ø v√†
              h·∫°n ch·∫ø ƒë·ªì nh·ª±a d√πng m·ªôt l·∫ßn.
            </p>
          </div>
        </div>
      </div>

      <!-- === TAB 5: LAB (6 EXPERIMENTS) === -->
      <div id="lab" class="tab-content space-y-6">
        <h2
          class="text-3xl font-black text-purple-600 dark:text-purple-400 mb-6"
        >
          PH√íNG TH√ç NGHI·ªÜM ·∫¢O
        </h2>

        <div class="grid grid-cols-2 md:grid-cols-3 gap-4 mb-6">
          <button
            onclick="runExp(1)"
            class="lab-btn p-4 bg-white dark:bg-slate-800 rounded-xl shadow border hover:border-yellow-500 transition group flex flex-col items-center gap-2"
          >
            <i
              class="fas fa-soap text-3xl text-yellow-500 group-hover:scale-110 transition"
            ></i>
            <span class="font-bold text-sm">1. X√† ph√≤ng h√≥a</span>
          </button>
          <button
            onclick="runExp(2)"
            class="lab-btn p-4 bg-white dark:bg-slate-800 rounded-xl shadow border hover:border-gray-400 transition group flex flex-col items-center gap-2"
          >
            <i
              class="fas fa-magic text-3xl text-gray-400 group-hover:scale-110 transition"
            ></i>
            <span class="font-bold text-sm">2. Tr√°ng g∆∞∆°ng (Glucose)</span>
          </button>
          <button
            onclick="runExp(3)"
            class="lab-btn p-4 bg-white dark:bg-slate-800 rounded-xl shadow border hover:border-blue-700 transition group flex flex-col items-center gap-2"
          >
            <i
              class="fas fa-vial text-3xl text-blue-700 group-hover:scale-110 transition"
            ></i>
            <span class="font-bold text-sm">3. Iot + H·ªì tinh b·ªôt</span>
          </button>
          <button
            onclick="runExp(4)"
            class="lab-btn p-4 bg-white dark:bg-slate-800 rounded-xl shadow border hover:border-red-500 transition group flex flex-col items-center gap-2"
          >
            <i
              class="fas fa-egg text-3xl text-red-500 group-hover:scale-110 transition"
            ></i>
            <span class="font-bold text-sm">4. ƒê√¥ng t·ª• Protein</span>
          </button>
          <button
            onclick="runExp(5)"
            class="lab-btn p-4 bg-white dark:bg-slate-800 rounded-xl shadow border hover:border-purple-500 transition group flex flex-col items-center gap-2"
          >
            <i
              class="fas fa-tint text-3xl text-purple-500 group-hover:scale-110 transition"
            ></i>
            <span class="font-bold text-sm">5. Ph·∫£n ·ª©ng Biure</span>
          </button>
          <button
            onclick="runExp(6)"
            class="lab-btn p-4 bg-white dark:bg-slate-800 rounded-xl shadow border hover:border-green-500 transition group flex flex-col items-center gap-2"
          >
            <i
              class="fas fa-link text-3xl text-green-500 group-hover:scale-110 transition"
            ></i>
            <span class="font-bold text-sm">6. Tr√πng h·ª£p PE</span>
          </button>
        </div>

        <!-- Simulation Display -->
        <div
          class="relative w-full h-80 bg-slate-900 rounded-2xl shadow-inner border-4 border-slate-300 dark:border-slate-700 overflow-hidden flex flex-col items-center justify-center"
        >
          <div id="lab-instruction" class="text-white text-center z-20">
            <h3 class="text-xl font-bold mb-2">Ch·ªçn th√≠ nghi·ªám ph√≠a tr√™n</h3>
            <p class="text-sm opacity-70">
              Quan s√°t hi·ªán t∆∞·ª£ng h√≥a h·ªçc ƒë·∫∑c tr∆∞ng
            </p>
          </div>

          <!-- Exp 1: Saponification -->
          <div
            id="scene-soap"
            class="scene hidden w-full h-full flex items-end justify-center pb-8 relative"
          >
            <div class="absolute top-4 left-4 text-white text-sm">
              ƒêun ch·∫•t b√©o v·ªõi NaOH
            </div>
            <div
              class="w-32 h-40 bg-white/10 border-2 border-white/30 backdrop-blur rounded-b-xl relative overflow-hidden flex flex-col justify-end"
            >
              <div
                id="oil-layer"
                class="w-full h-1/2 bg-yellow-500/80 transition-all duration-2000"
              ></div>
              <!-- D·∫ßu -->
              <div id="water-layer" class="w-full h-1/2 bg-blue-300/30"></div>
            </div>
            <button
              onclick="makeSoap()"
              class="absolute bottom-4 px-4 py-2 bg-yellow-600 text-white rounded font-bold hover:bg-yellow-500"
            >
              ƒêun n√≥ng & Khu·∫•y
            </button>
            <div
              id="soap-froth"
              class="absolute top-1/2 opacity-0 transition-opacity duration-2000 text-white font-bold text-sm bg-white/20 p-2 rounded"
            >
              H·ªón h·ª£p ƒë·ªìng nh·∫•t (X√† ph√≤ng)
            </div>
          </div>

          <!-- Exp 2: Mirror -->
          <div
            id="scene-mirror"
            class="scene hidden w-full h-full flex items-center justify-center relative"
          >
            <div class="absolute top-4 left-4 text-white text-sm">
              Glucose + AgNO‚ÇÉ/NH‚ÇÉ (t¬∞)
            </div>
            <div
              id="test-tube-mirror"
              class="w-16 h-48 border-2 border-gray-400 rounded-b-3xl bg-white/5 relative overflow-hidden transition-all duration-2000"
            >
              <div
                class="absolute bottom-0 w-full h-1/3 bg-transparent"
                id="mirror-liquid"
              ></div>
            </div>
            <button
              onclick="mirrorReaction()"
              class="absolute bottom-4 px-4 py-2 bg-gray-600 text-white rounded font-bold hover:bg-gray-500"
            >
              Th√™m dung d·ªãch & ƒêun
            </button>
          </div>

          <!-- Exp 3: Starch Iodine -->
          <div
            id="scene-starch"
            class="scene hidden w-full h-full flex items-center justify-center relative"
          >
            <div
              class="w-24 h-24 bg-white rounded-full flex items-center justify-center shadow-lg relative overflow-hidden transition-colors duration-1000"
              id="potato-slice"
            >
              <span class="text-xs text-slate-400">Khoai t√¢y</span>
            </div>
            <div
              id="drop-iodine"
              class="absolute top-10 w-4 h-6 bg-yellow-700 rounded-full opacity-0 transition-all duration-500"
            ></div>
            <button
              onclick="dropIodine()"
              class="absolute bottom-4 px-4 py-2 bg-blue-800 text-white rounded font-bold hover:bg-blue-700"
            >
              Nh·ªè Iot
            </button>
          </div>

          <!-- Exp 4: Protein Coagulation -->
          <div
            id="scene-coag"
            class="scene hidden w-full h-full flex flex-col items-center justify-center relative"
          >
            <div
              class="w-32 h-32 rounded-full border-4 border-white bg-slate-800 relative overflow-hidden flex items-center justify-center"
            >
              <!-- Egg White -->
              <div
                id="egg-white"
                class="w-full h-full bg-transparent opacity-80 transition-all duration-2000"
              ></div>
              <!-- Yolk -->
              <div
                class="absolute w-12 h-12 bg-yellow-500 rounded-full z-10"
              ></div>
            </div>
            <div
              id="steam"
              class="hidden absolute top-10 text-white text-2xl animate-pulse"
            >
              <i class="fas fa-wind"></i>
            </div>
            <button
              onclick="cookEgg()"
              class="absolute bottom-4 px-4 py-2 bg-red-600 text-white rounded font-bold hover:bg-red-500"
            >
              <i class="fas fa-fire"></i> ƒêun n√≥ng
            </button>
          </div>

          <!-- Exp 5: Biuret -->
          <div
            id="scene-biuret"
            class="scene hidden w-full h-full flex items-end justify-center pb-10 relative"
          >
            <div
              class="w-16 h-48 border-2 border-white/30 rounded-b-2xl bg-white/5 relative overflow-hidden flex items-end"
            >
              <div
                id="biuret-liquid"
                class="w-full h-24 bg-transparent transition-colors duration-1000"
              ></div>
            </div>
            <div class="absolute top-10 right-1/3 text-xs text-white">
              L√≤ng tr·∫Øng tr·ª©ng + NaOH + CuSO‚ÇÑ
            </div>
            <button
              onclick="biuretTest()"
              class="absolute bottom-4 px-4 py-2 bg-purple-600 text-white rounded font-bold hover:bg-purple-500"
            >
              Th√™m thu·ªëc th·ª≠
            </button>
          </div>

          <!-- Exp 6: Polymerization -->
          <div
            id="scene-poly"
            class="scene hidden w-full h-full flex items-center justify-center relative overflow-hidden"
          >
            <div
              id="monomers"
              class="flex gap-4 transition-all duration-2000 absolute"
            >
              <!-- JS generated -->
            </div>
            <button
              onclick="startPoly()"
              class="absolute bottom-4 px-4 py-2 bg-green-600 text-white rounded font-bold hover:bg-green-500"
            >
              Tr√πng h·ª£p (t¬∞, p, xt)
            </button>
            <div
              id="poly-result"
              class="hidden text-white font-mono text-lg font-bold bg-blue-600/50 p-2 rounded z-10"
            >
              (-CH‚ÇÇ-CH‚ÇÇ-)n
            </div>
          </div>
        </div>
      </div>
    </main>

    <script>
      // --- 1. NAVIGATION & THEME ---
      const themeToggle = document.getElementById("themeToggle");
      const html = document.documentElement;

      themeToggle.addEventListener("click", () => {
        html.classList.toggle("dark");
        const icon = themeToggle.querySelector("i");
        if (html.classList.contains("dark")) {
          icon.classList.remove("fa-moon", "text-slate-500");
          icon.classList.add("fa-sun", "text-yellow-400");
        } else {
          icon.classList.remove("fa-sun", "text-yellow-400");
          icon.classList.add("fa-moon", "text-slate-500");
        }
        // Re-render canvases if needed for theme colors
        initMolecules();
      });

      function switchTab(tabId) {
        document
          .querySelectorAll(".tab-content")
          .forEach((el) => el.classList.remove("active"));
        document.getElementById(tabId).classList.add("active");

        // Highlight Menu
        document.querySelectorAll(".nav-btn").forEach((btn) => {
          btn.classList.remove(
            "bg-slate-200",
            "dark:bg-slate-700",
            "shadow-inner"
          );
        });
        const activeBtn = document.querySelector(
          `button[data-target="${tabId}"]`
        );
        if (activeBtn)
          activeBtn.classList.add(
            "bg-slate-200",
            "dark:bg-slate-700",
            "shadow-inner"
          );

        if (tabId === "lipid" || tabId === "polymer") {
          setTimeout(initMolecules, 100);
        }
      }

      // --- 2. THREE.JS MOLECULES ---
      function initThree(containerId, type) {
        const container = document.getElementById(containerId);
        if (!container) return;
        container.innerHTML = "";

        const scene = new THREE.Scene();
        const camera = new THREE.PerspectiveCamera(
          50,
          container.clientWidth / container.clientHeight,
          0.1,
          1000
        );
        const renderer = new THREE.WebGLRenderer({
          alpha: true,
          antialias: true,
        });
        renderer.setSize(container.clientWidth, container.clientHeight);
        container.appendChild(renderer.domElement);

        const light = new THREE.DirectionalLight(0xffffff, 1);
        light.position.set(2, 2, 5);
        scene.add(light);
        scene.add(new THREE.AmbientLight(0x606060));

        const group = new THREE.Group();

        if (type === "lipid") {
          // Simplified Triglyceride: Glycerol backbone + 3 tails
          const bbColor = 0xeab308;
          const tailColor = 0x9ca3af;
          // Backbone
          for (let i = 0; i < 3; i++) {
            const sphere = new THREE.Mesh(
              new THREE.SphereGeometry(0.3, 16, 16),
              new THREE.MeshLambertMaterial({ color: bbColor })
            );
            sphere.position.set(-2, i * 0.8 - 0.8, 0);
            group.add(sphere);
            // Tails
            for (let j = 0; j < 8; j++) {
              const tail = new THREE.Mesh(
                new THREE.SphereGeometry(0.2, 16, 16),
                new THREE.MeshLambertMaterial({ color: tailColor })
              );
              tail.position.set(
                -2 + (j + 1) * 0.6,
                i * 0.8 - 0.8 + Math.sin(j) * 0.2,
                0
              );
              group.add(tail);
            }
          }
        } else if (type === "poly") {
          // Polymer Chain
          const color = 0x3b82f6;
          for (let i = 0; i < 20; i++) {
            const sphere = new THREE.Mesh(
              new THREE.SphereGeometry(0.25, 16, 16),
              new THREE.MeshLambertMaterial({ color: color })
            );
            sphere.position.set(
              i * 0.4 - 4,
              Math.sin(i * 0.5) * 0.5,
              Math.cos(i * 0.5) * 0.5
            );
            group.add(sphere);
            if (i > 0) {
              // bond logic simplified
            }
          }
        }

        scene.add(group);
        camera.position.z = 5;

        const animate = () => {
          requestAnimationFrame(animate);
          group.rotation.y += 0.005;
          if (type === "poly") group.rotation.x += 0.01;
          renderer.render(scene, camera);
        };
        animate();
      }

      function initMolecules() {
        if (document.getElementById("lipid").classList.contains("active"))
          initThree("canvas-lipid", "lipid");
        if (document.getElementById("polymer").classList.contains("active"))
          initThree("canvas-poly", "poly");
      }

      // --- 3. EXPERIMENTS LOGIC ---
      function runExp(id) {
        document
          .querySelectorAll(".scene")
          .forEach((el) => el.classList.add("hidden"));
        document.getElementById("lab-instruction").classList.add("hidden");

        if (id === 1) {
          // Soap
          document.getElementById("scene-soap").classList.remove("hidden");
          // Reset
          document.getElementById("oil-layer").style.height = "50%";
          document.getElementById("oil-layer").classList.remove("bg-white/90");
          document.getElementById("soap-froth").style.opacity = "0";
        } else if (id === 2) {
          // Mirror
          document.getElementById("scene-mirror").classList.remove("hidden");
          document.getElementById("test-tube-mirror").style.background =
            "rgba(255,255,255,0.05)";
          document.getElementById("mirror-liquid").style.backgroundColor =
            "transparent";
        } else if (id === 3) {
          // Iodine
          document.getElementById("scene-starch").classList.remove("hidden");
          document.getElementById("potato-slice").style.backgroundColor =
            "white";
          document.getElementById("drop-iodine").style.opacity = "0";
          document.getElementById("drop-iodine").style.top = "10px";
        } else if (id === 4) {
          // Coagulation
          document.getElementById("scene-coag").classList.remove("hidden");
          document.getElementById("egg-white").style.backgroundColor =
            "transparent";
          document.getElementById("steam").classList.add("hidden");
        } else if (id === 5) {
          // Biuret
          document.getElementById("scene-biuret").classList.remove("hidden");
          document.getElementById("biuret-liquid").className =
            "w-full h-24 bg-yellow-100/20 transition-colors duration-1000"; // Egg white initial
        } else if (id === 6) {
          // Poly
          document.getElementById("scene-poly").classList.remove("hidden");
          document.getElementById("poly-result").classList.add("hidden");
          const m = document.getElementById("monomers");
          m.innerHTML = "";
          m.className = "flex gap-4 transition-all duration-2000 absolute";
          for (let i = 0; i < 6; i++) {
            m.innerHTML += `<div class="w-8 h-8 rounded-full bg-blue-500 flex items-center justify-center text-[8px] text-white border border-white">C‚ÇÇH‚ÇÑ</div>`;
          }
        }
      }

      // Exp 1: Soap
      function makeSoap() {
        const oil = document.getElementById("oil-layer");
        const froth = document.getElementById("soap-froth");
        // Mixing animation
        oil.style.height = "100%"; // Mix
        oil.style.backgroundColor = "rgba(255,255,255,0.9)"; // White soap
        froth.style.opacity = "1";
      }

      // Exp 2: Mirror
      function mirrorReaction() {
        const liquid = document.getElementById("mirror-liquid");
        const tube = document.getElementById("test-tube-mirror");
        liquid.style.backgroundColor = "#e2e8f0"; // Silver liquid
        setTimeout(() => {
          tube.style.background =
            "linear-gradient(45deg, #cbd5e1, #f1f5f9, #94a3b8)"; // Silver coating
          tube.style.boxShadow = "0 0 15px rgba(255,255,255,0.8)";
        }, 1000);
      }

      // Exp 3: Iodine
      function dropIodine() {
        const drop = document.getElementById("drop-iodine");
        const potato = document.getElementById("potato-slice");

        drop.style.opacity = "1";
        drop.style.top = "40px"; // Drop down

        setTimeout(() => {
          drop.style.opacity = "0";
          potato.style.backgroundColor = "#312e81"; // Blue-violet (Indigo 900)
        }, 600);
      }

      // Exp 4: Coagulation
      function cookEgg() {
        const egg = document.getElementById("egg-white");
        const steam = document.getElementById("steam");
        steam.classList.remove("hidden");
        setTimeout(() => {
          egg.style.backgroundColor = "white"; // Solid white
        }, 1000);
      }

      // Exp 5: Biuret
      function biuretTest() {
        const liq = document.getElementById("biuret-liquid");
        liq.classList.add("bg-purple-600/80"); // Violet
        liq.classList.remove("bg-yellow-100/20");
      }

      // Exp 6: Poly
      function startPoly() {
        const m = document.getElementById("monomers");
        m.classList.remove("gap-4");
        m.classList.add("gap-0"); // Join together
        setTimeout(() => {
          document.getElementById("poly-result").classList.remove("hidden");
        }, 2000);
      }

      // Init
      window.onload = () => {
        switchTab("lipid");
      };
    </script>
  </body>
</html>
